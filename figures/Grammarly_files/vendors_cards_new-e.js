/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"++u8":function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(n||(n={}))},"+5S2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r}));var n={};a.r(n),a.d(n,"getNormalizedPosition",(function(){return h})),a.d(n,"getPositionInViewport",(function(){return f})),a.d(n,"isAboveViewportTop",(function(){return b})),a.d(n,"willFitViewport",(function(){return y})),a.d(n,"getCardPadding",(function(){return C})),a.d(n,"ContentOffset",(function(){return v})),a.d(n,"InfinityScrollGetter",(function(){return O})),a.d(n,"Mover",(function(){return S}));var r={};a.r(r),a.d(r,"CARDS_BEYOND_VIEWPORT",(function(){return x})),a.d(r,"CARDS_AROUND_ACTIVE",(function(){return T})),a.d(r,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return j})),a.d(r,"manageCardsVisibility",(function(){return N})),a.d(r,"freezeActiveCardOnCardsListUpdate",(function(){return L})),a.d(r,"manageCardsInert",(function(){return P})),a.d(r,"moveNearestItemIntoViewport",(function(){return D}));var i={};a.r(i),a.d(i,"getScrollObserver",(function(){return F})),a.d(i,"getPlaceholderState",(function(){return $})),a.d(i,"getAssistantHeight",(function(){return R})),a.d(i,"getCardsViewportState",(function(){return M})),a.d(i,"getCardsRect",(function(){return _}));var o=a("OA+g"),s=a("I7vG"),l=a("lrqh"),c=a("6fbX"),d=a("zR/0"),p=a("BeBM"),u=a("NW9S"),m=a("NbEL"),g=a("EjiM");const h=(e,t)=>a=>{const n=u.a.FromViewportTop.ISO.unwrap(e),r=u.a.FromViewportTop.ISO.unwrap(a),i=n-r;return u.a.FromViewportTop.ISO.wrap(i<-t.top?n+t.top:i>t.bottom?n-t.bottom:r)},f=(e,t,a)=>n=>{const r=Object(g.b)({cardTop:n,cardHeight:e.positionState.height,viewportHeight:a.height,padding:t});return u.a.FromViewportTop.ISO.modify(u.a.concatC(-r))(n)},b=e=>t=>u.b.FromWindowTop.ISO.modify(u.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,y=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(a),l.g.map(({value:e})=>0===Object(g.b)({cardTop:r.converters.windowToViewport(n),cardHeight:e.positionState.height,viewportHeight:r.viewport.height,padding:{before:0,after:0}}))),l.g.unsafeGet)},C=(e,t)=>Object(s.pipe)(t.get(e),l.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),l.g.map(e=>e.positionState.height),l.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),l.g.map(e=>e.positionState.height),l.g.getOrElse(()=>0))})),l.g.getOrElse(()=>({before:0,after:0})));var v,O,k,S;!function(e){e.CARD_CONTENT_OFFSET_REM=3.4,e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=e.CARD_CONTENT_OFFSET_REM+1,e.contentOffsetGetter=(t=e.CARD_CONTENT_OFFSET_REM,a=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM)=>(e,n)=>Math.round((e?a:t)*n)}(v||(v={})),(k=O||(O={})).cardPositionGetter=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),l.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),l.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(a),l.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${a} does not exist in lens ${t}`})),l.b.map(({value:e})=>Object(s.pipe)(n,l.g.fold(()=>Object(o.flow)(u.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop,r.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},k.cardPositionInViewportGetter=(e,t)=>(a,n)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),l.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),l.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(a),l.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${a} does not exist in lens ${t}`})),l.b.chain(({value:t})=>Object(s.pipe)(n,l.g.map(r.converters.windowToViewport),l.g.alt(()=>l.g.some(Object(o.flow)(u.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop)(t.positionState.absTop))),l.g.map(f(t,C(a,e),r.viewport)),l.g.map(r.converters.viewportToWindow),l.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,a,n)=>{const r=n.viewport.get(),i=n.scrollTop.get(),o=u.a.converters(i,u.b.FromWindowTop.ISO.unwrap(r.top),n.paddingTop.get());return l.b.tryCatchError(()=>Object(s.pipe)(p.e.getLens(a),l.g.chain(t=>t.items.get(e)),l.g.map(e=>u.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),l.g.map(e=>o.absTopToViewportTop(e)),l.g.fold(()=>{throw new c.b("Cannot get offset for unknown card")},e=>{const a=o.windowToViewport(t);return u.a.FromViewportTop.ISO.unwrap(e)-u.a.FromViewportTop.ISO.unwrap(a)})))};e.moveCardToPositionSyncGetter=(e,a)=>n=>Object(s.pipe)(t(n.id,n.position,e.get(),a),l.b.chain(e=>a.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,a)=>n=>Object(s.pipe)(t(n.id,n.position,e.get(),a),l.b.fold(e=>d.a.throwError(e),e=>a.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(S||(S={}));var w=a("GUi3"),A=a("+w1e"),E=a("TC4P"),I=a("gy42");const x=5,T=100,j={cardsBeyondViewport:x,cardsAroundActive:T},N=(e,t,a,n,r=j,i=I.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&E.a.isAnimatable(e)&&e.visualState.incomplete?(n.next({type:A.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),a.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),c=Object(g.h)(a)(s,t.viewport,t.scrollTop,t.paddingTop,i).pipe(d.a.map(({viewport:e,scrollTop:t,paddingTop:a})=>({viewport:e,scrollTop:t,paddingTop:a,completeTransition:o})),d.a.map(Object(g.g)({cardsBeyondViewport:r.cardsBeyondViewport,cardsAroundActive:r.cardsAroundActive,changePosition:a})));return{id:"manageCardsVisibility",when:w.a.isWithAlertsId,what:p.e.Effect.Applicator.create(c)}},L=(e,t,a)=>{const n=Object(s.pipe)(e,d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t}))),Object(g.a)(a),d.a.switchMap(I.b.Scheduler.rafScheduler),d.a.filter(e=>0!==e),d.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:w.a.isWithAlertsId,what:p.e.Effect.Applicator.create(d.a.mergeStatic(d.a.mergeStatic(n).pipe(d.a.switchMapTo(d.a.NEVER))))}},P=(e,t,a,n=I.b.Scheduler.rafScheduler)=>{const r=e.pipe(d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),i=Object(g.h)(a)(r,t.viewport,t.scrollTop,t.paddingTop,n).pipe(d.a.map(Object(g.c)(a)));return{id:"manageCardsInert",when:w.a.isWithAlertsId,what:p.e.Effect.Applicator.create(i)}},D=(e,t,a,n,r,i=I.b.Scheduler.rafScheduler)=>{const o=t.pipe(d.a.map(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),c=Object(g.h)(r)(o,n.viewport,n.scrollTop,n.paddingTop,i).pipe(d.a.switchMap(t=>e.pipe(d.a.withLatestFrom(o),d.a.switchMap(([,e])=>Object(s.pipe)(e,l.g.map(Object(g.e)(a,t)),l.g.getOrElse(()=>d.a.EMPTY))))));return{id:"moveNearestItemIntoViewport",when:w.a.isWithAlertsId,what:p.e.Effect.Applicator.create(c.pipe(d.a.switchMapTo(d.a.NEVER)))}};var B=a("D9EC");const F=e=>I.b.toBooleanWithDebounce(e.scrollTop.pipe(d.a.skip(1)),100,!0).pipe(d.a.startWith(!1),d.a.shareReplay({bufferSize:1,refCount:!0})),$=(e,t)=>{const a=F(t),n=e.view(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})));return d.a.combineLatestStatic(d.a.combineLatestStatic(a,n.pipe(d.a.map(l.g.forAll(({currentLens:e})=>Object(s.pipe)(p.k.getActiveItem(e),l.g.forAll(e=>!E.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),B.a).pipe(d.a.distinctUntilChanged()),n.pipe(d.a.filter(l.g.forAll(e=>e.currentLens.isCardsHeightValid)),d.a.map(l.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(p.k.getActiveItem(e),l.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),l.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),d.a.distinctUntilChanged(l.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:l.g.none).pipe(d.a.startWith(l.g.none),d.a.shareReplay({bufferSize:1,refCount:!0}))},R=(e,t,a)=>{return Object(g.f)(a)(e.view(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))).pipe(d.b.compact,d.a.map(({currentLens:e})=>e.cardsHeight),d.a.startWith(0),d.a.combineLatest(t.paddingTop,t.viewport,(e,t,a)=>e+t+u.b.FromWindowTop.ISO.unwrap(a.top)))},M=(e,t,a)=>{return Object(g.f)(a)(e.view(p.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))).pipe(d.a.switchMap(l.g.fold(()=>d.a.of(m.a.hidden),e=>e.currentLens.items.size>0?d.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(d.a.map(([t,a,n])=>{const r=u.a.converters(t,u.b.FromWindowTop.ISO.unwrap(a.top),n),i=e.currentLens.items,c=Object(s.pipe)(i.getAt(0),l.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(u.a.AbsTop.ISO.wrap,r.absTopToViewportTop))),l.g.unsafeGet),d=l.g.unsafeGet(i.getAt(i.size-1)),p=u.a.AbsTop.ISO.wrap(d.positionState.absTop),g=d.positionState.height,h=r.absTopToViewportTop(p);return u.a.FromViewportTop.ISO.unwrap(h)+g<0?m.a.above:u.a.FromViewportTop.ISO.unwrap(c)>a.height?m.a.below:m.a.hidden})):d.a.of(m.a.hidden))),d.a.distinctUntilChanged(),d.a.debounce(e=>e===m.a.hidden?d.a.EMPTY:d.a.timer(300)),d.a.shareReplay({bufferSize:1,refCount:!0}))},_=(e,t)=>{const a=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(p.e.getLens).get(),l.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),l.g.map(e=>{const n=Object(o.flow)(u.a.AbsTop.ISO.wrap,a.converters.absTopToViewportTop,a.converters.viewportToWindow)(e.positionState.absTop);return{top:n,bottom:u.b.FromWindowTop.ISO.modify(u.a.concatC(t))(n)}}))))}},"+w1e":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return l}));var n,r,i,o,s,l,c=a("D9EC"),d=a("6fbX"),p=a("UEGg"),u=a("++u8");!function(e){let t,a,n;function r(t){return t.type===e.Type.takeawayCorrectlyDetected||t.type===e.Type.takeawayIncorrectlyDetected}function i(t){return t.type===e.Type.bulkApply}function o(t){return t.type===e.Type.bulkDismiss}function s(t){return t.type===e.Type.bulkIgnore}function l(t){return t.type===e.Type.bulkHighlight}function d(t){return t.type===e.Type.bulkUndo}function m(t){return t.type===e.Type.bulkIndividualUndo}function g(t){return t.type===e.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(a=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case p.a.Type.super:return a.superCard;case p.a.Type.default:default:return a.defaultCard}},e.isAlertApplyAction=function(t){return t.type===e.Type.alertApply},e.isAlertFeedbackAction=function(t){return t.type===e.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(t){return t.type===e.Type.takeawayDismiss},e.isTakeawayResolveAction=function(t){return t.type===e.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=r,e.isTakeawayAction=function(t){return r(t)||t.type===e.Type.takeawayDismiss||t.type===e.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(t){return t.type===e.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(t){return t.type===e.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(t){return t.type===e.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(t){return t.type===e.Type.alertIgnore},e.isAlertResolveAction=function(t){return t.type===e.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(t){return t.type===e.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(t){return t.type===e.Type.alertApplyFormSubmit},e.isGbPromptApply=function(t){return t.type===e.Type.gbPromptApply},e.isGbPromptCreateRule=function(t){return t.type===e.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(t){return t.type===e.Type.gbPromptDismiss},e.isGbPromptShow=function(t){return t.type===e.Type.gbPromptShow},e.isMuteCategoryAction=function(t){return t.type===e.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(t){return t.type===e.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(t){return t.type===e.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(t){return t.type===e.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(t){return t.type===e.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(t){return t.type===e.Type.hover},e.isAlertCardShow=function(t){return t.type===e.Type.alertCardShow},e.isBulkAcceptItemShow=function(t){return t.type===e.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(t){return t.type===e.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(t){return t.type===e.Type.alertMinicardButtonClick},e.isMiniItemClick=function(t){return t.type===e.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===u.a.Type.collapseButtonClick},e.isOnboardingClose=function(t){return t.type===e.Type.onboardingClose},e.isNavigation=function(t){return t.type===e.Type.openSetGoals||t.type===e.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(t){return t.type===e.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(t){return t.type===e.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(t){return t.type===e.Type.changeUserInput},e.isFocusUserInput=function(t){return t.type===e.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=l,e.isBulkUndo=d,e.isBulkIndividualUndo=m,e.isBulkLooksGood=g,e.isBulkAction=Object(c.p)(i,o,s,l,m,g,d),e.isMutedAlertSuggestionsManagementClick=function(t){return t.type===e.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(t){return t.type===e.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some(e=>e.type===t)}}(n=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(t){return t.type===e.Type.openIdeasGallery}}(n||(n={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(r||(r={})),function(e){e.isReviewEdit=function(e){return e.type===n.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===n.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===n.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function a(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=a,e.isCardExpand=function(e){return a(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(l||(l={})),Object(d.e)(void 0)},"0A/6":function(e,t,a){"use strict";a.d(t,"a",(function(){return pe}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("vOOZ"),s=a("LNSM"),l=a("lrqh"),c=a("9T0W"),d=a("+w1e"),p=a("D/5U"),u=a("sWLkM"),m=a("rq0W");const g=({children:e,mount:t})=>n.createElement(o.a.div,{"data-role":"animation-wrapper",className:p.a.animationWrapper,mount:t},e),h=e=>Object(i.pipe)(l.g.fromNullable(e.activeAlert),l.g.fold(()=>e.id,e=>e.id));class f extends n.Component{constructor(){super(...arguments),this._elementState=c.a.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:a}=this.props;if(!t.visualState.incomplete)return n.createElement(g,{mount:this.props.mount},n.createElement(o.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const f=a||m.c,{main:b,shade:y}=f(t.visualState),C=s.a.create(void 0===y?l.g.none:Object(i.pipe)(t.visualState.from,l.g.map(e=>({state:e,className:y}))));return!Boolean(b)&&l.g.isNone(C.get())&&requestAnimationFrame(()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),n.createElement(c.a.Context.Provider,{value:this._elementState},n.createElement(g,{mount:this.props.mount},C.view(Object(r.flow)(l.g.map(({state:a,className:r})=>n.createElement(o.a.div,{className:r,key:"shade"+a+h(t),onAnimationEnd:a=>{u.b.get(a.animationName)!==r&&p.b.get(a.animationName)!==r||(e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>C.set(l.g.none)))}},this._stateToElement(a))),l.g.toUndefined)),n.createElement(o.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var b=a("9NHN"),y=a("ax6a"),C=a("e12y"),v=a("WIwS"),O=a("ps/9"),k=a("3rlE"),S=a("BugA");class w extends n.Component{constructor(){super(...arguments),this._ref=n.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:a,children:r,counter:i,className:s,hideActivateButton:l,hideDot:c}=this.props;return n.createElement(o.a.div,Object.assign({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const n=e();a.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:n},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,B.wrapper,null!=c&&c?null:B.miniCard)),n.createElement(S.a,Object.assign({},Object(b.c)(B.contentWrapper,null!=c&&c?B.contentWrapperWithoutDot:B.contentWrapperWithDot)),r),n.createElement("div",{className:B.iconContainer},i&&n.createElement("div",{className:A},i),null!=l&&l?null:n.createElement("div",{className:E},n.createElement(k.d.Arrow,{className:B.activeTopIcon}),n.createElement(k.d.Arrow,{className:B.activeBottomIcon}))))}}const A=C.a.joinClasses(["baseMiniCounterContainer",C.a.style({position:"absolute",height:C.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),E=C.a.joinClasses(["baseMiniActivateBtnSelector",C.a.style({position:"absolute",top:0,right:0,height:C.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",background:y.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),I={position:"relative",display:"flex",overflow:"hidden",borderRadius:C.a.rem(O.t),background:y.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:C.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},x={overflow:"hidden",color:v.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:C.a.rem(1.5)},T={margin:`0 ${C.a.rem(3)} 0 ${C.a.rem(2)}`},j={paddingLeft:C.a.rem(.5)},N={position:"absolute",top:0,right:C.a.rem(.5),bottom:0,display:"flex"},L={display:"flex",margin:`${C.a.rem(.1)} 0 ${C.a.rem(-1.25)}`,transform:"rotate(180deg)"},P={$nest:{"&:before":{position:"absolute",width:C.a.px(10),height:C.a.px(10),borderRadius:C.a.percent(50),content:"''",transform:"scale(.5)"}}},D={$nest:{"&:before":{margin:`auto 0 auto ${C.a.rem(.75)}`}}},B=C.a.stylesheet({wrapper:[I],contentWrapper:[x],contentWrapperWithDot:[T],contentWrapperWithoutDot:[j],iconContainer:[N],activeTopIcon:[L],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[P],miniCard:[P,D]});var F=a("qZUR");class $ extends n.Component{constructor(){super(...arguments),this._ref=n.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:a,children:r,counter:i,className:s,hideActivateButton:l,hideDot:c,sduiStyle:p}=this.props;return n.createElement(o.a.div,Object.assign({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const n=e();a.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:n},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,null!=p&&p?X.sduiWrapper:X.wrapper,null!=c&&c?null:X.miniCard)),n.createElement(S.a,Object.assign({},Object(b.c)(X.contentWrapper,null!=c&&c?X.contentWrapperWithoutDot:X.contentWrapperWithDot)),r),n.createElement("div",{className:X.iconContainer},i&&n.createElement("div",{className:R},i),null!=l&&l?null:n.createElement("div",{className:M},n.createElement(k.d.Arrow,{className:X.activeTopIcon}),n.createElement(k.d.Arrow,{className:X.activeBottomIcon}))))}}const R=C.a.joinClasses(["baseMiniCounterContainer",C.a.style({position:"absolute",height:C.a.percent(100),top:0,right:0,zIndex:O.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),M=C.a.joinClasses(["baseMiniActivateBtnSelector",C.a.style({position:"absolute",top:0,right:0,height:C.a.percent(100),zIndex:O.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),_={position:"relative",display:"flex",overflow:"hidden",borderRadius:C.a.rem(C.c.radius2),background:y.a.CoreNeutral0,boxShadow:F.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral10,transitionDuration:C.a.seconds(.2)},"&:focus":{background:y.a.CoreNeutral10,boxShadow:`${F.a.z100}, 0 0 0 2px rgb(99 142 235)`,outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},W={boxShadow:F.b.llamaShadowToken},H={overflow:"hidden",color:v.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:C.a.rem(1.5)},G={margin:`0 ${C.a.rem(3)} 0 ${C.a.rem(2)}`},V={paddingLeft:C.a.rem(.5)},q={position:"absolute",top:0,right:C.a.rem(.5),bottom:0,display:"flex"},z={display:"flex",margin:`${C.a.rem(.1)} 0 ${C.a.rem(-1.25)}`,transform:"rotate(180deg)"},U={$nest:{"&:before":{position:"absolute",width:C.a.px(10),height:C.a.px(10),borderRadius:C.a.percent(50),content:"''",transform:"scale(.5)"}}},Y={$nest:{"&:before":{margin:`auto 0 auto ${C.a.rem(.75)}`}}},X=C.a.stylesheet({wrapper:[_],sduiWrapper:[_,W],contentWrapper:[H],contentWrapperWithDot:[G],contentWrapperWithoutDot:[V],iconContainer:[q],activeTopIcon:[z],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[U],miniCard:[U,Y]});var K,Z=a("D9EC"),Q=a("rk+4"),J=a("bO3R"),ee=a("zR/0"),te=a("3bJT");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(K||(K={}));const ae=({actions:e,isLastCard:t})=>{const a=n.useContext(Q.a.Context).successLens.fixedText.titles,r=s.a.create(K.stage0),i=()=>e.next({type:d.b.Type.switchToNext});return n.createElement(o.a.div,{className:de.successWrapper},n.createElement(S.i,{className:de.successText,onAnimationEnd:()=>{r.set(K.stage1)}},a[Object(Z.q)(a.length)]),n.createElement(o.a.span,null,r.view(e=>e>=K.stage1&&n.createElement("span",{onAnimationEnd:()=>r.set(K.stage2)},n.createElement(k.d.CheckmarkAnimated,{className:de.successCheckMark})))),n.createElement(o.a.span,{className:de.successBtnHolder},t.pipe(ee.a.combineLatest(r,(e,t)=>t<K.stage2?null:e?n.createElement(J.a.Caps,{className:de.doneBtn,name:"done",key:"done-btn",onClick:i},"Done"):n.createElement(J.a.Caps,{className:de.successBtn,name:"next",key:"next-card",onClick:i},"Next")))))},ne=C.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),re={fontWeight:"bold",lineHeight:C.a.rem(2),animation:`${ne} ${C.a.seconds(.2)} linear forwards`},ie={position:"relative",borderRadius:C.a.rem(O.s),background:y.a.CoreNeutral0,boxShadow:`0 ${C.a.rem(.625)} ${C.a.rem(O.a)} 0 rgba(198, 203, 222, .45)`},oe={display:"flex",padding:`${C.a.rem(1.5)} ${C.a.rem(2)}`,alignItems:"center"},se={marginLeft:C.a.rem(1),minWidth:0,minHeight:0,width:C.a.rem(1.325),height:C.a.rem(1.325),animation:`${ne} ${C.a.seconds(.2)} linear forwards`},le={float:"right",width:C.a.rem(4),textAlign:"center",animation:`${ne} ${C.a.seconds(.2)} linear forwards`},ce={backgroundColor:y.a.CoreGreen50,color:y.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:v.a}}},de=Object.assign(Object.assign({},C.a.stylesheet({successText:[re],successCheckMark:[se],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[le],doneBtn:[le,ce]})),{fullCard:C.a.joinClasses([te.b.fullCardSelector,C.a.style(ie)]),successWrapper:C.a.joinClasses([te.b.successWrapperSelector,C.a.style(ie,oe)])});var pe,ue;(ue=pe||(pe={})).Mini=w,ue.MiniContrast=$,ue.Card=f,ue.Success=ae},"0Hf4":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("lyoF");const r=Object(n.a)()},"0PmZ":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("ERkP"),r=a("9NHN"),i=a("e12y"),o=a("rk+4"),s=a("bO3R"),l=a("3rlE"),c=a("BugA");const d=({onLeftClick:e,onRightClick:t,currentMatch:a,totalMatch:i,replaceOneMatch:d=!0,disableOnEnd:p=!0,style:u})=>{const g=n.useContext(o.a.Context).card.matchesNavigation;return 0===i?null:1===i&&d?n.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(u.matchesRow)&&u.matchesRow)),n.createElement(c.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(u.matchesCount)&&u.matchesCount)),g.numberOfMatches(i))):n.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(u.matchesRow)&&u.matchesRow)),n.createElement(s.a.Ghost,{disabled:p&&0===a,name:"left",title:g.prev,ariaLabel:g.prev,onClick:e},n.createElement(l.d.Arrow,Object.assign({},Object(r.c)(m.leftButtonIcon,!!Boolean(u.leftButtonIcon)&&u.leftButtonIcon)))),n.createElement(c.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(u.matchesCount)&&u.matchesCount)),g.currentMatchPosition(a+1,i)),n.createElement(s.a.Ghost,{disabled:p&&a===i-1,name:"right",title:g.next,ariaLabel:g.next,onClick:t},n.createElement(l.d.Arrow,Object.assign({},Object(r.c)(m.rightButtonIcon,!!Boolean(u.rightButtonIcon)&&u.rightButtonIcon)))))},p={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:i.a.rem(.25)}}},u={textTransform:"uppercase",letterSpacing:i.a.px(.8),lineHeight:i.a.rem(2)},m=i.a.stylesheet({matchesRow:[p],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[u]})},"0mPX":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("aIes");const r=["b","i","br","ul","li"];var i;!function(e){e.renderToHtml=function(e,t){const a=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return n.d.setInnerHTML(e,a)}}(i||(i={}))},"17O8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("D57K"),i=a("ERkP"),o=a("OA+g"),s=a("I7vG"),l=a("vOOZ"),c=a("9NHN"),d=a("zR/0"),p=a("gy42"),u=a("nb6X"),m=a("hoSD"),g=a("6fbX"),h=a("lrqh"),f=a("D9EC"),b=a("ax6a"),y=a("p7l/"),C=a("e12y"),v=a("xEVj");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:u.a.Selector.preferBy("top",u.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:u.a.Selector.preferBy("top",u.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:u.a.Selector.preferBy("top",u.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:u.a.Selector.preferBy("bottom",u.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:u.a.Selector.preferBy("bottom",u.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:u.a.Selector.preferBy("bottom",u.a.Selector.Placement.left)};case"left":return{align:"left",selector:u.a.Selector.preferBy("left",u.a.Selector.Placement.middle)};case"right":return{align:"right",selector:u.a.Selector.preferBy("right",u.a.Selector.Placement.middle)};case"auto":case"center":return{align:m.c.Rect.Axis.vertical,selector:u.a.Selector.preferBy("top",u.a.Selector.Placement.middle)};default:return Object(g.d)(e)}}}(t=e.Alignment||(e.Alignment={})),e.ByPoint=e=>{var{point:t,className:a}=e,n=Object(r.__rest)(e,["point","className"]);return i.createElement(l.a.div,Object.assign({"data-role":"positioned-container",style:t.pipe(d.a.map(h.g.mapOrDefault(u.a.toCss,{})))},Object(c.c)(I.wrapper,a,t.pipe(d.a.map(e=>h.g.isNone(e)?I.hidden:""))),n))};const a=t=>{var a;const{rect:r,onMount:s}=v.a.useRectWatcher(),l=p.b.toObservable(t.rect),c=p.b.toObservable(t.pinTargetRect),m=b(t.align),g=n(l,r,m,null!==(a=t.selector)&&void 0!==a?a:u.a.Selector.preferTopMiddle,c,"relative"===t.position);return i.createElement(e.ByPoint,{mount:s,className:t.className,point:g.pipe(d.a.map(h.g.map(e=>e.tangentialPoint)))},!0===t.withPin&&g.pipe(d.a.map(Object(o.flow)(h.g.chain(e=>e.median),h.g.map(t=>i.createElement(e.Pin,{point:t,key:"pin"})),h.g.toNullable))),t.children)};e.ByAbsoluteRect=e=>i.createElement(a,Object.assign({},e,{position:"absolute"})),e.ByRelativeRect=e=>i.createElement(a,Object.assign({},e,{position:"relative"})),e.Pin=e=>{const t=p.b.toObservable(e.point).pipe(d.a.map(e=>e.side),d.a.map(e=>E[e])),a=p.b.toObservable(e.point).pipe(d.a.map(e=>e.point),d.a.map(({x:e,y:t})=>({top:t,left:e})));return i.createElement(l.a.i,Object.assign({"data-role":"pin",style:a},Object(c.c)(t,E.wrapper)))};const n=(e,t,a,n,r,o)=>d.a.combineLatestStatic(e,i.useContext(y.a.Context).pipe(d.a.map(e=>e.rect)),t.pipe(d.a.distinctUntilChanged(h.g.getEq(m.c.Box.eq).equals)),r).pipe(d.a.map(([e,t,r,i])=>Object(s.pipe)(r,h.g.map(r=>{const l=u.a.QualifiedVariants.build(t,r,a(e));let c=n(l).point;const d=Object(s.pipe)(u.a.toRect(r,c),h.g.fromEither,h.g.chain(t=>Object(s.pipe)(m.c.Rect.getMedian(e,t),h.g.map(e=>({anchorMedian:e,bodyRect:t})))),h.g.chain(({anchorMedian:e,bodyRect:t})=>{if(void 0!==i){const a=m.c.Rect.stickToSide(m.c.Rect.Side.invert(e.side),i)(t);return c=u.a.fromRect(a),Object(s.pipe)(m.c.Rect.getMedian(i,a),h.g.map(({side:e,point:t})=>({side:e,point:m.c.Rect.Point.relativeTo(t,a)})))}return Object(s.pipe)(h.g.some(e),h.g.map(({side:e,point:a})=>({side:e,point:m.c.Rect.Point.relativeTo(a,t)})))}));return{tangentialPoint:u.a.relativeTo(c,o?e:t),median:d}})))),b=(e=m.c.Rect.Axis.both)=>Object(f.v)(m.c.Rect.Axis,e)?t=>u.a.Variants.byAxis(e,t):t=>({[e]:u.a.Zone.bySide(e,t)})}(n||(n={}));const O={position:"absolute",border:`${C.a.px(7)} solid ${b.a.BackgroundTooltip}`,transform:`translate(${C.a.px(-7)}, ${C.a.px(-7)})`},k={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${C.a.px(7)})`}}},S={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${C.a.px(-7)})`}}},w={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${C.a.px(-7)})`}}},A={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${C.a.px(7)})`}}},E=C.a.stylesheet({wrapper:[O],top:[k],right:[S],bottom:[w],left:[A]}),I=C.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},"3bJT":function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return b}));var n=a("ax6a"),r=a("e12y"),i=a("WIwS"),o=a("ps/9");const s={position:"relative",borderRadius:r.a.rem(o.s),background:n.a.CoreNeutral0,boxShadow:`0 ${r.a.rem(.625)} ${r.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},l={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},c={$nest:{"&:before":{backgroundColor:i.c}}},d={$nest:{"&:before":{backgroundColor:i.l}}},p={$nest:{"&:before":{backgroundColor:n.a.CoreRed50}}},u={$nest:{"&:before":{backgroundColor:n.a.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:n.a.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:n.a.CorePurple50}}},h={$nest:{"&:before":{backgroundColor:n.a.CoreNeutral50}}},f={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},b=Object.assign(Object.assign({},r.a.stylesheet({dot:[l],dotAdvanced:[d],dotCritical:[c],dotCorrectness:[p],dotClarity:[u],dotEngagement:[m],dotDelivery:[g],dotVox:[h]})),{fullCard:r.a.joinClasses([f.fullCardSelector,r.a.style(s)])})},"3gHY":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return x})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n,r,i,o,s=a("OA+g"),l=a("I7vG"),c=a("5E2i"),d=a("Ni70"),p=a("6fbX"),u=a("lrqh"),m=a("D9EC"),g=a("hoSD"),h=a("PrA7"),f=a("dE97"),b=a("GUi3"),y=a("zR/0"),C=a("gy42"),v=a("4GD7"),O=a("+w1e"),k=a("NW9S"),S=a("+5S2"),w=a("EjiM"),A=a("XxrX"),E=a("BeBM");class I extends p.a{}!function(e){e.cardSuggestedPositionGetter=(e,t)=>(a,n,r,i)=>{const o="cardTop"===i?0:t(n);return Object(l.pipe)(e(a,Object(l.pipe)(r,u.g.map(k.b.FromWindowTop.ISO.modify(k.a.concatC(-o))))),u.b.map(e=>({top:e,contentOffset:o})))},e.getSuperScrollMapper=(t,a,n)=>{const r=S.a.Mover.moveCardToPositionAnimatedGetter(t,a),i=S.a.Mover.moveCardToPositionSyncGetter(t,a),o=S.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,a,s)=>{const l={top:s,contentOffset:o(t,n.get())};return(a?r({id:e,position:s}):y.a.of(i({id:e,position:s})).pipe(y.a.map(u.b.unsafeGet))).pipe(y.a.mapTo(l),y.a.startWith(l),y.a.distinctUntilChanged())},getCardSuggestedPosition:e.cardSuggestedPositionGetter(S.a.InfinityScrollGetter.cardPositionGetter(t,a),e=>o(e,n.get())),getCardSuggestedPositionInViewport:e.cardSuggestedPositionGetter(S.a.InfinityScrollGetter.cardPositionInViewportGetter(t,a),e=>o(e,n.get())),willFitViewport:(e,n)=>Object(l.pipe)(t.get(),t=>!!E.e.hasItems(t)&&S.a.willFitViewport(t,a)(e,n)),isAboveViewportTop:S.a.isAboveViewportTop(a)}}}(n||(n={})),function(e){e.getMapper=(e,t,a)=>{return{moveAlertHighlightInViewport:(t,a,n)=>e.ensureAlertHighlightInViewport(t,k.b.FromWindowTop.ISO.unwrap(a),n),getMarkAlertPosition:n=>Object(l.pipe)(e.getMarkByAlert(n),u.b.fromOption(()=>new I("getMarkByAlert returned O.none")),u.b.chain(r=>Object(l.pipe)(r.getRect(),u.b.map(d.b.relativeToViewport),u.b.map(e=>e.top),u.b.orElse(()=>(a.debug("Cached alert is missing, falling back to flush"),(a=>(t.flushChanges(),Object(l.pipe)(e.getMarkByAlert(a),u.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),u.b.chain(e=>Object(l.pipe)(e.getRect(),u.b.map(d.b.relativeToViewport),u.b.map(e=>e.top))))))(n))),u.b.map(k.b.FromWindowTop.ISO.wrap))),u.b.mapLeft(e=>(e instanceof I||a.warn("Cannot getMarkAlertPosition",e),e)),u.g.fromEither,e=>y.a.of(e))}}}(r||(r={}));class x{constructor(e,t,a){this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=a,this._log=h.Monitoring.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,a)=>Object(l.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:a})),this.alignCardToMark=(e,t,a)=>Object(l.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:a}))}alignCardTo(e,t,a){const n=a!==v.a.Animation.NO_ANIMATION;return y.a.defer(()=>y.a.of(u.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),u.g.some(t),"cardTop")))).pipe(y.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(A.a.Features.showLabel),n,t.top)),y.a.mapTo(C.b.voidValue),y.a.catchError(e=>(this._log.error("Cannot align card to required top",e),y.a.EMPTY)),y.a.share())}}!function(e){e.Mock=class{constructor(){this.alignCardToMark=()=>y.a.EMPTY,this.alignCardTo=()=>y.a.EMPTY,this.alignMarkTo=()=>y.a.EMPTY,this.alignMarkToCard=()=>y.a.EMPTY}}}(i||(i={})),function(e){let t,a;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={})),e.getRelativePosition=(e,a,n)=>a.top+n>e.bottom?t.below:e.top>a.bottom?t.above:t.intersects}(t||(t={})),e.createAlignmentOnTypingEffect=(e,t,a,n,r)=>{const i=e.view(E.e.mapper(({currentLens:e})=>Object(l.pipe)(u.g.some(e),u.g.filter(Object(w.d)(r))))).pipe(y.a.map(u.g.chain(n),u.g.filter(r.isValidToAlign)),y.b.compactMap(e=>a.pipe(y.a.switchMap(C.b.Scheduler.rafScheduler),y.a.switchMap(()=>t.alignCardToMark(e,v.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(i.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,a,n,r)=>{const i=e.view(Object(s.flow)(E.e.getLens,u.g.filter(e=>u.g.isNone(E.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=i.pipe(y.a.map(u.g.isSome),y.a.distinctUntilChanged(),y.a.switchMap(C.b.orEmpty(n.changes.pipe(y.a.startWith(C.b.voidValue),y.a.switchMap(C.b.Scheduler.rafScheduler),y.a.map(()=>u.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(n))),y.a.map(u.g.filter(e=>e.top-e.bottom!=0))))),y.a.withLatestFrom(i.pipe(y.a.map(u.g.map(({items:e})=>e))),u.g.map2((n,i)=>Object(l.pipe)(S.c.getCardsRect(e,r),u.g.map(e=>({top:k.b.FromWindowTop.ISO.unwrap(e.top),bottom:k.b.FromWindowTop.ISO.unwrap(e.bottom)})),u.g.chain(e=>Object(l.pipe)(((e,a,n)=>{const r=Object(l.pipe)(e.getAt(0),u.g.map(e=>e.positionState.height),u.g.getOrElse(()=>0)),i=t.getRelativePosition(a,n,r);switch(i){case t.RelativePosition.above:return Object(l.pipe)(e.getAt(0),u.g.map(e=>({card:e,top:a.top})));case t.RelativePosition.below:return Object(l.pipe)(e.getAt(0),u.g.map(e=>({card:e,top:a.bottom-e.positionState.height})));case t.RelativePosition.intersects:return u.g.none;default:return Object(p.d)(i)}})(i,n,e),u.g.map(({card:e,top:t})=>a.alignCardTo(e,k.b.FromWindowTop.ISO.wrap(t),v.a.Animation.NO_ANIMATION)))),u.g.getOrElse(()=>y.a.EMPTY)))),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,c.a)));return{id:"alignOnDisjointedAreas",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(o.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,a,n,r,i=C.b.Scheduler.rafScheduler)=>{const o=e.view(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))).view(u.g.filter(({currentLens:e})=>Object(w.d)(r)(e))).view(u.g.chain(({currentLens:e,alertSource:t})=>Object(l.pipe)(n(e),u.g.filter(r.isValidToAlign),u.g.map(a=>({item:a,source:t,lensId:e.id}))))),s=C.a.windowResize.pipe(y.a.throttleTime(100),y.a.merge(a),y.a.withLatestFrom(o,(e,t)=>t),y.a.switchMap(i),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,({item:e})=>t.alignCardToMark(e,v.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(s.pipe(y.a.switchMapTo(y.a.NEVER)))}},function(e){e.skip="skip"}(a=e.SkipAlertActionSource||(e.SkipAlertActionSource={})),e.createAlignmentSideEffect=(t,a,n=((e,t)=>t),r,i,o,s,l=C.b.Scheduler.rafScheduler)=>{const c=e._createAlignmentSource(t,a,n,r,i,o,s,l);return{id:"alignmentSideEffect",when:b.a.isWithAlertsId,what:E.e.Effect.Applicator.create(c.pipe(y.a.switchMapTo(y.a.EMPTY)))}},e._createAlignmentSource=(e,t,n=((e,t)=>t),r,i,o,d,p=C.b.Scheduler.rafScheduler)=>{const h=Object(m.p)(O.b.isAlertMinicardButtonClick,O.b.isSwitchToClosestByViewport,O.b.isAlertCardShow,O.a.isCardExpand,O.b.isBulkAcceptItemShow,O.b.isBulkHighlight),b=y.a.mergeStatic(e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))),y.a.startWith(u.g.none),y.a.map(u.g.map(e=>e.currentLens.id)),y.a.pairwise(),y.a.filter(([e,t])=>Object(l.pipe)(u.g.map2((e,t)=>e!==t)(e,t),u.g.exists(c.a))),y.a.mapTo(u.g.none)),e.pipe(y.a.map(E.e.mapper(({currentLens:e,alertSource:t})=>u.g.some({currentLens:e,alertSource:t}))),y.a.filter(u.g.exists(({currentLens:e})=>Object(w.d)(i)(e))),y.a.map(u.g.chain(({currentLens:e,alertSource:t})=>Object(l.pipe)(r(e),u.g.filter(i.isValidToAlign),u.g.map(a=>({item:a,source:t,lensId:e.id}))))))).pipe(y.a.distinctUntilChanged(Object(s.flow)(u.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),u.g.exists(c.a)))),S=Object(m.p)(O.b.isBulkHighlight,O.b.isAlertMinicardButtonClick),A=t.pipe(y.a.filter(h),y.a.map(u.g.some),y.a.startWith(u.g.none),y.a.pairwise(),y.a.filter(Object(s.flow)(Object(s.tupled)(u.g.map2((e,t)=>!O.b.isAlertCardShow(t)||!O.b.isAlertMinicardButtonClick(e))),u.g.getOrElse(s.constFalse))),y.a.map(([,e])=>Object(l.pipe)(e,u.g.filter(S))),y.a.startWith(u.g.none)).pipe(y.a.switchMap(e=>b.pipe(y.a.filter(u.g.exists(e=>e.source===f.b.sidebar)),y.a.map(u.g.chain(t=>u.g.some(Object.assign(Object.assign({},t),{clickPoint:Object(l.pipe)(e,u.g.map(g.e.pick("clickPoint")))}))))))),I=b.pipe(y.a.filter(u.g.exists(e=>e.source!==f.b.sidebar)),y.a.map(e=>Object(l.pipe)(e,u.g.chain(e=>u.g.some(Object.assign(Object.assign({},e),{clickPoint:u.g.none}))))));return y.a.mergeStatic(A,I).pipe(y.a.startWith(u.g.none),y.a.pairwise(),y.a.map(([e,t])=>Object(l.pipe)(t,u.g.map(a=>({lensId:a.lensId,card:a.item,source:a.source,animate:Object(l.pipe)(e,u.g.forAll(({lensId:e})=>e===a.lensId)),clickPoint:Object(l.pipe)(t,u.g.chain(g.e.pick("clickPoint")),u.g.map(Object(s.flow)(g.e.pick("y"),k.b.FromWindowTop.ISO.wrap)))})))),y.a.switchMap(u.g.fold(()=>y.a.EMPTY,p)),y.a.withLatestFrom(e),y.a.switchMap(([{card:e,source:t,animate:r,clickPoint:i,lensId:s},c])=>Object(l.pipe)(n(e,t),t=>{return E.e.hasItems(c)&&c.currentLens.items.has(e.id)&&s===c.currentLens.id&&t!==a.skip?((e,t,a,n)=>{if(a===f.b.text)return Object(l.pipe)(e,d({animation:t?v.a.Animation.ANIMATE_ALL:v.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(a===E.c.forceText)return Object(l.pipe)(e,d({animation:v.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const r=a===f.b.sidebar?t?v.a.Animation.ANIMATE_ALL:v.a.Animation.ANIMATE_MARK:v.a.Animation.NO_ANIMATION;return Object(l.pipe)(e,o({animation:r,suggestedPosition:n}))}})(e,r,t,i):y.a.NEVER})))}}(o||(o={}))},"4GD7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("bYZB"),o=a("lrqh"),s=a("6fbX"),l=a("PrA7"),c=a("zR/0"),d=a("gy42"),p=a("NW9S"),u=a("XxrX");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const a=l.Monitoring.Logging.root.getLogger("AlignmentViewModel");function n(e,t){return Object(r.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":a.error("Cannot align card to mark",{reason:t});break;case"notFound":a.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.d)(e)}return c.a.EMPTY},e=>c.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,s){return({animation:l,suggestedPosition:m})=>({id:g,renderOptions:{features:h},activeHighlightIndex:f,activeAlert:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:f}),c.b.compact,c.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,h.has(u.a.Features.showLabel),o.g.none,"cardContentTop")})),c.a.switchMap(({cardPosition:e,mark:t})=>n(e,t)),c.a.switchMap(({card:e,mark:t})=>s.setCardPosition(g,h.has(u.a.Features.showLabel),!1,p.b.FromWindowTop.ISO.modify(p.a.concatC(-e.contentOffset))(t)).pipe(c.a.distinctUntilChanged(),c.a.mapTo(Object(r.pipe)(m,o.g.filter(t=>s.willFitViewport(g,p.b.FromWindowTop.ISO.modify(p.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.contentOffset))(e.top)))))),c.a.switchMap(a=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:f},a,l===t.ANIMATE_ALL?i.a.fake:i.a.none)),c.a.mapTo(d.b.voidValue),c.a.catchError(e=>(a.error("Cannot align mark to card",e),c.a.EMPTY)),c.a.share())},e.alignItemToMark=function(t,s){return({animation:l,fitCardIntoViewport:m})=>({id:g,renderOptions:{features:h},activeAlert:f,activeHighlightIndex:b})=>Object(r.pipe)(t.getMarkAlertPosition({alert:f,highlightIndex:b}),c.a.switchMap(o.g.fold(()=>c.a.EMPTY,e=>c.a.of(e))),c.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(g,h.has(u.a.Features.showLabel),o.g.some(e),"cardContentTop")})),c.a.switchMap(({cardPosition:e,mark:t})=>n(e,t)),c.a.switchMap(({card:a,mark:n})=>c.a.mergeStatic(s.setCardPosition(g,h.has(u.a.Features.showLabel),l===e.Animation.ANIMATE_ALL,p.b.FromWindowTop.ISO.modify(p.a.concatC(-a.contentOffset))(n)),d.b.orEmpty(t.moveAlertHighlightInViewport({alert:f,highlightIndex:b},p.b.FromWindowTop.ISO.modify(p.a.concatC(a.contentOffset))(a.top),l===e.Animation.ANIMATE_ALL?i.a.initial:i.a.none))(m))),c.a.mapTo(d.b.voidValue),c.a.catchError(e=>(a.error("Cannot align card to mark",e),c.a.EMPTY)),c.a.share())}}(n||(n={}))},"5l2B":function(e,t,a){e.exports=a.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},"5o4I":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("m6JR"),i=a("lrqh");!function(e){e.eq=Object(r.getStructEq)({alert:Object(r.contramap)(e=>e.id)(r.eqStrict),highlightIndex:r.eqStrict}),e.getEq=()=>e.eq,e.getHighlightRange=e=>i.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(n||(n={}))},"5z3N":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return O})),a.d(t,"a",(function(){return N}));var n,r=a("ERkP"),i=a("I7vG"),o=a("9NHN"),s=a("lrqh"),l=a("rk+4"),c=a("GUi3"),d=a("dE97"),p=a("UEGg"),u=a("XxrX"),m=a("bO3R"),g=a("H37f"),h=a("3rlE"),f=a("26kZ"),b=a("BugA"),y=a("3bJT"),C=a("es5d");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(n||(n={}));const v=({className:e,vox:t,isMinimalCard:a})=>{const{vox:{styleGuide:n}}=r.useContext(l.a.Context);return r.createElement("div",Object.assign({},Object(o.c)(e,C.a.voxTitle,a?C.a.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",n))},O=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({alt:"company logo","aria-hidden":!0,src:e},Object(o.c)(t,C.a.voxLogo))),k=({title:e,layoutDensity:t})=>r.createElement(b.a,{className:Object(i.pipe)(t,u.a.Density.matchOrDefault(u.a.Density.minimal)(()=>C.a.minimalTitle,()=>C.a.toneTitle))},r.createElement(g.b,{emojiClassName:C.a.toneLogo},e));function S(e){return c.a.outcomeTypeMatch({correctness:y.a.dotCorrectness,clarity:y.a.dotClarity,premium:y.a.dotAdvanced,engagement:y.a.dotEngagement,delivery:y.a.dotDelivery,vox:y.a.dotVox})(e.lensType)}function w(e){return c.a.outcomeTypeMatch({correctness:r.createElement(h.d.Correctness,{className:C.a.cardLogo}),clarity:r.createElement(h.d.ClarityOutcome,{className:C.a.cardLogo}),premium:r.createElement(h.d.Star,{className:C.a.cardLogo}),engagement:r.createElement(h.d.EngagementOutcome,{className:C.a.cardLogo}),delivery:r.createElement(h.d.DeliveryOutcome,{className:C.a.cardLogo}),vox:null})(e.lensType)}function A(e,t,a,n,l,c){const{extraProperties:m}=e;return p.a.isTakeaway(e)?function(e,t,a){return{style:"",description:r.createElement("div",{className:Object(i.pipe)(t,u.a.Density.matchOrDefault(u.a.Density.minimal)(()=>C.a.minimalTitle,()=>void 0))},s.g.contains(d.n.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?r.createElement(h.d.ValidationOk,Object.assign({width:16},Object(o.c)(C.a.cardLogo,C.a.takeawayIcon))):r.createElement(h.d.Megaphone,Object.assign({width:16},Object(o.c)(C.a.cardLogo,C.a.takeawayIcon))),t===u.a.Density.minimal?a:e.lensName)}}(e,a,c):p.a.isShortenIt(e)?E(e,a,l,c):p.a.isToneAI(e)?function(e){return{style:S(e),description:r.createElement(b.a,{className:C.a.minimalTitle},e.title)}}(e):p.a.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,void 0!==e.emojiID?r.createElement(g.c,{id:e.emojiID,className:C.a.toneLogo}):r.createElement(h.d.EthicalAI.Heart,Object.assign({},Object(o.c)(C.a.cardLogo))),r.createElement(b.l,{className:C.a.ethicalAILabel},e.miniCardTitle))}}(e):p.a.isSuggestedSnippet(e)?function(e){return{style:S(e),description:r.createElement(b.a,{className:C.a.minimalTitle},e.title)}}(e):s.g.isSome(m.tone)?function(e,t){return{style:S(e),description:r.createElement(k,{title:e.title,layoutDensity:t})}}(e,a):t?s.g.isSome(m.vox)?function(e,t){return{style:y.a.dotVox,description:r.createElement(r.Fragment,null,Object(i.pipe)(e.logoUrl,s.g.fold(()=>null,e=>r.createElement(O,{logoUrl:e,className:C.a.cardLogo}))),r.createElement(v,{vox:e,isMinimalCard:t===u.a.Density.minimal}))}}(m.vox.value,a):p.a.isFree(e)?E(e,a,l,c):function(e,t,a,n){return{style:Object(i.pipe)(n,u.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(i.pipe)(n,u.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>w(e)})),r.createElement("div",Object.assign({},Object(o.c)(C.a.dualItemLabel,Object(i.pipe)(a,u.a.Density.matchOrDefault(u.a.Density.minimal)(()=>C.a.minimalTitle,()=>void 0)))),r.createElement("span",{className:C.a.dualItemLabel},e.lensName,r.createElement(T,{highlightStyle:t}))))}}(e,n,a,l):null}function E(e,t,a,n){return Object(i.pipe)(t,u.a.Density.matchOrDefault(u.a.Density.minimal)(()=>(function(e,t,a){return{style:Object(i.pipe)(t,u.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:Boolean(a)?a:r.createElement(r.Fragment,null,Object(i.pipe)(t,u.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>w(e)})),r.createElement(b.a,{className:C.a.minimalTitle},e.miniCardTitle))}})(e,a,n),()=>(function(e,t){return{style:Object(i.pipe)(t,u.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(i.pipe)(t,u.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>w(e)})),e.lensName)}})(e,a)))}const I=({label:e})=>r.createElement("span",{className:C.a.fluencyLabel},e,r.createElement(m.b,{iconWidth:10,buttonClass:C.a.fluencyInfo,iconClass:C.a.fluencyInfo,title:r.useContext(l.a.Context).card.fluency.tooltip})),x=({style:e,description:t})=>r.createElement("span",Object.assign({},Object(o.c)(C.a.lens,C.a.dot,e)),t),T=({highlightStyle:e})=>{const t=r.useContext(l.a.Context);if(e===n.none)return null;const a=e===n.new?r.createElement("div",{className:C.a.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(h.d.Paid,{className:C.a.newPremiumLabelIcon,width:12})):r.createElement(h.d.Paid,{className:C.a.premiumPersistentTooltipIcon,width:10});return r.createElement(f.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},a)},j=({style:e,description:t,extraStyle:a})=>r.createElement("span",Object.assign({},Object(o.c)(a,C.a.lensMinimal,C.a.lens,C.a.dot,e)),t),N=e=>Object(i.pipe)(A(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),s.g.fromNullable,s.g.map(t=>r.createElement("div",{className:e.className},Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,s.g.fold(()=>Object(i.pipe)(e.layoutDensity,u.a.Density.matchOrDefault(u.a.Density.minimal)(()=>r.createElement(j,Object.assign({},t)),()=>r.createElement(x,Object.assign({},t)))),a=>Object(i.pipe)(e.layoutDensity,u.a.Density.match(r.createElement(r.Fragment,null,r.createElement(x,Object.assign({},t)),r.createElement(I,{label:a})),r.createElement(x,Object.assign({},t)),r.createElement(j,{style:t.style,extraStyle:C.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),s.g.fold(()=>r.createElement("div",{"data-purpose":"label-placeholder"}),t=>r.createElement(L,null,t,e.badge))),L=({children:e})=>r.createElement("div",{role:"definition",className:C.a.labelContainer},e)},"7pZ3":function(e,t,a){e.exports=a.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"7wg/":function(e,t,a){e.exports=a.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},"8Zga":function(e,t,a){e.exports=a.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},"8cdc":function(e,t,a){e.exports=a.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},"8uad":function(e,t,a){"use strict";a.d(t,"a",(function(){return xe}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("vOOZ"),s=a("uqkn"),l=a("E0zP"),c=a("XxrX"),d=a("zR/0"),p=a("0A/6"),u=a("LNSM"),m=a("Q8bi"),g=a("lrqh"),h=a("D9EC"),f=a("6fbX"),b=a("PrA7"),y=a("rk+4"),C=a("dE97"),v=a("UEGg"),O=a("+w1e"),k=a("bO3R"),S=a("3rlE"),w=a("wsrD"),A=a("BlMh"),E=a("BugA"),I=a("aIes"),x=a("yZqL"),T=a("ax6a"),j=a("e12y");const N=j.a.style({margin:`${j.a.rem(1)} 0`}),L=j.a.style({marginLeft:j.a.rem(.5),lineHeight:j.a.rem(1.3125),fontSize:j.a.rem(.875),color:T.a.CoreNeutral90}),P=j.a.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:j.a.rem(1)}}}),D=j.a.style({marginLeft:j.a.rem(1)}),B={color:T.a.CoreRed60,fontSize:j.a.rem(.75),lineHeight:j.a.rem(1.125)},F=j.a.style(B),$=j.a.style(B,{visibility:"hidden"}),R=j.a.style({padding:0}),M=j.a.style({paddingTop:j.a.rem(1),paddingLeft:j.a.rem(1),paddingRight:j.a.rem(1),display:"flex"}),_=j.a.style({minWidth:j.a.rem(1)}),W=j.a.style({paddingTop:j.a.rem(.25),paddingLeft:j.a.rem(.5)}),H=j.a.style({paddingLeft:j.a.rem(.5),paddingRight:j.a.rem(1),marginTop:j.a.rem(.5)}),G=j.a.style({display:"flex",alignItems:"center",gap:j.a.rem(.75),marginTop:j.a.rem(1)}),V=j.a.style({flexGrow:1}),q=j.a.style({marginTop:j.a.rem(1.5)}),z=j.a.style({fontWeight:"bold",paddingBottom:j.a.rem(.25)}),U=j.a.style({height:j.a.rem(2.5),paddingLeft:j.a.rem(.5)}),Y=j.a.style({height:j.a.rem(6),paddingLeft:j.a.rem(.5)}),X=j.a.style({paddingTop:j.a.rem(1.5),color:T.a.CoreNeutral50}),K=j.a.style({display:"flex",flexDirection:"row",columnGap:j.a.rem(.5),alignItems:"center",paddingLeft:j.a.rem(.5),paddingRight:j.a.rem(1),paddingBottom:j.a.rem(.5)}),Z=j.a.style({flex:3,textAlign:"center"}),Q=j.a.style({color:T.a.CoreNeutral50,border:`1px solid ${T.a.CoreNeutral20}`,borderRadius:j.a.rem(.25)});var J=a("HUX/");const ee=({card:e,actions:t})=>Object(i.pipe)(e.visualState.transition,g.g.fromPredicate(e=>"feedback_form"===e.type),g.g.fold(()=>(b.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),a=>"survey"===a.formType?n.createElement(te,{card:e,data:a,actions:t}):n.createElement(ae,{card:e,data:a,actions:t}))),te=({card:e,data:t,actions:a})=>{const r=n.useContext(y.a.Context).card.feedbackForm,i=u.a.create(void 0),s=u.a.create(!1),l=n=>a.next(Object.assign({alertId:e.activeAlert.id,reason:n},t.submitActionType===O.b.Type.alertApplyFormSubmit?{type:O.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:O.b.Type.alertIgnoreFormSubmit})),c=`survey-title-${e.id}`;return n.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>a.next({type:O.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:n.createElement(n.Fragment,null,n.createElement(E.g,{id:c,className:N},t.survey.question||r.dismissReason),n.createElement(A.a.Group,{id:`survey-${e.id}`,selectedItemIndex:i,ariaLabelledBy:c,className:P,items:t.survey.options.map((e,t)=>n.createElement("div",{key:t,className:L},e.text)),onChange:()=>s.set(!1)})),mainActions:n.createElement(n.Fragment,null),footer:n.createElement(n.Fragment,null,n.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(h.c)(F,$))},r.error),n.createElement("div",null,n.createElement(k.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=i.get();return void 0===e?s.set(!0):I.d.callOnce(()=>l(t.survey.options[e].key))()}},r.submit),n.createElement(k.a.Ghost,{className:D,name:"skipCardFeedbackForm",onClick:I.d.callOnce(()=>l("skipped"))},r.skip))),subActions:n.createElement(n.Fragment,null)})},ae=({card:e,data:t,actions:a})=>{const r=ie(e,t),i="background"===t.gbPrompt.promptType&&C.g.isVox(t.gbPrompt),[o,s]=n.useState("initial"),[l,c]=n.useState(r.source),[d,p]=n.useState(r.target),[u,g]=n.useState(""),h=!("createRule"!==o||l&&d),b=n=>{const r={alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt,patternName:e.activeAlert.patternName,source:l,target:d,description:u};switch(n){case O.b.Type.gbPromptDismiss:a.next(Object.assign(Object.assign({},r),{type:n,step:o}));break;case O.b.Type.gbPromptApply:case O.b.Type.gbPromptCreateRule:a.next(Object.assign(Object.assign({},r),{type:n}));break;default:Object(f.d)(n)}},y="initial"===o?t.gbPrompt.description:n.createElement(n.Fragment,null,n.createElement("div",{className:G},n.createElement("div",{className:V},n.createElement(m.Typography.Base,{className:z},"Original"),n.createElement(w.b,{name:"gbprompt-source",className:U,value:l,onChange:e=>c(e.target.value)})),n.createElement(m.Typography.Paper,{className:X},"→"),n.createElement("div",{className:V},n.createElement(m.Typography.Base,{className:z},"Change to"),n.createElement(w.b,{name:"gbprompt-target",className:U,value:d,onChange:e=>p(e.target.value)}))),n.createElement("div",{className:q},n.createElement(m.Typography.Base,{className:z},"Explanation"),n.createElement(w.c,{className:Y,value:u,onChange:e=>g(e.target.value),placeholder:"Add it here...",blockExtension:!0})));return n.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>a.next({type:O.b.Type.gbPromptShow,patternName:e.activeAlert.patternName}),theme:Object.assign(Object.assign({},Object(J.b)(e.renderOptions)),{wrapper:R}),visualState:e.visualState,header:n.createElement("div",{className:M},n.createElement(S.d.StyleGuide,null),n.createElement(E.g,{className:W},t.gbPrompt.title)),body:n.createElement("div",{className:H},y),mainActions:n.createElement(n.Fragment,null),footer:n.createElement("div",{className:K},n.createElement(ne,{step:o,disabled:h,onClick:()=>{"initial"===o&&i?(s("createRule"),b(O.b.Type.gbPromptCreateRule)):b(O.b.Type.gbPromptApply)}}),n.createElement(re,{step:o,onClick:()=>b(O.b.Type.gbPromptDismiss)})),subActions:n.createElement(n.Fragment,null)})},ne=({step:e,disabled:t,onClick:a})=>{const r=n.useContext(y.a.Context).card.gbPrompt;return"initial"===e?n.createElement(k.a.Primary,{name:"submitGbPromptFeedbackForm",className:Z,disabled:t,onClick:I.d.callOnce(a)},n.createElement(S.d.StyleGuideWhite,{width:18,className:_}),r.addRule):n.createElement(k.a.Primary,{name:"submitGbPromptFeedbackForm",className:Z,disabled:t,onClick:I.d.callOnce(a)},r.saveRule)},re=({step:e,onClick:t})=>{const a=n.useContext(y.a.Context).card.gbPrompt;return"initial"===e?n.createElement(k.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:I.d.callOnce(t)},a.dismiss):n.createElement(k.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:I.d.callOnce(t)},a.cancelSavingRule)},ie=(e,t)=>{const a=e.activeAlert,n=t.alertApplyActionProps.alternativeIndex;return v.a.isSuper(a)?C.g.isVox(t.gbPrompt)?oe(a,n):se(a,n):{source:"",target:""}},oe=(e,t)=>{const a=e.labels;return{source:a.filter((e,a)=>a!==t).map(le)[0],target:le(a[t])}},se=(e,t)=>{return{source:"",target:e.labels[t].label}},le=({replacementTexts:e})=>[...e].sort()[0];var ce=a("jSKJ"),de=a("oWeJ"),pe=a("xEVj"),ue=a("H9T+");const me=j.a.style({marginRight:j.a.rem(-.5),marginTop:j.a.rem(.5)}),ge=j.a.style({padding:`0 ${j.a.rem(1.625)} !important`,marginRight:j.a.rem(.125)}),he=j.a.style({marginRight:0}),fe=({card:e,actions:t,showLabel:a=!0})=>{const r=n.useRef(u.a.create(!1));pe.a.useEffectOnWillUnmount(()=>{r.current.get()||Object(i.pipe)(e.muteCategory,g.g.map(a=>t.next({type:O.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:a.id})))});const o=n.useContext(y.a.Context).card.mutedAlertCard;return n.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:O.b.Type.mutedAlertSuccessShow}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:n.createElement(n.Fragment,null,a?n.createElement(ue.i,{alert:e.activeAlert,options:e.renderOptions}):null,n.createElement(E.a,null,o.description(Object(i.pipe)(e.muteCategory,g.g.fold(()=>"",e=>e.description))))),mainActions:n.createElement(n.Fragment,null),footer:n.createElement("div",{className:me},n.createElement(k.a.Primary,{name:"gotIt",className:ge,onClick:()=>I.d.callOnce(()=>t.next({type:O.b.Type.switchToNext}))()},o.successButtonLabel),n.createElement(k.a.Ghost,{name:"turnBackOn",onClick:I.d.callOnce(()=>{r.current.set(!0),Object(i.pipe)(e.muteCategory,g.g.map(a=>t.next({type:O.b.Type.undoMuteAlertCategory,categoryId:a.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,n.createElement(S.d.Undo,{color:T.a.CoreBlue50,className:he}))),subActions:n.createElement(k.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:O.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,n.createElement(S.d.OuterLink,null))})};var be=a("S3HV"),ye=a("r/bb"),Ce=a("IdhR"),ve=a("0PmZ");function Oe(e,t,a){const{activeAlert:n,activeHighlightIndex:r}=t,i=n.getHighlightRanges(),o=(r+("left"===e?i.length-1:1))%i.length;a.next({type:O.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const ke=({card:e,actions:t,selectedLabelIndex:a,isChecking:r})=>{const i=n.useContext(y.a.Context),o=u.a.create(!1);return pe.a.useSubscriptionTo(r.pipe(d.a.tap(e=>o.set(e)))),n.createElement(ue.q,{applyMessage:e.activeAlert.todoAction,checkingMessage:i.card.checking,title:i.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:O.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a.get(),id:e.id,eligibleForSurvey:s.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:s.a.isEligibleForGbPrompt(e),cardType:O.b.getCardType(e)})}})},Se=({card:e,actions:t})=>n.createElement(ve.a,{onLeftClick:()=>Oe("left",e,t),onRightClick:()=>Oe("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var we=a("eLeT");const Ae=({activeAlert:e,selectedLabelIndex:t,actions:a})=>{const r=n.useContext(y.a.Context);return n.createElement("div",{className:we.a.optionsContainer},e.labels.map((i,o)=>n.createElement(n.Fragment,{key:`option-${o}`},n.createElement(A.a.Item,{id:`${e.id}-${o}`,className:we.a.optionLabel,onChange:()=>{t.set(o),a.next({type:O.b.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view(e=>e===o)},n.createElement(E.a,{className:we.a.optionRadio},i.label)),n.createElement(E.l,{className:we.a.optionExample},i.replacementTexts.join("; ")),n.createElement(E.l,{className:we.a.optionSecondaryAttribute},r.card.matchesNavigation.numberOfMatches(i.matches)))))},Ee=e=>e.hasOwnProperty("features")&&e.features.has(c.a.Features.sduiContainerStyle),Ie=({card:e,actions:t,isChecking:a,isCheckingGlobal:r})=>{const i=u.a.create(0);return n.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:O.b.Type.alertCardShow,cardType:O.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:Ee(e.renderOptions)?we.a.sduiSuperWrapper:we.a.superWrapper,content:r.pipe(d.a.map(Object(h.c)(we.a.loadingWrapperInvisible,we.a.loadingWrapper)))},Object(J.a)(e.renderOptions.layoutDensity)),extra:n.createElement(ue.c,{isChecking:r}),body:n.createElement(n.Fragment,null,n.createElement(ue.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(ue.p,{alert:e.activeAlert}),n.createElement(ue.k,{card:e,isChecking:a}),n.createElement(ue.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),n.createElement(Ae,{activeAlert:e.activeAlert,selectedLabelIndex:i,actions:t})),mainActions:n.createElement(ue.e,{card:e,feedbackActions:t}),footer:n.createElement(n.Fragment,null,n.createElement(ue.g,{card:e}),n.createElement(ke,{selectedLabelIndex:i,card:e,actions:t,isChecking:a})),navigation:n.createElement(Se,{card:e,actions:t}),subActions:n.createElement(Ce.a,{actions:t,card:e,mode:"mini"})})};var xe,Te;(Te=xe||(xe={})).Full=({card:e,actions:t})=>{const{isChecking:a,isCheckingGlobal:i,transform:l}=s.a.useCardStates(e),c=e=>n.createElement(ce.a,{card:e,actions:t,isChecking:a,transform:l,isCheckingGlobal:i});return n.createElement(o.a.Fragment,null,e.pipe(d.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),d.a.map(Object(r.flow)(s.a.match({super:e=>n.createElement(Ie,{card:e,actions:t,isChecking:a,isCheckingGlobal:i}),takeaway:c,synfony:c,shortenIt:c,toneAI:c,ethicalAI:c,suggestedSnippet:c,default:c}),s.a.foldCard))))},Te.Mini=({card:e,actions:t})=>n.createElement(o.a.Fragment,null,e.pipe(d.a.map(e=>c.a.Density.matchL(()=>n.createElement(Te.MiniSingleLined,{card:e,actions:t}),()=>n.createElement(Te.MiniTwoLined,{card:e,actions:t}),()=>n.createElement(Te.MiniTwoLined,{card:e,actions:t}))(e.renderOptions.layoutDensity)))),Te.MiniSingleLined=({card:e,actions:t})=>{function a(e){return n.createElement(de.a.Standard,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:a,takeaway:a,synfony:a,shortenIt:a,toneAI:a,ethicalAI:function(e){return n.createElement(be.a.Mini,{card:e,actions:t})},suggestedSnippet:a,default:a}),s.a.foldCard)},Te.MiniTwoLined=({card:e,actions:t})=>{function a(e){return n.createElement(de.a.TwoLined,{card:e,actions:t})}return Object(i.pipe)(e,s.a.match({super:a,takeaway:a,synfony:a,shortenIt:a,toneAI:a,ethicalAI:function(e){return n.createElement(be.a.Mini,{card:e,actions:t,twoLined:!0})},suggestedSnippet:a,default:a}),s.a.foldCard)},Te.Success=({cardData:e,actions:t,isLastCard:a})=>{function r(){return n.createElement(p.a.Success,{actions:t,isLastCard:a})}return Object(i.pipe)(e,l.a.match({takeaway:r,default:r,synfony:r,super:r,shortenIt:r,toneAI:r,ethicalAI:r,suggestedSnippet:function(e){return n.createElement(ye.a.Success,{card:e,actions:t})}}),s.a.foldCard)},Te.FeedbackForm=({cardData:e,actions:t})=>{function a(e){return n.createElement(ee,{card:e,actions:t})}return Object(i.pipe)(e,l.a.match({takeaway:a,default:a,synfony:a,super:a,shortenIt:a,toneAI:a,ethicalAI:a,suggestedSnippet:a}),s.a.foldCard)},Te.MutedAlert=({cardData:e,actions:t})=>{function a(e){return n.createElement(fe,{card:e,actions:t})}return Object(i.pipe)(e,l.a.match({takeaway:a,default:a,synfony:a,super:a,shortenIt:a,toneAI:a,ethicalAI:a,suggestedSnippet:a}),s.a.foldCard)}},"9+0S":function(e,t,a){e.exports=a.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},"9/oM":function(e,t,a){"use strict";a.d(t,"a",(function(){return I})),a.d(t,"b",(function(){return x})),a.d(t,"c",(function(){return j}));var n=a("D57K"),r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("5E2i"),l=a("vOOZ"),c=a("9NHN"),d=a("LNSM"),p=a("lrqh"),u=a("6fbX"),m=a("hoSD"),g=a("MsKq"),h=a("p7l/"),f=a("LXcl"),b=a("zR/0"),y=a("gy42"),C=a("SGQG"),v=a("bO3R"),O=a("3rlE"),k=a("17O8"),S=a("BugA");const w=({alignment:e,rect:t,onClose:a,className:n,children:i,icon:s,pinTargetRect:d,hideCloseButton:u,onMount:m})=>r.createElement(k.a.ByRelativeRect,Object.assign({rect:t,className:C.a.notificationContainer},k.a.Alignment.toSelector(e),{pinTargetRect:d,withPin:!0}),r.createElement(l.a.div,Object.assign({},Object(c.c)(C.a.stepWrapper,n),{mount:m}),Object(o.pipe)(s,p.g.fold(()=>r.createElement(O.d.Grammarly,{className:C.a.alertIcon}),e=>r.createElement(e,{className:C.a.alertIcon}))),i,!(null!=u&&u)&&r.createElement(v.a,{name:"onboard-close",className:C.a.closeIconWrapper,onClick:()=>a&&a()},r.createElement(O.d.Close,{className:C.a.closeIcon,width:12})))),A=e=>{var{title:t,description:a}=e,i=Object(n.__rest)(e,["title","description"]);return r.createElement(w,Object.assign({},i),r.createElement("span",{className:C.a.content},Boolean(t)?r.createElement(S.i,{className:C.a.header},t):null,r.createElement(S.a,{className:C.a.description},a)))},E=({className:e,onClick:t,customStyle:a})=>r.createElement(l.a.div,Object.assign({},Object(c.c)(C.a.pulseWrapper,e),{style:a,onClick:()=>t&&t()}),r.createElement("div",{className:C.a.pulseOptimized}));var I;function x(e){const t=r.useContext(x.Context),{stepId:a,onboardingViewModel:i}=e,s=Object(n.__rest)(e,["stepId","onboardingViewModel"]),l=T(a,i||t),c=r.useContext(h.a.Context).pipe(b.a.map(e=>e.rect));return Object(o.pipe)(l,p.g.fold(()=>r.Children.only(e.children),e=>r.createElement(j,Object.assign({},s,{onboardingStep:e,viewportRect:c}))))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(I||(I={}));const T=(e,t)=>(Object(u.g)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?p.g.some(t.subscribeForStep(e)):p.g.none);class j extends r.Component{constructor(){super(...arguments),this._subs=[],this._wrapperElement=d.a.create(p.g.none),this._containerElement=d.a.create(p.g.none),this._exactTargetRect=d.a.create(p.g.none),this._visibilityState=d.a.create(!1),this._spotStyle=d.a.create({}),this._onEventActionTaken=(e,t=!0)=>a=>{var n;const r=e.state.get();if("popup"===r||t&&"dot"===r){const r=a.target;if(m.c.isDisabled(r))return;const i=t||m.c.hasParentWithClassName(r,C.a.containerDiv);if("findFirstButton"===(null===(n=this.props.dotPosition)||void 0===n?void 0:n.kind)&&!m.c.hasParentWithAttribute(r,"role","button"))return;i&&e.actionTaken()}else"dot"===r&&(a.preventDefault(),a.stopPropagation())}}componentWillUnmount(){const e=this.props.onboardingStep;"popup"===e.state.get()&&e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){const e=this.props.dotPosition;e?this._subs.push(b.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(b.a.filter(e=>"dot"===e||"popup"===e))).pipe(b.a.delay(500),b.a.withLatestFrom(this._wrapperElement,this._containerElement),b.a.switchMap(([t,a,n])=>Object(o.pipe)(Object(i.tuple)(a,n),Object(i.tupled)(p.g.map2((t,a)=>{switch(e.kind){case"findFirstButton":return y.b.toObservable(e.buttonOrder).pipe(b.a.switchMap(n=>b.a.of(void 0).pipe(b.a.delay(500),b.a.map(()=>{const[r,i]=P(t,a,e.position,n);return this._exactTargetRect.set(i),r}))));case"dotAtPosition":return b.a.of(N(e.position));default:return Object(u.d)(e)}})),p.g.fold(()=>b.a.EMPTY,s.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return r.createElement(l.a.div,Object.assign({key:"onboarding-wrapper"},Object(c.c)(C.a.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName),{mount:e=>this._wrapperElement.set(p.g.fromNullable(e))}),r.createElement("div",Object.assign({key:"container",ref:e=>this._containerElement.set(p.g.fromNullable(e))},Object(c.c)(C.a.containerDiv,this.props.themes&&this.props.themes.containerClassName),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),d.a.combine(e.state,this._visibilityState,(t,a)=>{if(!a)return null;switch(t){case"dot":const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),r.createElement(E,Object.assign({customStyle:this._spotStyle,key:"spot"},Object(c.c)(C.a.onboardingSpot,t),{onClick:()=>e.dotClicked()}));case"popup":return r.createElement(A,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(p.g.fold(()=>m.c.Rect.empty,m.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:p.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(p.g.orUndefined)});default:return null}}))}}j.contextType=g.a.Context,j.defaultProps={alignment:"left"};const N=e=>{switch(e){case I.leftTop:return{top:0,left:0};case I.leftCenter:return{top:"50%",left:0};case I.leftBottom:return{top:"100%",left:0};case I.rightTop:return{top:0,left:"100%"};case I.rightCenter:return{top:"50%",left:"100%"};case I.rightBottom:return{top:"100%",left:"100%"};case I.center:return{top:"50%",left:"50%"};default:return Object(u.d)(e)}},L=(e,t,a)=>{switch(a){case I.rightTop:return{top:0,left:e.left-t.left+e.width};case I.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(u.d)(a)}},P=(e,t,a,n)=>{const r=t.querySelectorAll('[role="button"], [role="insertion"], [role="deletion"]'),o=r.length>0&&(void 0===n?r[r.length-1]:r[n]);if(Boolean(o)){const t=m.c.Rect.fromEl(Object(i.unsafeCoerce)(o)),n=m.c.Rect.fromEl(e);return[L(t,n,a),p.g.some(t)]}return[{top:"50%",left:"50%"},p.g.none]};var D;(D=x||(x={})).Context=r.createContext(null),D.ContextMock=({children:e})=>r.createElement(D.Context.Provider,{value:new f.a,children:e})},AK7F:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a("lrqh"),r=a("D9EC"),i=a("kFFO"),o=a("973I"),s=a("XxrX");const l=n.c.fromEquals((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&o.a.eq.equals(e.positionState,t.positionState)),c=e=>Object(i.a)({itemId:e.id,visibilityState:e.visibilityState,positionState:Object(i.a)(e.positionState)});var d,p;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,a)=>new t(e,a,s.a.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,a)=>e.create(t.visibilityState,a),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,a)=>t.visibilityState!==a?e.create(a,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,a,n){this.visibilityState=t,this.positionState=a,this.renderOptions=n,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return l.equals(this,e)}hashCode(){return c(this)}}}(d||(d={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,a)=>new t(e,a,s.a.defaultOptions),e.changePosition=(t,a)=>e.create(t.visibilityState,a),e.transitionTo=(t,a)=>t.visibilityState!==a?e.create(a,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=Object(r.p)(e.isPriorityToggle,d.isPriorityToggleHint);class t{constructor(t,a,n){this.visibilityState=t,this.positionState=a,this.renderOptions=n,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return l.equals(this,e)}hashCode(){return c(this)}}}(p||(p={}))},BT8e:function(e,t,a){"use strict";a.d(t,"b",(function(){return Y})),a.d(t,"a",(function(){return X}));var n=a("ax6a"),r=a("e12y"),i=a("0Hf4"),o=a("ps/9");const s=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:r.a.rem(.5*e)}}}),l=(e,t,a,n)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:`card-list${t}`,counterReset:n,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${a}) '. '`}}}}}),c=e=>[l(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),l(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),l(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),l(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),l(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),l(e,5,"lower-roman","card-list6 card-list7 card-list8"),l(e,6,"decimal","card-list7 card-list8"),l(e,7,"lower-alpha","card-list8"),l(e,8,"lower-roman","none")],d="cards-replacements_labels-",p={list:`${d}list`,item:`${d}item`,diff:`${d}diff`,columnList:`${d}columnList`,itemInsert:`${d}itemInsert`,deleteAll:`${d}deleteAll`,crossed:`${d}crossed`,deleteQuote:`${d}deleteQuote`,deletePunctuation:`${d}deletePunctuation`,deleteDoubleComma:`${d}deleteDoubleComma`,deleteApostrophe:`${d}deleteApostrophe`,deleteLetter:`${d}deleteLetter`,deletePunctuationBeforeLetter:`${d}deletePunctuationBeforeLetter`,itemOriginal:`${d}itemOriginal`,itemOriginalStrikeThrough:`${d}itemOriginalStrikeThrough`,itemOriginalContent:`${d}itemOriginalContent`,spacesOnlyContent:`${d}spacesOnlyContent`,removeOrContainer:`${d}removeOrContainer`,itemContext:`${d}itemContext`,itemContextShifted:`${d}itemContextShifted`,or:`${d}or`,arrowInsertsList:`${d}arrowInsertsList`,cozyArrowInsertsList:`${d}cozyArrowInsertsList`,inlineHeader:`${d}inlineHeader`,fullSentenceBackground:`${d}fullSentenceBackground`,minimalFullSentenceBackground:`${d}minimalFullSentenceBackground`,fullSentenceDelete:`${d}fullSentenceDelete`,fullSentenceDeleteCollapsed:`${d}fullSentenceDeleteCollapsed`,fullSentenceHidden:`${d}fullSentenceHidden`,fullSentenceListItem:`${d}fullSentenceListItem`,fullSentenceBulletListItem:`${d}fullSentenceBulletListItem`,fullSentenceDashedListItem:`${d}fullSentenceDashedListItem`,fullSentenceOrderedListItem:`${d}fullSentenceOrderedListItem`,fullSentenceOrderedListItemWithFormatting:d+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:d+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:d+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:`${d}fullSentenceInsert`,fullSentenceInsertPunctuation:`${d}fullSentenceInsertPunctuation`,toneAIInsert:`${d}toneAIInsert`,itemRemove:`${d}itemRemove`,oneGapInsert:`${d}oneGapInsert`,oneGapInput:`${d}oneGapInput`,drilldownInsertGroup:`${d}drilldownInsertGroup`,drilldownArrowButton:`${d}drilldownArrowButton`,drilldownIcon:`${d}drilldownIcon`,drilldownOriginalRow:`${d}drilldownOriginalRow`,drilldownBackButton:`${d}drilldownBackButton`,collapsibleDelete:`${d}collapsibleDelete`,collapsibleInsert:`${d}collapsibleInsert`,collapsiblePartContent:`${d}collapsiblePartContent`},u={position:"relative",overflow:"hidden",margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,padding:`${r.a.rem(.25)} ${r.a.rem(.5)}`,borderRadius:r.a.rem(o.t),color:n.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:r.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},m={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:r.a.rem(.3125),width:"1px",height:"120%",background:n.a.CoreNeutral0,content:"''",opacity:.8}}},g={position:"relative",marginRight:r.a.rem(.5),whiteSpace:"nowrap"},h=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${r.a.rem(1)} 0`,padding:e?0:r.a.rem(.5),maxHeight:r.a.rem(12),borderRadius:r.a.rem(o.t),background:e?n.a.CoreNeutral0:n.a.CoreNeutral10,color:n.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${o.e}, ${o.f}`}),f={position:"relative",marginRight:r.a.rem(.5),maxWidth:`calc(100% - ${r.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:r.a.rem(.5),color:n.a.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},b={textDecoration:"line-through",color:n.a.CoreRed40,textDecorationLine:"line-through"},y=[s(0),s(1),s(2),s(3),s(4),s(5),s(6),s(7),s(8)],C={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${o.e}, ${o.f}`},v=e=>({background:e?n.a.CoreBlue50:n.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?n.a.CoreBlue40:n.a.CoreGreen50},"&[data-disabled='true']":{background:e?n.a.CoreBlue40:n.a.CoreGreen40}}}),O={$nest:{"&:after":{transform:"rotate(-25deg)"}}},k={paddingRight:r.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},S=e=>({color:e?n.a.CoreBlue50:n.a.CoreGreen60,fontWeight:600}),w={paddingRight:r.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},A={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},E={display:"flex",flexBasis:"100%"},I={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 2px`,color:n.a.CoreNeutral60},x={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},T={marginBottom:r.a.rem(.25),color:n.a.CoreNeutral60,fontWeight:400,fontSize:r.a.rem(.8),lineHeight:r.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},j={color:n.a.CoreRed50,textDecoration:"line-through",fontWeight:600},N=Object.assign(Object.assign({},j),{textDecoration:"none"}),L={fontWeight:"bold",color:n.a.CorePurple50},P={background:n.a.CoreRed50,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:n.a.CoreRed40}}},D={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},B={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},F={width:"100%",marginTop:r.a.rem(.5),marginBottom:r.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:n.a.CoreNeutral40}}},$={marginTop:r.a.rem(.5),lineHeight:`calc(${r.a.rem(2)} - ${r.a.px(2)})`,padding:`0 ${r.a.rem(.5)}`,border:r.a.important(`${r.a.px(1)} solid ${n.a.CoreNeutral50}`),color:n.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:r.a.important(n.a.CoreNeutral20)}}},R=i.a.style(u,v(!1)),M={margin:`0 ${r.a.rem(.5)} ${r.a.rem(.5)} 0`,$nest:{[`& .${p.itemInsert}`]:{transitionProperty:"background",margin:0},[`& > .${p.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${p.drilldownArrowButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},_={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:r.a.rem(.1875),paddingRight:r.a.rem(.3125)},W={width:r.a.rem(1),height:r.a.rem(1),minWidth:r.a.rem(1),minHeight:r.a.rem(1),verticalAlign:"top",marginTop:r.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:r.a.important("white")}}},H={width:r.a.percent(100),marginBottom:r.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:r.a.rem(.5)}}},G={background:n.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:n.a.CoreNeutral10}}},V={display:"inline-block",width:r.a.rem(1),lineHeight:r.a.rem(.625),height:r.a.rem(.625),margin:`0 ${r.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:r.a.rem(o.u)},q={lineHeight:r.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},z=Object.assign(Object.assign({},V),{backgroundColor:n.a.CoreRed10}),U=Object.assign(Object.assign({},V),{backgroundColor:n.a.CoreGreen10}),Y={list:r.a.joinClasses([p.list,r.a.style(C),i.a.style(C)]),item:r.a.joinClasses([p.item,r.a.style(u),i.a.style(u)]),itemInsert:r.a.joinClasses([p.itemInsert,r.a.style(u,v(!1)),R]),deleteAll:r.a.joinClasses([p.deleteAll,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),crossed:r.a.joinClasses([p.crossed,r.a.style(m)]),deleteQuote:r.a.joinClasses([p.deleteQuote,r.a.style(m,O),i.a.style(m,O)]),deletePunctuation:r.a.joinClasses([p.deletePunctuation,r.a.style(m,k),i.a.style(m,k)]),deleteDoubleComma:r.a.joinClasses([p.deleteDoubleComma,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),deleteApostrophe:r.a.joinClasses([p.deleteApostrophe,r.a.style(m,w),i.a.style(m,w)]),deleteLetter:r.a.joinClasses([p.deleteLetter,r.a.style(A),i.a.style(A)]),deletePunctuationBeforeLetter:r.a.joinClasses([p.deletePunctuationBeforeLetter,r.a.style({textDecoration:"line-through"}),i.a.style({textDecoration:"line-through"})]),itemOriginal:r.a.joinClasses([p.itemOriginal,r.a.style(f),i.a.style(f)]),itemOriginalStrikeThrough:r.a.joinClasses([p.itemOriginalStrikeThrough,r.a.style(b),i.a.style(b)]),itemOriginalContent:r.a.joinClasses([p.itemOriginalContent,r.a.style({color:n.a.CoreNeutral90}),i.a.style({color:n.a.CoreNeutral90})]),spacesOnlyContent:r.a.joinClasses([p.spacesOnlyContent,r.a.style({whiteSpace:"pre"})]),removeOrContainer:r.a.joinClasses([p.removeOrContainer,r.a.style(E),i.a.style(E)]),itemContext:r.a.joinClasses([p.itemContext,r.a.style(g)]),itemContextShifted:r.a.joinClasses([p.itemContextShifted,r.a.style(g,{marginRight:"2px"}),i.a.style(g,{marginRight:"2px"})]),or:r.a.joinClasses([p.or,r.a.style(I),i.a.style(I)]),arrowInsertsList:r.a.joinClasses([p.arrowInsertsList,r.a.style(x),i.a.style(x)]),columnList:r.a.joinClasses([p.columnList,r.a.style(x,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),i.a.style(x)]),cozyArrowInsertsList:r.a.joinClasses([p.arrowInsertsList,r.a.style(x,{flex:2,flexBasis:"0%"}),i.a.style(x)]),inlineHeader:r.a.joinClasses([p.inlineHeader,r.a.style(T),i.a.style(T)]),toneAIInsert:r.a.joinClasses([p.toneAIInsert,r.a.style(L),i.a.style(L)]),fullSentenceBackground:r.a.joinClasses([p.fullSentenceBackground,r.a.style(h(!1)),i.a.style(h(!1))]),minimalFullSentenceBackground:r.a.joinClasses([p.minimalFullSentenceBackground,r.a.style(h(!1),{lineHeight:r.a.rem(1.3125)}),i.a.style(h(!1),{lineHeight:r.a.rem(1.3125)})]),fullSentenceDelete:r.a.joinClasses([p.fullSentenceDelete,r.a.style(j),i.a.style(j)]),fullSentenceDeleteCollapsed:r.a.joinClasses([p.fullSentenceDeleteCollapsed,r.a.style(N),i.a.style(N)]),fullSentenceHidden:r.a.joinClasses([p.fullSentenceHidden,r.a.style({display:"none"})]),fullSentenceListItem:r.a.joinClasses([p.fullSentenceListItem,r.a.style(...y),i.a.style(...y)]),fullSentenceBulletListItem:r.a.joinClasses([p.fullSentenceBulletListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:r.a.joinClasses([p.fullSentenceDashedListItem,r.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),i.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:r.a.joinClasses([p.fullSentenceOrderedListItem,r.a.style(...c(""),...y),i.a.style(...c(""),...y)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([p.fullSentenceOrderedListItemWithFormatting,r.a.style(...c("¶"),...y,S(!1)),i.a.style(...c("¶"),...y,S(!1))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([p.fullSentenceBulletListItemWithFormatting,r.a.style(...y,B,S(!1)),i.a.style(...y,B)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([p.fullSentenceDashedListItemWithFormatting,r.a.style(...y,D,S(!1)),i.a.style(...y,D)]),fullSentenceInsert:r.a.joinClasses([p.fullSentenceInsert,r.a.style(S(!1))]),fullSentenceInsertPunctuation:r.a.joinClasses([p.fullSentenceInsertPunctuation,r.a.style(S(!1))]),diff:r.a.joinClasses([p.diff,r.a.style({fontWeight:"bolder"}),i.a.style({fontWeight:"bolder"})]),itemRemove:r.a.joinClasses([p.itemRemove,r.a.style(u,P)]),oneGapInsert:r.a.joinClasses([p.oneGapInsert,r.a.style(u,v(!1),F),R]),oneGapInput:r.a.joinClasses([p.oneGapInput,r.a.style($)]),drilldownInsertGroup:r.a.joinClasses([p.drilldownInsertGroup,r.a.style(M)]),drilldownArrowButton:r.a.joinClasses([p.drilldownArrowButton,r.a.style(_)]),drilldownIcon:r.a.joinClasses([p.drilldownIcon,r.a.style(W)]),drilldownOriginalRow:r.a.joinClasses([p.drilldownOriginalRow,r.a.style(H)]),drilldownBackButton:r.a.joinClasses([p.drilldownBackButton,r.a.style(G)]),collapsibleDelete:r.a.joinClasses([p.collapsibleDelete,r.a.style(z)]),collapsibleInsert:r.a.joinClasses([p.collapsibleInsert,r.a.style(U)]),collapsiblePartContent:r.a.joinClasses([p.collapsiblePartContent,r.a.style(q)])};r.a.cssRule(`.${p.fullSentenceDelete} + .${p.fullSentenceInsert}`,{marginLeft:r.a.rem(.25)});const X=Object.assign(Object.assign({},Y),{itemInsert:r.a.joinClasses([p.itemInsert,r.a.style(u,v(!0)),R]),oneGapInsert:r.a.joinClasses([p.oneGapInsert,R,r.a.style(u,v(!0),F)]),fullSentenceOrderedListItemWithFormatting:r.a.joinClasses([p.fullSentenceOrderedListItemWithFormatting,i.a.style(...c("¶"),...y,S(!1)),r.a.style(...c("¶"),...y,S(!0))]),fullSentenceBulletListItemWithFormatting:r.a.joinClasses([p.fullSentenceBulletListItemWithFormatting,r.a.style(...y,B,S(!0)),i.a.style(...y,B)]),fullSentenceDashedListItemWithFormatting:r.a.joinClasses([p.fullSentenceDashedListItemWithFormatting,r.a.style(...y,D,S(!0)),i.a.style(...y,D)]),fullSentenceInsert:r.a.joinClasses([p.fullSentenceInsert,r.a.style(S(!0))]),fullSentenceInsertPunctuation:r.a.joinClasses([p.fullSentenceInsertPunctuation,r.a.style(S(!0))]),fullSentenceBackground:r.a.joinClasses([p.fullSentenceBackground,r.a.style(h(!0)),i.a.style(h(!1))]),minimalFullSentenceBackground:r.a.joinClasses([p.minimalFullSentenceBackground,r.a.style(h(!0),{lineHeight:r.a.rem(1.3125)}),i.a.style(h(!0),{lineHeight:r.a.rem(1.3125)})])})},BWF9:function(e,t,a){e.exports=a.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},BeBM:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"k",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"l",(function(){return C})),a.d(t,"j",(function(){return v})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return O})),a.d(t,"h",(function(){return S})),a.d(t,"g",(function(){return w})),a.d(t,"b",(function(){return A}));var n,r,i,o,s,l=a("GRZr"),c=a("OA+g"),d=a("I7vG"),p=a("xlCj"),u=a("lrqh"),m=a("D9EC"),g=a("6fbX"),h=a("hoSD"),f=a("GUi3"),b=a("zR/0"),y=a("kFFO");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(n||(n={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.closed="closed"}(r||(r={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return Object(d.pipe)(e.cardIndex,u.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t,e.getActiveItemIndex=t=>Object(c.flow)(e.getActiveItem,u.g.chain(e=>t.get(e.id)),u.g.map(e=>e.index)),e.getActiveItemOfType=function(e){return Object(c.flow)(t,u.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(a,n)=>t(a,Object(m.b)(e,n)),e.compose=function(e){return(t,a)=>Object(l.fold)(Object(l.getEndomorphismMonoid)())(e.map(e=>e(t,a)))}}(s||(s={}));const C=e=>"withPriorityList"in e&&e.withPriorityList;var v,O;!function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(v||(v={}));class k{constructor(e){this._data=e}static create(e){return new k(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new k(Object.assign(Object.assign({},this._data),e))}hashCode(){let e=7;return e=31*(e=31*(e=31*e+Object(y.b)(this.alertSource))+Object(y.b)(this.switchOrder))+this.currentLens.hashCode()}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}}!function(e){function t(e,t,a){return n=>{switch(n.currentLens.kind){case i.active:return e(n);case i.persistent:return t(n);case i.abstract:return a(n);default:return Object(g.d)(n.currentLens)}}}let a,o,s,l;function m(e){return e.currentLens.kind===i.persistent}function y(e){return f.a.isOutcomeId(e.currentLens.id)||f.a.isMainLens(e.currentLens.id)||e.currentLens.id===f.a.SpecialId.PredictionTakeaways||e.currentLens.id===f.a.SpecialId.PredictionEmogenie}e.withCardLensSnapshot=(e,t)=>a=>{const n=a.currentLens.items.size>50,r=Object(d.pipe)(a.currentLens.cardIndex,u.g.getOrElse(()=>0)),[i,o]=n?[Math.max(r-25,0),r+25]:[0,50];return{alertSource:a.alertSource,switchOrder:a.switchOrder,lens:{id:a.currentLens.id,card:Object(d.pipe)(t(a.currentLens),u.g.map(e)),items:a.currentLens.items.values().slice(i,o).map(e),sample:n}}},e.snapshot=(a,n)=>t(e.withCardLensSnapshot(a,n),e.withCardLensSnapshot(a,n),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}})),e.genericMapper=t,e.mapper=e=>t(e,e,()=>u.g.none),e.getActiveItem=t=>e.mapper(({currentLens:e})=>t(e)),e.getActiveAlertHighlight=t=>Object(c.flow)(e.getActiveItem(t),u.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=t=>Object(c.flow)(e.getActiveItem(t),u.g.map(e=>e.activeAlert)),e.getLens=e.mapper(({currentLens:e})=>u.g.some(e)),function(e){e.mapper=function(e,t){return a=>t[e(a)](a)}}(a=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===r.lensview},e.isPersistent=m,e.hasCards=function(e){return e.currentLens.kind===i.active||m(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=y,e.isWithPriorityList=function(e){return y(e)&&C(e.currentLens)},e.isForceSidebar=t=>(e.isLensview(t)||t.currentLens.type===r.plagiarism)&&t.alertSource===n.forceSidebar,e.isSidebarOpened=t=>!e.is(f.a.SpecialId.Closed)(t),function(e){e.defaultFilter=h.e.pick("alertHighlight")}(o=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>p.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>p.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(s=e.Prism||(e.Prism={})),function(e){let t,a,n,r,i,o,s,l,d;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let a;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(a=e.Source||(e.Source={}))}(a=e.Applicator||(e.Applicator={})),function(e){let a;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(a=e.Source||(e.Source={}))}(n=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(r=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===f.a.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=Object(c.not)(t),e.always=c.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const a=b.a.delayWhen(()=>b.a.of(void 0),e),n=Object.assign(Object.assign({},t.what),{source:a(t.what.source)});return Object.assign(Object.assign({},t),{what:n})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(l=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:l.noFocus},e.unFocus={kind:l.unFocus},e.focusNext={kind:l.focusNext},e.focusFirst={kind:l.focusFirst},e.focusAlert=e=>({kind:l.focusAlert,alertHighlight:e})}(d=e.FocusBehavior||(e.FocusBehavior={}))}(l=e.Effect||(e.Effect={}))}(k||(k={})),function(e){e.defaultOptions={focusBehavior:k.Effect.FocusBehavior.focusFirst}}(O||(O={}));var S,w,A;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(S||(S={})),function(e){e.getDefault=()=>S.allAlerts}(w||(w={})),function(e){e.skip=c.constFalse,e.force=c.constTrue,e.proceed=e=>e.positionState.animationInProgress}(A||(A={}))},BlMh:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("vOOZ"),o=a("9NHN"),s=a("q4n/"),l=a("ax6a"),c=a("e12y"),d=a("SD38");!function(e){e.Item=({className:e,children:t,onChange:a,checked:n,id:l})=>{const c=`radio-${l}`;return r.createElement(i.a.label,Object.assign({id:c,onClick:a},Object(o.c)(u.radio,e)),r.createElement(i.a.span,{role:"radio",tabIndex:0,"aria-checked":n,"aria-labelledby":c,onClick:a,onKeyDown:e=>{[s.a.ENTER_CODE,s.a.SPACE_CODE].includes(e.keyCode)&&(e.preventDefault(),a())},className:p}),t)},e.Group=({id:t,items:a,selectedItemIndex:n,itemWrapperClassName:o,ariaLabelledBy:s,className:l,onChange:c})=>r.createElement(i.a.div,{role:"radiogroup","aria-labelledby":s,className:l},a.map((a,i)=>r.createElement(e.Item,{id:`${t}-${i}`,key:i,onChange:()=>{n.set(i),c&&c(i)},checked:n.view(e=>i===e),className:o},a)))}(n||(n={}));const p=c.a.joinClasses(["radioInput",c.a.style({display:"inline-block",boxSizing:"border-box",minWidth:c.a.rem(1),width:c.a.rem(1),height:c.a.rem(1),border:`${c.a.rem(.125)} solid ${d.ui500}`,borderRadius:c.a.percent(50),backgroundColor:l.a.CoreNeutral0,content:"' '",$nest:{"&[aria-checked=true]":{border:`${c.a.rem(.25)} solid ${l.a.CoreBlue50}`}}})]),u=c.a.stylesheet({radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]})},BwCH:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("zR/0");class r{static copy(e,t){this._clearSelection();const a=this._createHiddenSpan(e);return this.select(a),this._copy(e,t).then(()=>{a.parentElement.removeChild(a)}).catch(e=>{throw a.parentElement.removeChild(a),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),a=document.createRange();a.selectNodeContents(e),t.removeAllRanges(),t.addRange(a)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((a,n)=>{try{const r=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(r)?a():n(new Error("Copy API doesn't work"))}catch(e){n(e)}})}}r.copyApiAvailable=new n.a.BehaviorSubject(!0);try{n.a.fromEvent(window,"click").pipe(n.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||r.copyApiAvailable.next(!1)})}catch(e){r.copyApiAvailable.next(!1)}},C53H:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return h}));var n=a("a5W6"),r=a("OA+g"),i=a("I7vG"),o=a("24uI"),s=a("94k3"),l=a("lrqh"),c=a("dE97"),d=a("JSz4"),p=a("KBak"),u=a("f3nf");const m={ignoreWhitespaceRemoves:!0},g=Object(r.flow)((function(e,t=m){return a=>Object(i.pipe)(a.alternatives,y(e,{isFullSentence:c.f.isFullSentence(a.cardType),isShortenIt:c.f.isShortenIt(a.cardType),isToneAI:c.f.isToneAI(a.cardType),isCitation:c.f.isCitation(a.cardType)}),l.b.chain(u.a.create(Object.assign(Object.assign({},t),{drilldown:a.drilldown}))))}),d.a);const h=e=>Object(r.flow)(y(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1,isCitation:!1}),l.b.map(l.f.map(({ops:e,text:t})=>Object(i.pipe)(e,function(e){return Object(r.flow)(n.reduce({currPos:0,diff:[]},(t,a)=>(o.a.isDelete(a)?(t.diff.push({textChunk:e.substr(t.currPos,a.delete),type:a.type===s.a.AlternativeOperation.Type.Main||a.type===s.a.AlternativeOperation.Type.Important?p.a.Type.Delete:p.a.Type.Retain}),t.currPos+=a.delete):o.a.isInsert(a)?t.diff.push({textChunk:o.a.isInsertString(a)?a.insert:"",type:a.type===s.a.AlternativeOperation.Type.Main?p.a.Type.Insert:p.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,a.retain),type:p.a.Type.Retain}),t.currPos+=a.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(i.pipe)(t,n.findFirst(t=>t.type===p.a.Type.Delete&&t.textChunk===e.trim()),l.g.map(e=>[e,{textChunk:Object(i.pipe)(t,n.reduce("",(t,a)=>p.a.NoInvert.eq.equals(a,e)?t:(t+=a.textChunk,t))),type:p.a.Type.Insert}]),l.g.getOrElse(()=>t))}(t),f,b))));function f(e){return Object(i.pipe)(e,n.reduceWithIndex([],(t,a,n)=>{const r=e[t-1];return void 0!==r&&p.a.isDelete(n)&&p.a.isInsert(r)?(a.push(r),a[t-1]=n):a.push(n),a}))}function b(e){return Object(i.pipe)(e,n.reduceWithIndex([],(t,a,n)=>{const r=e[t-1];return void 0!==r&&p.a.isInsert(n)&&p.a.isDelete(r)?(a[t-1]=Object.assign(Object.assign({},r),{invertedChunk:n.textChunk}),a.push(Object.assign(Object.assign({},n),{invertedChunk:r.textChunk}))):a.push(Object.assign(Object.assign({},n),{invertedChunk:""})),a}))}function y(e,t){const a=Object(r.flow)(e,e=>e.delta.reduce((e,t)=>o.a.isInsertString(t)?e+t.insert:e,""));return Object(r.flow)(function(e,{isFullSentence:t,isShortenIt:a,isToneAI:r,isCitation:o}){return c=>Object(i.pipe)(c,n.filterMap(n=>Object(i.pipe)(n.type,l.g.map(i=>{if(s.a.Alternative.hasOptionalContext(n.ops)){const[l,...c]=n.ops,d=s.a.AlternativeOperation.length(l);return{text:e(d,n.lengthAffected-d),ops:c,type:i,isFullSentence:t,isShortenIt:a,isToneAI:r,isCitation:o}}return{text:e(0,n.lengthAffected),ops:n.ops,type:i,isFullSentence:t,isShortenIt:a,isToneAI:r,isCitation:o}}))),l.f.fromArray)}(a,t),l.b.fromOption(()=>new Error("Alternative array is empty")))}},CxAE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("OA+g"),o=a("I7vG"),s=a("9NHN"),l=a("vOOZ"),c=a("zR/0"),d=a("lrqh"),p=a("ax6a"),u=a("e12y"),m=a("rk+4"),g=a("wOnQ"),h=a("uqkn"),f=a("IVzZ"),b=a("+w1e"),y=a("XxrX"),C=a("6lhv"),v=a("H37f"),O=a("BugA"),k=a("xEVj"),S=a("aIes"),w=a("0A/6"),A=a("H9T+"),E=a("RWgj"),I=a("cVtq"),x=a("J/IC");!function(e){e.BundleMini=({card:e,actions:t})=>r.createElement(w.a.Mini,Object.assign({},Object(s.c)(E.b.wrapper,E.b.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(O.m,{className:E.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),r.createElement(l.a.div,{className:j.content},r.createElement(v.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:j.emoji}),r.createElement("div",{className:E.b.highlightedText},f.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:a,isCheckingGlobal:n})=>{const s=r.useContext(m.a.Context),p=k.a.useAtomOf(e.activeAlert.toneAlternatives),u=r.useCallback(a=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:b.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:a})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(o.pipe)(e.transform,d.g.filter(g.j.isToneAI),d.g.fold(()=>null,o=>r.createElement(A.r,{card:e,actions:t,isChecking:a,isCheckingGlobal:n,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(A.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(l.a.Fragment,null,p.pipe(c.a.map(e=>r.createElement(x.a,{toneAlternatives:e,onSelectToneAlternative:u})))),0===e.activeAlert.selectedToneAlternativeIdx?r.createElement("div",{className:P.replacementContainer},e.activeAlert.highlightTexts[0]):r.createElement(C.b,{classes:{rendered:P.replacement,removing:P.replacementHidden},timeout:250,content:c.a.of(r.createElement(I.g,{label:o.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:P.replacementContainer,a11yContrast:e.renderOptions.features.has(y.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?r.createElement(A.q,{title:s.card.todoAction(o.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:S.d.callOnce(()=>t.next({type:b.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:b.b.getCardType(e),eligibleForSurvey:h.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:h.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(i.constant)(r.createElement(A.e,{card:e,feedbackActions:t})),subActions:Object(i.constant)(r.createElement(A.m,{card:e,actions:t})),cardFooter:Object(i.constant)(r.createElement(A.g,{card:e}))})))}}(n||(n={}));const T={width:u.a.rem(1),height:u.a.rem(1),marginRight:u.a.rem(.5)},j=u.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[T]}),N={transition:`opacity ${u.a.seconds(A.t)}`},L={width:u.a.percent(100),background:p.a.CoreNeutral10,borderRadius:u.a.px(4),fontSize:u.a.rem(.875),lineHeight:u.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:u.a.px(8),marginTop:u.a.px(12),boxSizing:"border-box"},P=u.a.stylesheet({replacement:[N],replacementHidden:[N,{opacity:0}],replacementContainer:[L]})},"D/5U":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return E})),a.d(t,"a",(function(){return F})),a.d(t,"b",(function(){return $}));var n=a("e12y"),r=a("ps/9"),i=a("3bJT");const o="linear",s=n.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),l=n.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),c=n.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),d=n.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=n.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),u=n.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=n.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),g=n.a.keyframes({"0%, 100%":{opacity:0}}),h=n.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),f=n.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=n.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),y=n.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),C=n.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),v=n.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),O={position:"relative",margin:`${n.a.rem(.5)} ${n.a.rem(2)} ${n.a.rem(.5)} 0`,userSelect:"none"},k={position:"absolute",width:n.a.percent(100),pointerEvents:"none"},S={opacity:0,animation:`${s} ${n.a.seconds(r.d/4/1e3)} ${o} ${n.a.seconds(r.d/1e3)} forwards`},w={transformOrigin:"top",animation:`${l} ${n.a.seconds(r.d/1e3)} ${o} forwards`},A={transformOrigin:"bottom",animation:`${c} ${n.a.seconds(r.d/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},I={animation:`${d} ${n.a.seconds(r.d/1e3)} ${o} forwards`},x={animation:`${p} ${n.a.seconds(r.d/1e3)} ${o} forwards`},T={animation:`${u} ${n.a.seconds(r.d/1e3)} ${o} reverse forwards`},j={animation:`${u} ${n.a.seconds(r.d/1e3)} ${o} forwards`},N={animation:`${m} ${n.a.seconds(r.d/1e3)} ${o} forwards`},L={animation:`${m} ${n.a.seconds(r.d/1e3)} ${o} reverse forwards`},P={transformOrigin:"top",animation:`${h} ${n.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.successWrapperSelector} > *`]:{animation:`${f} ${n.a.seconds(r.d/1e3)} ${o} forwards`}}},D={position:"absolute",width:n.a.percent(100),transformOrigin:"top",animation:`${b} ${n.a.seconds(r.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${y} ${n.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${o} none`},[`& .${i.b.fullCardSelector}`]:{transform:`translateY(${n.a.rem(-1)})`}}},B={transformOrigin:"top",animation:`${C} ${n.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${v} ${n.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${o} none`}}},F=n.a.stylesheet({wrapper:[O],animationWrapper:[{position:"relative"}],shade:[k],focused2renderedMain:[S],focused2renderedShade:[k,w],focused2renderedShadeClockwise:[k,A],rendered2focusedMainBase:[E],rendered2focusedMain:[E,I],rendered2focusedMainClockwise:[E,x],addedMain:[T],rendered2removedShade:[k,j],openedMain:[N],closedMain:[L],focused2successMain:[P],focused2successShade:[D],success2FocusedMain:[B]}),$=new Map([[l,F.focused2renderedShade],[c,F.focused2renderedShadeClockwise],[u,F.rendered2removedShade],[b,F.focused2successShade]])},DFPs:function(e,t,a){e.exports=a.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},"Dbx/":function(e,t,a){"use strict";a.r(t);var n=a("e12y"),r=a("BWF9"),i=a.n(r),o=a("DFPs"),s=a.n(o),l=a("L9r+"),c=a.n(l),d=a("8cdc"),p=a.n(d),u=a("7wg/"),m=a.n(u),g=a("uwfv"),h=a.n(g),f=a("8Zga"),b=a.n(f),y=a("Egmf"),C=a.n(y),v=a("My8q"),O=a.n(v),k=a("5l2B"),S=a.n(k),w=a("VLye"),A=a.n(w),E=a("9+0S"),I=a.n(E),x=a("7pZ3"),T=a.n(x),j=a("fNos"),N=a.n(j),L=a("ZEPo"),P=a.n(L),D=a("c/4S"),B=a.n(D);n.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${C.a}') format('woff2'), url('${b.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${s.a}') format('woff2'), url('${i.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${B.a}') format('woff2'), url('${P.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${I.a}') format('woff2'), url('${A.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${S.a}') format('woff2'), url('${O.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${h.a}') format('woff2'), url('${m.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${N.a}') format('woff2'), url('${T.a}') format('woff')`,fontDisplay:"swap"}),n.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${p.a}') format('woff2'), url('${c.a}') format('woff')`,fontDisplay:"swap"})},Egmf:function(e,t,a){e.exports=a.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},"Ei+9":function(e,t,a){"use strict";a.d(t,"b",(function(){return q})),a.d(t,"c",(function(){return ee})),a.d(t,"a",(function(){return z}));var n={};a.r(n),a.d(n,"sendToSignIn",(function(){return E})),a.d(n,"sendToIdeasGallery",(function(){return I})),a.d(n,"handleGbPrompt",(function(){return x}));var r=a("7qGb"),i=a("OA+g"),o=a("I7vG"),s=a("ZTXN"),l=a("LNSM"),c=a("94k3"),d=a("lrqh"),p=a("6fbX"),u=a("D9EC"),m=a("umZW"),g=a("XF5a"),h=a("PrA7"),f=a("zI3C"),b=a("dE97"),y=a("HqKA"),C=a("GUi3"),v=a("+w1e"),O=a("zR/0"),k=a("GGUR"),S=a("aIes"),w=a("K4Sz"),A=a("4GD7");const E=(e,t)=>Object(i.flow)(O.a.filter(e=>e.type===v.b.Type.toSignIn),O.a.map(()=>a=>(e.actions.openUrl(new m.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),a))),I=(e,t)=>Object(i.flow)(O.a.filter(v.b.isOpenIdeasGallery),O.a.tap(()=>e.actions.openPopup(new m.a(t.ideas.galleryURL))),O.a.switchMapTo(O.a.EMPTY)),x=(e,t,a)=>n=>O.a.mergeStatic(Object(o.pipe)(n,O.a.filter(v.b.isGbPromptShow),O.a.tap(e=>T(e,a)),O.a.switchMapTo(O.a.EMPTY)),Object(o.pipe)(n,O.a.filter(v.b.isGbPromptApply),O.a.tap(n=>j(e,t,n,a)),O.a.switchMapTo(O.a.EMPTY)),Object(o.pipe)(n,O.a.filter(v.b.isGbPromptCreateRule),O.a.tap(e=>N(e,a)),O.a.switchMapTo(O.a.EMPTY)),Object(o.pipe)(n,O.a.filter(v.b.isGbPromptDismiss),O.a.tap(e=>L(e,a)),O.a.switchMapTo(O.a.EMPTY))),T=({patternName:e},t)=>t.onShow(e),j=(e,t,a,n)=>b.g.isVox(a.gbPrompt)?P(e,t,a,n):F(e,t,a,n),N=(e,t)=>b.g.isVox(e.gbPrompt)?M(e,t):H(),L=(e,t)=>b.g.isVox(e.gbPrompt)?G(e,t):V(e,t),P=(e,t,a,n)=>"redirect"===a.gbPrompt.promptType?D(e,t,a,n):B(),D=(e,t,{gbPrompt:{styleGuideId:a},source:n,target:r,patternName:i},o)=>{e.actions.openPopup(new m.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:n,target:r,styleGuideId:a})),o.onAccept(i)},B=()=>{},F=(e,t,a,n)=>"redirect"===a.gbPrompt.promptType?$(e,t,a,n):R(a,n),$=(e,t,{gbPrompt:a,patternName:n},r)=>{e.actions.openPopup(new m.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:a.categoryTitle})),r.onAccept(n)},R=({patternName:e},t)=>t.onAccept(e),M=(e,t)=>"redirect"===e.gbPrompt.promptType?_():W(e,t),_=()=>{},W=({patternName:e},t)=>t.onAccept(e),H=()=>{},G=({patternName:e,step:t},a)=>"initial"===t&&a.onDismiss(e),V=({patternName:e,step:t},a)=>"initial"===t&&a.onDismiss(e);var q,z,U=a("UEGg"),Y=a("uqkn"),X=a("YJiV"),K=a("W39u"),Z=a("TC4P"),Q=a("BeBM"),J=a("bFfh");!function(e){const t=(e,t,a,n)=>{return Object(o.pipe)(n(t=>(t.lensId===e.id||C.a.isMainLens(e.id))&&!b.a.isPremium(t),"middleOfTheViewport"),d.g.fold(()=>O.a.EMPTY,n=>Object(o.pipe)(a(e),d.g.filter(e=>e.activeAlert.id===n.alert.id),d.g.fold(()=>O.a.of(n),e=>((e,a)=>Object(o.pipe)(t,d.g.map(t=>t.alignMarkToCard(e,A.a.Animation.ANIMATE_ALL,d.g.none).pipe(O.a.switchMapTo(O.a.EMPTY))),d.g.getOrElse(()=>O.a.of(a))))(Object(i.unsafeCoerce)(e),n)))))};e.changeAlertEffect=(e,a,n,r,i,s,l,c)=>({id:"changeAlertEffect",when:C.a.isWithAlertsId,what:Q.e.Effect.SwitchAlert.create(a.actionEvents.pipe(O.a.switchMap(a=>{const u=e.get();if(!Q.e.hasCards(u))return O.a.throwError(new p.b("Cannot update state without cards"));switch(a.type){case v.b.Type.alertMinicardButtonClick:return Object(o.pipe)(i.getRegistered(a.alertHighlight.alert.id),d.g.fold(()=>(c.error("somehow we got click on non registered alert",{alert:U.a.snapshot(a.alertHighlight.alert),alertInRepo:Object(o.pipe)(i.getById(a.alertHighlight.alert.id),d.g.map(U.a.fromModel),d.g.map(U.a.snapshot)),state:Q.e.snapshot(X.a.snapshot,r)(u)}),O.a.EMPTY),()=>O.a.of(a.alertHighlight)));case v.b.Type.cardMatchesNavigationButtonClick:const e=a.transitionTo;switch(e.kind){case"anotherAlert":return Object(o.pipe)("right"===a.direction?n.nextAlert(e.card):Object(o.pipe)(n.prevAlert(e.card),d.g.orElse(n.anyRegisteredAlert(e.card))),d.g.fold(()=>O.a.EMPTY,e=>O.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(o.pipe)(i.getRegistered(e.card.activeAlert.id),d.g.fold(()=>O.a.EMPTY,()=>O.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(p.d)(e)}case v.b.Type.switchToClosestByViewport:return t(u.currentLens,s,r,l);default:return O.a.EMPTY}}),O.a.map(e=>({alertHighlight:e,alertSource:b.b.sidebar,options:{order:"lensOrder"}}))))}),e.createSendActiveAlertFeedbacksEffect=function(e,t,a,n,r){const s=e.pipe(O.a.map(Q.e.getActiveAlert(t)),O.a.distinctUntilChanged(d.g.getEq(d.c.fromEquals((e,t)=>U.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),O.a.map(d.g.filter(e=>d.g.isSome(n.getRegistered(e.id))&&!b.a.isInPremiumLens(e))),O.a.switchMap(d.g.fold(()=>O.a.EMPTY,t=>O.a.Observable.create(()=>(Object(o.pipe)(a.applyFeedback(t.id,{kind:c.a.AlertFeedbackType.LOOKED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),d.b.fold(r.handler("Failed to send LOOKED feedback").error,u.e)),()=>{d.g.isSome(n.getRegistered(t.id))&&Object(o.pipe)(a.applyFeedback(t.id,{kind:c.a.AlertFeedbackType.CLOSED,subtype:y.b.getSubTypeFromLens(e.get().currentLens.id)},b.b.sidebar),d.b.fold(r.handler("Failed to send CLOSED feedback: ").error,u.e))})))));return{id:"sendActiveAlertFeedbacksEffect",when:i.constTrue,what:Q.e.Effect.Applicator.create(s.pipe(O.a.switchMapTo(O.a.NEVER)))}}}(q||(q={}));class ee{constructor(e,t,a,n,r,l,m,g,C,A,E,I,x=new f.b,T={bufferTransitions:!0,showGbPrompt:!1},j=u.e){this._ops=e,this._navigationEvents=t,this._cardFactory=a,this._alertsService=n,this._markOnboardingAsSeen=r,this._markMuteQuotedAdviceAsDismissed=l,this._sendToUrlExperiment=g,this._getActiveItemWithAlert=A,this._checksFeedCapabilities=E,this._lensState=I,this._platformEnvironment=x,this._settings=T,this._setDocumentCitationStyle=j,this._log=h.Monitoring.Logging.getLogger("CardsViewModelImpl",h.Logging.LogLevel.DEBUG),this._subs=new k.a.Keeper,this._flushCompleteTransition=new O.a.Subject,this._flushPositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.completePositionAnimation=new O.a.Subject,this.changePosition=new O.a.Subject,this._transitionBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=O.a.interval(100).pipe(O.a.startWith(0),O.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(O.a.filter(v.a.isStartTransitionTo),O.a.map(e=>t=>z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(O.a.filter(v.a.isCompleteTransitionTo),this._settings.bufferTransitions?O.a.buffer(this._transitionBuffer):O.a.map(e=>[e]),O.a.filter(u.n),O.a.map(e=>t=>{const a=t.currentLens,n=this._applyCompleteVSChange(a,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(h.Logging.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:S.a.Sorted.diff(a.items,n.items)}),Q.e.Prism.getLens().set(n,t)})),this._changePositionEffect=this.changePosition.pipe(O.a.map(({id:e,height:t})=>a=>{const n=Object(o.pipe)(w.a.update(a.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(K.a.PositionState.changeHeight(e.positionState,t))(e)),d.b.fold(()=>a.currentLens.items,i.identity));return z.itemsLens.set(n,a)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(O.a.buffer(this._positionAnimationBuffer),O.a.filter(u.n),O.a.map(e=>t=>{const a=t.currentLens.items,n=e.map(e=>[e,!1]).reduce((e,[t,a])=>Object(o.pipe)(w.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(K.a.PositionState.changeAnimationInProgress(e.positionState,a))(e)),d.b.fold(()=>e,i.identity)),a);return z.itemsLens.set(n,t)})),this._switchToNextChanges=this.actionEvents.pipe(O.a.filter(e=>e.type===v.b.Type.switchToNext),O.a.map(()=>e=>e.patch({currentLens:Object(o.pipe)(Q.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):d.g.none,d.g.fold(()=>Object(o.pipe)(Q.e.getActiveAlert(this._getActiveItemWithAlert)(e),d.g.fold(()=>{throw new p.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>Q.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t)(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(O.a.filter(v.b.isDismissMuteQuotedAdvice),O.a.tap(this._markMuteQuotedAdviceAsDismissed),O.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(i.flow)(this._checksFeedCapabilities.hasActiveAlert,d.g.map(e=>e.alert),d.g.exists(U.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(o.pipe)(w.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),d.b.fold(()=>e,i.identity)),e.currentLens.items);return z.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(O.a.filter(v.b.isChangeUserInput),O.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),O.a.map(({cardId:e,userInput:t})=>a=>{const n=Object(o.pipe)(a.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?d.g.some(t):d.g.none)),d.b.fold(()=>a.currentLens.items,i.identity));return z.itemsLens.set(n,a)})),this._shortenItDismissEdit=this.actionEvents.pipe(O.a.filter(v.e.isDismissEdit),O.a.map(({alertId:e,group:t,itemId:a})=>n=>Object(o.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),d.b.map(e=>({newAlert:e,itemId:a})),d.b.chainW(({newAlert:e,itemId:t})=>w.a.update(n.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),d.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),n),e=>z.itemsLens.set(e,n))))),this._focusChecksFeedItem=this.actionEvents.pipe(O.a.filter(v.b.isMiniItemClick),O.a.map(e=>t=>t.patch({currentLens:Object(o.pipe)(t.currentLens.items.find(t=>t.id===e.id),d.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(i.unsafeCoerce)(Object(o.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id))))),switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(O.a.filter(v.b.isChecklistItemCollapseButtonClick),O.a.map(()=>e=>e.patch({currentLens:Q.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(O.a.filter(v.b.isToneAIChangeToneAlternativeAction),O.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:a})=>Object(o.pipe)(this._alertsService.changeToneAIToneAlternative(t,a),d.b.map(t=>({newAlert:t,itemId:e})))),O.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(O.a.filter(v.f.isDrilldown),O.a.map(({cardId:e,wordIndex:t})=>a=>Object(o.pipe)(w.a.update(a.currentLens.items,e,e=>{const a=e;return Y.a.changeSynfonySelection(Object(o.pipe)(a.synfonySelection,d.g.getOrElse(()=>[]),e=>d.g.some(e.concat([t]))))(a)}),d.b.fold(()=>a,e=>Q.e.Prism.getLens().compose(J.a.Prism.items).set(e,a))))),this._synfonyBack=this.actionEvents.pipe(O.a.filter(v.f.isBack),O.a.map(({cardId:e})=>t=>Object(o.pipe)(w.a.update(t.currentLens.items,e,e=>{const t=e;return Y.a.changeSynfonySelection(Object(o.pipe)(t.synfonySelection,d.g.map(e=>e.slice(0,-1))))(t)}),d.b.fold(()=>t,e=>Q.e.Prism.getLens().compose(J.a.Prism.items).set(e,t))))),this._sendToUrl=Object(o.pipe)(this._sendToUrlExperiment,d.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=Object(i.flow)((e,t)=>this._alertsService.applyFeedback(e,Object.assign(Object.assign({},t),{subtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)}),b.b.sidebar),d.b.fold(this._log.handler("error calling alert service to send a feedback").error,u.e)),this._showSurveyForm=new s.a,this._showSurveyFormEffect=Object(o.pipe)(this._showSurveyForm,O.a.map(e=>t=>z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object.assign({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===v.b.Type.alertApplyFormSubmit?{submitActionType:v.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:v.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(O.a.filter(v.b.isMuteCategoryAction),O.a.map(e=>t=>z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(O.a.filter(v.b.isUndoMuteCategoryAction),O.a.map(e=>t=>z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(i.flow)(te(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:c.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(v.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(i.flow)(te(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(O.a.filter(v.b.isAlertApplyAction)).subscribe(t=>e(t)())),this.hovered=this.actionEvents.pipe(O.a.filter(v.b.isHoverAction),O.a.tap(()=>this._ops.flush()),O.a.scan((e,t)=>"hover"===t.kind?d.g.some(t.id):Object(o.pipe)(e,d.g.filter(e=>e!==t.id)),d.g.none),O.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(C),this._handleAlertResolve(),this._handleApplyAlerts(C),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink(),this._handleEssayDetectionSetAcademicDomainAndCitationStyle()),Object(o.pipe)(m,d.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}_applyStartVSChange(e,t){return t.reduce((e,[t,a])=>Object(o.pipe)(w.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(a)(e)),d.b.fold(()=>e,i.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,a])=>Object(o.pipe)(e.items.get(t),d.g.map(({value:e})=>e),d.g.fold(()=>e,n=>Z.a.isAnimatable(n)&&"removed"===n.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(o.pipe)(w.a.update(e.items,t,e=>Z.a.isAnimatable(e)&&e.visualState.transitionId===a?this._checksFeedCapabilities.completeTransition(a)(e):e),d.b.fold(()=>e,t=>J.a.Prism.items.set(t,e))))),e)}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(O.a.filter(v.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new m.a(e)))}_updateToneAICard(e){return t=>Object(o.pipe)(e,d.b.chainW(({newAlert:e,itemId:a})=>w.a.update(t.currentLens.items,a,this._checksFeedCapabilities.updateWithAlerts([e]))),d.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>Q.e.Prism.getLens().compose(J.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(O.a.filter(v.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(v.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===v.b.Type.takeawayCorrectlyDetected?b.n.correctlyDetected:t===v.b.Type.takeawayIncorrectlyDetected?b.n.incorrectlyDetected:Object(p.d)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(O.a.filter(v.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case v.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case v.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.IGNORE});case v.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?c.a.PNameQualifier.likelyToBeReadTakeaway:c.a.PNameQualifier.unlikelyToBeReadTakeaway});case v.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?c.a.PNameQualifier.likelyToBeReadTakeaway:c.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(p.d)(e)}})}_handleEssayDetectionSetAcademicDomainAndCitationStyle(){return this.actionEvents.pipe(O.a.filter(v.c.isSetAcademicDomainAndCitationStyleAction)).subscribe(({citationStyle:e})=>{this._setDocumentCitationStyle(e)})}_handleAlertResolve(){return this.actionEvents.pipe(O.a.filter(v.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(O.a.filter(v.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:c.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(O.a.filter(v.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(O.a.filter(v.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:c.a.GbPromptFeedbackType.DISMISSED,source:e.source,target:e.target,description:e.description}})))}_handleGbPromptApply(){return this.actionEvents.pipe(O.a.filter(v.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:c.a.GbPromptFeedbackType.ACCEPTED,source:e.source,target:e.target,description:e.description}})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(O.a.filter(v.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(o.pipe)(e.muteCategories([t.categoryId]),d.b.fold(this._log.handler("error calling categories model to commit muted category").error,u.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(O.a.filter(v.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(o.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:b.b.sidebar,feedbackSubtype:y.b.getSubTypeFromLens(this._lensState.get().currentLens.id),drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),d.b.fold(this._log.handler("error calling alert service to apply an alert").error,u.e))}_handleDrilldown(){return this.actionEvents.pipe(O.a.filter(v.f.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:c.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(O.a.filter(v.d.isDismissAlertsBatchAction)).subscribe(e=>Object(o.pipe)(this._alertsService.dismissBatch(e.alerts,y.b.getSubTypeFromLens(this._lensState.get().currentLens.id)),d.b.fold(this._log.handler("error calling alert service to dismiss alerts batch").error,u.e)))}_newFeatureSeen(){return this.actionEvents.pipe(O.a.filter(v.b.isOnboardingClose)).subscribe(e=>Object(o.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(o.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(O.a.filter(v.b.isNavigation),O.a.tap(this._navigationEvents),O.a.switchMapTo(O.a.EMPTY)),"navigationEvents"],...Object(o.pipe)(this._sendToUrl,d.g.getOrElse(Object(i.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"]],d.a.map(([e,t])=>({id:`cardsViewModel.effects.${t}`,when:C.a.isWithAlertsId,what:Q.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}}!function(e){e.itemsLens=Q.e.Prism.getLens().compose(J.a.Prism.items);e.Mock=class{constructor(){this.animate=l.a.create(!0),this.clockwise=l.a.create(!0),this.toggleAnimations=()=>this.animate.modify(e=>!e),this.completePositionAnimation=new O.a.Subject,this.actionEvents=new O.a.Subject,this.flushTransitionTo=u.e,this.sideEffect={id:"cardsViewModelMock",when:C.a.isWithAlertsId,what:Q.e.Effect.Applicator.create(O.a.EMPTY)},this.changePosition=new O.a.Subject,this.dispose=u.e}},e.Experiments=n}(z||(z={}));const te=(e,t,a)=>n=>i=>Object(o.pipe)(ae(i,a),r.of,g.a.chain(e=>Object(o.pipe)(n,r.map(t=>t?d.g.none:d.g.some(e)))),g.a.fold(()=>e(i),e=>t(e))),ae=(e,t)=>v.b.isAlertApplyAction(e)?ne(e,t):re(e),ne=(e,t)=>Object(o.pipe)(e.eligibleForGbPrompt,d.g.filter(Object(i.constant)(t)),d.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),d.g.orElse(Object(o.pipe)(e.eligibleForSurvey,d.g.map(t=>({id:e.id,formType:"survey",submitActionType:v.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),re=e=>Object(o.pipe)(e.eligibleForSurvey,d.g.map(t=>({id:e.id,formType:"survey",submitActionType:v.b.Type.alertIgnoreFormSubmit,survey:t})))},EjiM:function(e,t,a){"use strict";a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return v})),a.d(t,"f",(function(){return O})),a.d(t,"h",(function(){return k})),a.d(t,"c",(function(){return S})),a.d(t,"e",(function(){return w})),a.d(t,"g",(function(){return A}));var n=a("93Qa"),r=a("8Js9"),i=a("OA+g"),o=a("I7vG"),s=a("lrqh"),l=a("hoSD"),c=a("aIes"),d=a("zR/0"),p=a("gy42"),u=a("W39u"),m=a("BeBM"),g=a("bFfh"),h=a("NW9S");const f=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function y({cardTop:e,cardHeight:t,viewportHeight:a,padding:n}){const r=h.a.FromViewportTop.ISO.unwrap(e),i=r+t;return t>a?r:r<0?t+n.before<a?r-n.before:r:i>a?t+n.after<a?i-a+n.after:i-a:r<n.before?t+n.after+n.before<a?r-n.before:t+n.after<a?r-n.after:n.before:a-i<n.after&&t+n.after<a?n.after-(a-i):0}const C=(e,t,a,n)=>({from:Math.max(0,c.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<a)-n),to:Math.min(e.size,c.a.Sorted.lowerBound(e,e=>e.positionState.absTop<a+t.height)+n)}),v=e=>t=>t.pipe(O(e),d.a.map(s.g.map(e=>e.currentLens)),d.a.pairwise(),d.a.filter(([e,t])=>Object(o.pipe)(Object(i.tuple)(e,t),Object(i.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(i.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(i.tupled)(n.sequenceT(s.g.option)),s.g.map(([e,t,a,n])=>e.id===a.id&&t!==n)))),s.g.getOrElse(()=>!1))),d.a.map(Object(i.flow)(r.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(i.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),O=e=>t=>t.pipe(d.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),k=e=>(t,a,n,r,i)=>{const c=(e=>s.g.getEq(s.c.fromEquals((t,a)=>{const n=m.k.getActiveItem(t),r=m.k.getActiveItem(a);return s.g.getEq(e.visualStateEq).equals(n,r)&&t.items.size===a.items.size&&l.a.compareInPairs(t.items.keys(),a.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(d.a.map(s.g.map(e=>e.currentLens.id)),d.a.distinctUntilChanged(s.c.eqStrict.equals),d.a.map(s.g.isSome),d.a.switchMap(p.b.orEmpty(d.a.combineLatestStatic(a,n,r,O(e)(t).pipe(d.a.map(s.g.map(e=>e.currentLens)),d.a.distinctUntilChanged(c.equals),d.a.switchMap(i))))),d.a.filter(([t,a,n,r])=>Object(o.pipe)(r,s.g.exists(b(e)))),d.a.map(([e,t,a])=>({viewport:e,scrollTop:t,paddingTop:a})))},S=e=>({viewport:t,scrollTop:a,paddingTop:n})=>r=>{const i=r.currentLens,o=C(i.items,t,a-n,0);let s=!1;const l=i.items.map((t,a,n)=>{const r=((e,t)=>a=>a.positionState.inert!==t?e.changePosition(u.a.PositionState.changeInert(a.positionState,t))(a):a)(e,!(e=>o.from<=e)(n))(t);return r!==t?(s=!0,r):t});return s?m.e.Prism.getLens().compose(g.a.Prism.items).set(l,r):r},w=(e,{viewport:t,scrollTop:a,paddingTop:n})=>r=>{if(a>0)return d.a.EMPTY;const i=C(r.currentLens.items,t,h.b.FromWindowTop.ISO.unwrap(t.top)+a-n,0);return Object(o.pipe)(r.currentLens.items.getAt(i.from-1),s.g.map(a=>e.setCardPosition(a.id,!0,!1,t.top)),s.g.getOrElse(()=>d.a.EMPTY))},A=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:a})=>({viewport:n,scrollTop:r,paddingTop:l,completeTransition:c})=>d=>{const p=d.currentLens,h=((e,t,a,n)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:C(e,t,a,n))(p.items,n,r-l,e);let f=!1;const b=p.items.map((e,n,r)=>{const l=Object(i.flow)(((e,t)=>a=>a.positionState.visible!==t?e.changePosition(u.a.PositionState.changeVisible(a.positionState,t))(a):a)(a,e.positionState.watched||(e=>h.from<=e&&h.to>e||Object(o.pipe)(p.cardIndex,s.g.exists(a=>e>=a-t&&e<=a+t)))(r)),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(u.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(a),c)(e);return l!==e?(f=!0,l):e});return f?m.e.Prism.getLens().compose(g.a.Prism.items).set(b,d):d}},H37f:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a("ERkP"),r=a("9NHN"),i=a("Kt6o"),o=a("e12y");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function l(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}function c(e,t=u.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return i.b+l(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const d=({children:e,emojiClassName:t,className:a})=>{const r=n.useRef(null);return n.useEffect(()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,e=>c(e,t)))},[r,t]),n.createElement("span",{ref:r,className:a},e)},p=({id:e,className:t})=>{const[a,o]=n.useState(!1),[s,l]=n.useState(""),[c,d]=n.useState("");return n.useEffect(()=>{o(!1),d(function(e){return i.b+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),a?n.createElement("span",Object.assign({},Object(r.c)(t,u.emojiFromIDAlt)),s):n.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0),"aria-hidden":!0})},u=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},H9Bv:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("ERkP"),r=a("9NHN"),i=a("6fbX"),o=a("hoSD"),s=a("ax6a"),l=a("zI3C"),c=a("3rlE"),d=a("e12y"),p=a("SD38");const u=32,m=2*Math.PI*u,g=u+4,h=2*g,f=94,b=(e,t,a)=>e<t?t:e>a?a:e,y=e=>{switch(e){case k.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case k.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case k.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case k.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case k.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case k.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case k.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case k.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case k.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case k.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(i.d)(e)}},C=e=>{switch(e){case k.FontSize.normal:return 32;case k.FontSize.small:return 24;default:return Object(i.d)(e)}},v=e=>{switch(e){case k.IconSize.pdf:case k.IconSize.normal:case k.IconSize.outcome:return 5;case k.IconSize.small:return 3;case k.IconSize.extraSmall:return 10;default:return Object(i.d)(e)}},O=e=>{switch(e){case k.IconSize.pdf:return 110;case k.IconSize.normal:return 52;case k.IconSize.outcome:return 32;case k.IconSize.small:return 24;case k.IconSize.extraSmall:return 16;default:return Object(i.d)(e)}};class k extends n.Component{render(){const{percentage:e,aimValue:t=100,colorType:a=k.ColorType.logan,fontSize:i=k.FontSize.normal,iconSize:s=k.IconSize.normal,description:d,theme:p=E}=this.props,S=[n.createElement("circle",{key:"circle",id:"circle",cx:g,cy:g,r:u,fill:"none"})],w=C(i),A=v(s),I=b(e,0,100),x=b(t,I,100),T=I*m/100,j=x*m/100,N=360*A/m,L=I?m-T-2*A:m;let P,D,B,F,$;const R=y(a);if("plain"===R.type)P=R.value,D=P,B=R.outline,F=R.background,$=void 0===R.backgroundOpacity?1:R.backgroundOpacity;else{const e=R.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:`pb-gradient-${k._nextGradientId++}`,S.push(n.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),n.createElement("stop",{stopColor:e.start,offset:"0%"}),n.createElement("stop",{stopColor:e.end,offset:"100%"}))),P=`url(#${this._gradientId})`,D="#2b2d38",B=R.outline,F=R.background,$=void 0===R.backgroundOpacity?1:R.backgroundOpacity}return n.createElement(l.a.Context.Consumer,null,e=>n.createElement(c.e,Object.assign({},Object(r.c)(E.iconWrapper,p.radialProgressBar),{width:O(s),viewBox:`0 0 ${h} ${h}`}),n.createElement("defs",null,S),n.createElement("g",null,n.createElement("use",{className:E.valueCircle,stroke:I>=f&&Boolean(B)?B:F,strokeOpacity:$,strokeWidth:A,strokeDasharray:m,strokeDashoffset:m-j,transform:`rotate(-90 ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(B)?n.createElement("use",{className:E.valueCircle,stroke:B,strokeWidth:A,strokeDasharray:m,strokeDashoffset:L,transform:`rotate(${-90-N} ${g} ${g})`,strokeLinecap:"round",xlinkHref:"#circle"}):null,n.createElement("use",{className:E.valueCircle,stroke:P,strokeDasharray:m,strokeDashoffset:m-T,strokeLinecap:"round",transform:`rotate(-90 ${g} ${g})`,strokeWidth:A,xlinkHref:"#circle"}),n.createElement("text",Object.assign({className:p.radialProgressText,y:"38",x:"36",fill:D,fontSize:w,fontStyle:"normal",textAnchor:"middle"},o.c.svgVerticalAlignment(e.has(l.a.Flag.supportsSVGDominantBaseline))),I),Boolean(d)?n.createElement("text",{className:p.radialProgressDescription,fill:D,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},d):null)))}}k._nextGradientId=0,function(e){let t,a,n;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(a=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(n=e.IconSize||(e.IconSize={}))}(k||(k={}));const S={width:d.a.percent(100),height:d.a.percent(100),fontWeight:"bold",fill:s.a.CoreNeutral90},w={fontSize:d.a.rem(2),fill:s.a.CoreNeutral90},A={fontWeight:"normal",fontSize:d.a.px(11),fill:p.ui600},E=d.a.stylesheet({radialProgressBar:[S],radialProgressText:[w],radialProgressDescription:[A],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"H9T+":function(e,t,a){"use strict";a.d(t,"f",(function(){return ee})),a.d(t,"k",(function(){return te})),a.d(t,"e",(function(){return re})),a.d(t,"q",(function(){return de})),a.d(t,"g",(function(){return pe})),a.d(t,"m",(function(){return ue})),a.d(t,"l",(function(){return ge})),a.d(t,"n",(function(){return he})),a.d(t,"o",(function(){return fe})),a.d(t,"p",(function(){return be})),a.d(t,"i",(function(){return ye})),a.d(t,"h",(function(){return Ce})),a.d(t,"v",(function(){return ve})),a.d(t,"c",(function(){return ke})),a.d(t,"d",(function(){return Se})),a.d(t,"b",(function(){return we})),a.d(t,"a",(function(){return Ee})),a.d(t,"j",(function(){return Ie})),a.d(t,"z",(function(){return $e})),a.d(t,"r",(function(){return Re})),a.d(t,"s",(function(){return Me})),a.d(t,"u",(function(){return _e})),a.d(t,"x",(function(){return We})),a.d(t,"y",(function(){return He})),a.d(t,"t",(function(){return yt})),a.d(t,"w",(function(){return Ct}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("9NHN"),s=a("vOOZ"),l=a("LNSM"),c=a("94k3"),d=a("D9EC"),p=a("lrqh"),u=a("hoSD"),m=a("ax6a"),g=a("PrA7"),h=a("e12y"),f=a("ps/9"),b=a("zI3C"),y=a("rk+4"),C=a("dE97"),v=a("UEGg"),O=a("uqkn"),k=a("IVzZ"),S=a("+w1e"),w=a("E0zP"),A=a("XxrX"),E=a("lRnN"),I=a("9/oM"),x=a("gOzB"),T=a("bO3R"),j=a("N8v8"),N=a("XXDN"),L=a("3rlE"),P=a("Z5Rd"),D=a("H9Bv"),B=a("jAl6"),F=a("7psk"),$=a("26kZ"),R=a("BugA"),M=a("xEVj"),_=a("zR/0"),W=a("viRF"),H=a("aIes"),G=a("3bJT"),V=a("5z3N"),q=a("0mPX"),z=a("IdhR"),U=a("yZqL"),Y=a("eLeT"),X=a("HTie"),K=a("cVtq"),Z=a("HUX/");const Q=Object(d.l)(g.Monitoring.Logging.getLogger);var J;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>Object(i.pipe)(p.g.fromNullable(t.match(e.actionRegex)),p.g.chain(e=>{switch(e[1]){case"set-goals":return p.g.some(S.b.Type.openSetGoals);case"ideas-gallery":return p.g.some(S.b.Type.openIdeasGallery);default:return p.g.none}}))}(J||(J={}));const ee=({description:e,actions:t,layoutDensity:a,className:r})=>{const s=n.useContext(y.a.Context),l=n.useContext(F.a.Context),{ref:c,onMount:d}=M.a.useElWatcher();M.a.useSubscriptionTo(c.pipe(_.b.compact,_.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,a)=>{const n=_.a.fromEvent(a,"click").pipe(_.a.tap(e=>e.preventDefault()));return Object(i.pipe)(p.g.fromNullable(a.getAttribute("href")),p.g.chain(J.parse),p.g.fold(()=>(Q("Description").error("Invalid action",a),e.pipe(_.a.merge(n))),r=>_.a.mergeStatic(e,r in s.card.actionDescription&&r!==S.b.Type.openIdeasGallery?l.getTooltipObservable(a,s.card.actionDescription[r],"auto",p.g.none):_.a.EMPTY,n.pipe(_.a.mapTo({type:r}),_.a.tap(t)))))},_.a.EMPTY))));const u=Object(i.pipe)(a,A.a.Density.matchOrDefault(A.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return n.createElement(R.a,Object.assign({mount:d},Object(o.c)(u,r),q.a.renderToHtml(e,J.actionRegex)))},te=({card:e,isChecking:t})=>C.a.isRated(e.activeAlert)?n.createElement(j.a,{value:O.a.isCardPresuccess(e.visualState)?W.a.MAX:e.meta.percentile,initValue:O.a.isCardPresuccess(e.visualState)?e.meta.percentile:W.a.MIN,isLoading:t}):null,ae=({card:e})=>{const t=Object(j.b)(O.a.isCardPresuccess(e.visualState)?W.a.MAX:e.meta.percentile,O.a.isCardPresuccess(e.visualState)?e.meta.percentile:W.a.MIN);return n.createElement(s.a.Fragment,null,t.pipe(_.a.map(W.a.prism.reverseGet),_.a.map(e=>n.createElement(D.a,{percentage:e,colorType:D.a.ColorType.neoBlue,iconSize:D.a.IconSize.extraSmall,theme:{radialProgressBar:Ot.circleProgress,radialProgressText:Ot.circleText}}))))},ne=({card:e,feedbackActions:t,onClick:a,disabled:r})=>{const o=n.useContext(y.a.Context);return n.createElement(T.a.Ghost,{name:"ignore",title:o.dismiss,ariaLabel:o.dismiss,onClick:H.d.callOnce(()=>{t.next({type:S.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:O.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:w.a.isSynfonyItem(e)?Object(i.pipe)(e.synfonySelection,p.g.getOrElse(()=>[])):void 0}),a&&a()}),disabled:r},n.createElement(L.d.Ignore,null))},re=({card:e,feedbackActions:t,disabled:a,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:o})=>n.createElement(n.Fragment,null,n.createElement(ne,{card:e,feedbackActions:t,onClick:r,disabled:a}),n.createElement(le,{id:e.id,activeAlert:e.activeAlert,onMute:Object(i.pipe)(e.muteCategory,p.g.map(a=>H.d.callOnce(()=>t.next({type:S.b.Type.muteAlertCategory,categoryId:a.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:H.d.callOnce(H.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:H.d.callOnce(H.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:S.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:a,alwaysShowWrongAndOffensiveButtons:o})),ie=({onClick:e})=>{const t=n.useContext(y.a.Context);return n.createElement(T.a.Flat,{name:"mute",onClick:e},n.createElement(L.d.Mute,null),t.card.mute)},oe=({onClick:e})=>{const t=n.useContext(y.a.Context);return n.createElement(T.a.Flat,{name:"incorrect",onClick:e},n.createElement(L.d.Report,null),t.card.wrong)},se=({activeAlert:e,onClick:t})=>{const a=n.useContext(y.a.Context);return Object(i.pipe)(e.extraProperties.vox,p.g.mapOrDefault(()=>null,n.createElement(T.a.Flat,{name:"offensive",onClick:t},n.createElement(L.d.Report,null),a.card.offensive)))},le=({id:e,activeAlert:t,onMute:a,onWrong:o,onOffensive:s,onVisibilityChange:l,disabled:c,alwaysShowWrongAndOffensiveButtons:d=!1})=>{const u=n.useContext(y.a.Context),m=p.g.isSome(t.getTransform()),g=p.g.isSome(a),h=n.createElement(n.Fragment,null,g&&n.createElement(N.a.Delimiter,null),n.createElement(oe,{onClick:o}),n.createElement(se,{activeAlert:t,onClick:s}));return g||m||d?n.createElement(N.a,{label:n.createElement(T.a.Ghost,{name:"moreActions",ariaLabel:u.card.moreActions,disabled:c},n.createElement(L.f.MoreVertical,null)),align:"right",theme:{dropdownContainer:Ot.dropdownContainer},id:e,name:"moreActions",onVisibilityChange:l},Object(i.pipe)(a,p.g.map(e=>n.createElement(ie,{onClick:e})),p.g.orNull),Object(i.pipe)(m,p.g.fromPredicate(r.identity),p.g.map(()=>h),p.g.orElse(Object(i.pipe)(d,p.g.fromPredicate(r.identity),p.g.map(()=>h))),p.g.orNull)):null},ce=({card:e,onClick:t,mode:a="default"})=>{const r=n.useContext(y.a.Context),i=n.useContext(b.a.Context),o=n.useCallback(e=>{i.has(b.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),s=e.renderOptions.features.has(A.a.Features.showAnonymousUserFooters)?{disabled:!0,title:r.card.disabledForAnonymous}:{title:"mini"===a?r.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?n.createElement(T.a.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),n.createElement(L.d.Dict,null),r.card.addToDict):null},de=({title:e,checkingInProgress:t,checkingMessage:a,applyMessage:r,onClick:i,disabled:s,className:l,spinnerClassName:c,messageClassName:p})=>n.createElement(T.a.Primary,Object.assign({key:"update-all",name:"update-all",title:e},Object(o.c)(t.pipe(_.a.map(Object(d.c)(Y.a.updateAllBtnLoading,Y.a.updateAllBtn))),l),{disabled:t.view(e=>e||!0===s),children:t.pipe(_.a.map(Object(d.c)(n.createElement(n.Fragment,{key:"update-all-checking"},n.createElement("span",{className:p},u.f.capitalize(a)),n.createElement(B.a,{size:18,strokeWidth:2,wrapperClassName:Object(o.c)(Y.a.updateBtnSpinner,c).className,variation:"white"})),n.createElement(n.Fragment,{key:"update-all-checked"},u.f.capitalize(r))))),onClick:H.d.callOnce(i)})),pe=({card:e})=>Object(i.pipe)(Oe(e.activeAlert,e.renderOptions.layoutDensity),p.g.map(t=>n.createElement(z.b,{key:"card-actions-details",visualState:e.visualState,className:Ot.more},t)),p.g.toNullable),ue=({card:e,actions:t})=>ve(e.activeAlert,e.renderOptions.layoutDensity)?n.createElement(z.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):w.a.isDefaultItem(e)?n.createElement(ce,{key:"card-actions-button",card:e,mode:"default",onClick:H.d.callOnce(()=>t.next({type:S.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,me=e=>n.createElement(I.b,{alignment:"bottom",eventType:"onclick",stepId:E.a.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:I.a.rightTop},themes:{containerWrapperClassName:Ot.onboardingNotification}},e.children),ge=({onClick:e,rl:t,layoutDensity:a,a11yContrast:r})=>n.createElement(me,null,n.createElement(K.f,{replacementsLabels:t,onClick:e,layoutDensity:a,a11yContrast:r})),he=({text:e})=>n.createElement(R.i,Object.assign({className:Ot.title},q.a.renderToHtml(e))),fe=({text:e})=>n.createElement(R.i,Object.assign({className:Ot.titleMinimal},q.a.renderToHtml(e))),be=({alert:e})=>n.createElement(R.g,Object.assign({className:Ot.title},q.a.renderToHtml(e.title))),ye=({alert:e,options:t,children:a,className:r,badge:i})=>{const l=n.useContext(y.a.Context);return n.createElement(s.a.Fragment,null,t.cardVisualMode.pipe(_.a.map(s=>n.createElement(V.a,Object.assign({activeAlert:e,cardVisualMode:s,showCardLabel:t.features.has(A.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(A.a.Features.showNewPremiumCardLabels)?V.b.new:t.features.has(A.a.Features.showPersistentPremiumCardLabels)?V.b.persistent:V.b.none,layoutDensity:t.layoutDensity},Object(o.c)(Ot.label,r),{badge:e.extraProperties.isBeta?n.createElement(x.a.Regular,{a11yContrast:t.features.has(A.a.Features.a11yContrast)},l.beta):i}),a))))},Ce=({text:e,layoutDensity:t})=>n.createElement("div",{className:Ot.highlightedTextBox},n.createElement(R.a,{className:Object(i.pipe)(t,A.a.Density.matchOrDefault(A.a.Density.minimal)(()=>Ot.minimalHighlightedTextInnerBox,()=>Ot.highlightedTextInnerBox))},e));function ve(e,t){return!e.extraProperties.hasAddToDictionary&&(!(!p.g.isSome(e.examples)&&!p.g.isSome(e.details))||!(t!==A.a.Density.minimal||!p.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation))}const Oe=(e,t)=>{if(!ve(e,t))return p.g.empty();const a=Object(i.pipe)(t,A.a.Density.matchOrDefault(A.a.Density.minimal)(()=>Ot.minimalDescription,()=>Ot.description));return p.g.some(n.createElement(n.Fragment,null,Object(i.pipe)(t,A.a.Density.matchOrDefault(A.a.Density.minimal)(()=>p.g.isNone(e.details)?n.createElement(R.a,Object.assign({className:a},q.a.renderToHtml(e.explanation,J.actionRegex))):null,()=>null)),Object(i.pipe)(e.details,p.g.map(e=>n.createElement(R.a,Object.assign({className:a},q.a.renderToHtml(e)))),p.g.toNullable),Object(i.pipe)(e.examples,p.g.map(e=>n.createElement(X.a,{layoutDensity:t,examples:e})),p.g.toNullable)))},ke=({isChecking:e})=>n.createElement(s.a.Fragment,null,e.pipe(_.a.map(e=>n.createElement(B.a,{className:e?Ot.spinner:Ot.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),Se=e=>{const[t,a]=n.useState(!0);return t?n.createElement(xe,{type:e.type,actions:e.actions,onClose:()=>a(!1)}):null},we=({card:e,actions:t})=>{if(w.a.isEthicalAIItem(e)||w.a.isSuggestedSnippetItem(e))return null;if(!Object(i.pipe)(e.activeAlert.isFree)&&e.renderOptions.features.has(A.a.Features.showYellowFooterForTrialUsers))return n.createElement(Pe,null);if(Object(i.pipe)(e.activeAlert.extraProperties.freePremium,p.g.contains("unlocked")))return n.createElement(Le,null);if(!v.a.isFree(e.activeAlert)&&e.renderOptions.features.has(A.a.Features.showPremiumOnboarding))return n.createElement(De,null);if(!v.a.isFree(e.activeAlert)&&e.renderOptions.features.has(A.a.Features.showPremiumTrialFooters))return n.createElement(Ne,{actions:t});if(e.renderOptions.features.has(A.a.Features.showAnonymousUserFooters))return n.createElement(je,{actions:t,card:e});const a=e.renderOptions.isPremiumOnboarding||l.a.create(!1);return n.createElement(s.a.Fragment,null,a.view(a=>!v.a.isFree(e.activeAlert)&&Boolean(a)?n.createElement(De,null):Object(i.pipe)(e.renderOptions.layoutDensity,A.a.Density.matchOrDefault(A.a.Density.cozy)(()=>n.createElement(Te,{card:e,actions:t}),()=>Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,p.g.fold(()=>n.createElement(Te,{card:e,actions:t}),e=>n.createElement(Be,{fluencyLabel:e})))))))};function Ae(e,t,a){a.next({type:S.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const Ee=({card:e,actions:t})=>{const a=n.useContext(y.a.Context).card.matchesNavigation;return(n.createElement(s.a.Fragment,null,Object(i.pipe)(e,_.a.map(e=>n.createElement("div",{key:e.activeAlert.id,className:Ot.bundleNavWrapper},n.createElement(R.a,{className:Ot.bundleTitle},k.a.bundleTitle(e)),n.createElement("div",{className:Ot.bundleNavMatchesRow},n.createElement(T.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>Ae("left",e,t)},n.createElement(L.d.Arrow,{className:Ot.bundleNavLeftButtonIcon})),n.createElement(R.h,{className:Ot.bundleNavCount},a.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),n.createElement(T.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:Ot.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>Ae("right",e,t)},n.createElement(L.d.Arrow,{className:Ot.bundleNavRightButtonIcon}))))))))},Ie=({card:e,actions:t,isChecking:a})=>n.createElement(n.Fragment,null,Object(i.pipe)(e.renderOptions.layoutDensity,A.a.Density.matchOrDefault(A.a.Density.minimal)(()=>C.a.isRated(e.activeAlert)?n.createElement(n.Fragment,null,n.createElement(ae,{card:e}),n.createElement(fe,{text:e.activeAlert.miniCardTitle})):n.createElement(ye,{alert:e.activeAlert,options:e.renderOptions},n.createElement(fe,{text:e.activeAlert.miniCardTitle})),()=>n.createElement(n.Fragment,null,n.createElement(ye,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(he,{text:e.activeAlert.title}),n.createElement(te,{card:e,isChecking:a})))),n.createElement(ee,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),xe=e=>{const t=n.useContext(y.a.Context),{title:a,content:r}=t.card.onboarding[e.type];return n.useLayoutEffect(()=>()=>e.actions.next({type:S.b.Type.onboardingClose,value:e.type})),n.createElement(P.b.AdHoc,{key:"new-notification",title:n.createElement(n.Fragment,null,a,n.createElement(x.a.Regular,{className:Ot.newLabel},t.new)),className:Ot.newCheckNotification,onClose:e.onClose},r)},Te=({actions:e,card:t})=>{const a=n.useContext(y.a.Context);return M.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:S.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?n.createElement(Fe.Base,{className:tt},n.createElement("span",null,a.card.muteCitedText(n.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:S.b.Type.openPreferences})},a.documentSettings.editorSettings))),n.createElement(T.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:S.b.Type.dismissMuteQuotedAdvice})},n.createElement(L.d.Close,null))):null},je=({actions:e,card:t})=>{const a=n.useContext(y.a.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?a.anonymousUserAddToDictionarySignInPrompt:a.anonymousUserGenericSignInPrompt;return n.createElement(Fe.Base,{className:Ot.anonymousUserNotice},r(()=>{e.next({type:S.b.Type.toSignIn})}))},Ne=({actions:e})=>n.createElement(Fe.Small,{className:at},n.createElement(L.d.PaidLink,{className:Ot.iconWrapper,width:12}),n.useContext(y.a.Context).premiumFreeTrial(()=>{e.next({type:S.b.Type.premiumTrialFooterCtaClick})})),Le=()=>{const{beforeIcon:e,afterIcon:t}=n.useContext(y.a.Context).freePremiumAlertFooter;return n.createElement(Fe.Small,{className:rt},e,n.createElement(L.d.PaidLink,{width:12}),t)},Pe=()=>{const{freeTrialAlertFooter:e}=n.useContext(y.a.Context);return n.createElement(Fe.Small,{className:rt},n.createElement(L.d.PaidLink,{width:12}),e)},De=()=>{const{premiumOnboardingFooter:e}=n.useContext(y.a.Context);return n.createElement(Fe.Small,{className:nt},n.createElement(L.d.PaidLink,{width:12}),e)},Be=({fluencyLabel:e})=>{const t=n.useContext(y.a.Context).card.fluency;return n.createElement(R.l,{className:Ot.fluencyNotice},e,n.createElement($.a,{title:t.tooltip},n.createElement(L.d.Info,{width:10,className:Ot.fluencyInfo})))};var Fe;!function(e){function t(e){return({children:t,className:a})=>n.createElement(e,Object.assign({},Object(o.c)(Ot.cardFooter,a)),t)}e.Small=t(R.l),e.Base=t(R.a)}(Fe||(Fe={}));function $e(e){const{transformHidden:t,isMouseInside:a,transformHiddenObservable:n}=M.a.useMemoOnDidMount(()=>{const t=l.a.create(!1),a=new _.a.Subject,n=_.a.mergeStatic(_.a.combineLatestStatic([a,e]).pipe(_.a.map(([e,t])=>e&&t),_.a.filter(e=>!0===e),_.a.tap(()=>t.set(!0))),e.pipe(_.a.skip(1),_.a.filter(e=>!e),_.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:a,transformHiddenObservable:n}});return M.a.useSubscriptionTo(n),{transformHidden:t,isMouseInside:a}}const Re=({card:e,actions:t,isChecking:a,isCheckingGlobal:r,cardTheme:i,cardBody:o,cardFooter:s,mainActions:l,subActions:c,cardExtra:p})=>{const{transformHidden:u,isMouseInside:m}=$e(a);return n.createElement(U.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:S.b.Type.alertCardShow,cardType:S.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:S.b.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:S.b.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:r.pipe(_.a.map(Object(d.c)(Ot.loadingWrapperInvisible,Ot.loadingWrapper)))},Object(Z.b)(e.renderOptions)),i),extra:n.createElement(n.Fragment,null,n.createElement(ke,{isChecking:r}),null==p?void 0:p()),body:o(u),mainActions:null==l?void 0:l(),footer:null==s?void 0:s(u),subActions:null==c?void 0:c()})},Me=({card:e,actions:t,isChecking:a,body:r,footer:i,alwaysShowWrongAndOffensiveButtons:o})=>n.createElement(U.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:S.b.Type.alertCardShow,cardType:S.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(Z.b)(e.renderOptions),body:null!=r?r:n.createElement(Ie,{card:e,actions:t,isChecking:a}),mainActions:n.createElement(re,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=i?i:n.createElement(pe,{card:e}),subActions:n.createElement(ue,{card:e,actions:t}),extra:n.createElement(we,{card:e,actions:t})}),_e={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",display:"inline",textDecoration:"none",$nest:{"&:link, &:visited":{color:m.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${f.e}, ${f.f}`},"& ul":{margin:`${h.a.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:h.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:h.a.rem(.5)}}},We={lineHeight:h.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},He={$nest:{"& i":{color:m.a.CoreNeutral50},"& > * + *":{marginTop:h.a.rem(.75)}}},Ge={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:m.a.CoreRed50}}},Ve={marginTop:h.a.important(0),lineHeight:h.a.rem(1.125)},qe={fontSize:h.a.rem(m.h.SubheadingSize),lineHeight:h.a.rem(m.h.SubheadingLineHeight)},ze={width:h.a.rem(2),height:h.a.rem(2)},Ue={position:"absolute",top:`calc(50% - ${h.a.rem(1)})`,left:`calc(50% - ${h.a.rem(1)})`,width:h.a.rem(2),height:h.a.rem(2),transition:"opacity .2s"},Ye={marginLeft:h.a.rem(.5),backgroundColor:m.a.CoreGreen50,color:m.a.CoreNeutral0,fontWeight:600},Xe={position:"absolute",marginTop:h.a.rem(-8.5),marginLeft:h.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:h.a.rem(-.525),left:h.a.rem(.7),borderTop:`${h.a.rem(.625)} solid ${m.a.BackgroundNotification}`,borderRight:`${h.a.rem(.5)} solid transparent`,borderLeft:`${h.a.rem(.5)} solid transparent`,content:"' '"}}},Ke={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Ze={position:"absolute",top:h.a.rem(.75),left:h.a.rem(.4)},Qe={color:m.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:m.a.CoreBlue50,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{borderBottom:`1px solid ${m.a.CoreBlue40}`,color:m.a.CoreBlue40}}}}},Je={display:"flex",borderRadius:`${f.r} ${f.r} ${h.a.rem(f.s)} ${h.a.rem(f.s)}`,color:m.a.CoreNeutral50,padding:`${h.a.rem(.5)} ${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(1)}`,fontSize:h.a.rem(.6875),lineHeight:h.a.rem(1.125)},et={padding:`0 ${h.a.rem(.6)}`,minWidth:h.a.rem(.625),minHeight:h.a.rem(.625)},tt=h.a.joinClasses(["muteQuotedAdvice",h.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:m.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{color:m.a.CoreBlue40}}},"& i:hover":{strokeWidth:h.a.px(2)}}})]),at=h.a.joinClasses(["premiumFreeTrial",h.a.style({$nest:{"& svg":{fill:m.a.CoreYellow80},"& a":{fontWeight:800,color:m.a.CoreYellow70,$nest:{"&:link, &:visited":{color:m.a.CoreYellow80},"&:hover":{borderBottom:`1px solid ${m.a.CoreYellow60}`,color:m.a.CoreYellow60}}}}})]),nt=h.a.joinClasses(["premiumAlertFooter",h.a.style({justifyContent:"center"})]),rt=h.a.joinClasses(["premiumAlertFooter",h.a.style({justifyContent:"start",padding:h.a.important(`${h.a.rem(.5)} ${h.a.rem(1)}`)})]),it={display:"block",boxSizing:"border-box",padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1.5)}`,width:h.a.percent(100),borderRadius:`${f.r} ${f.r} ${h.a.rem(f.s)} ${h.a.rem(f.s)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(2)}`,background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(1)} ${h.a.rem(2)}`,position:"relative",background:m.a.CoreYellow20,color:m.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:h.a.rem(.5),background:m.a.CoreYellow20,color:m.a.CoreYellow80,$nest:{"& svg":{margin:`0 ${h.a.rem(.25)}`,fill:m.a.CoreYellow80}}}}},ot={position:"absolute",top:h.a.rem(.8),left:h.a.rem(.5),minWidth:h.a.rem(1),minHeight:h.a.rem(1)},st={fontWeight:"bold",fontSize:h.a.rem(.875),lineHeight:h.a.rem(1.125),flex:2},lt={padding:`${h.a.rem(.625)} 0 ${h.a.rem(.1875)} ${h.a.rem(.5)}`,marginBottom:h.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},ct={fontSize:h.a.rem(.75),lineHeight:h.a.rem(1.125),color:m.a.CoreNeutral90},dt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:h.a.rem(1.5),$nest:{"& > * + *":{marginLeft:h.a.rem(.25)},"& > *":{borderRadius:h.a.rem(f.t)}}},pt={height:h.a.rem(2),minHeight:h.a.rem(2),width:h.a.rem(2),fill:m.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:m.a.CoreBlue50},"&[data-disabled='true']":{fill:m.a.CoreNeutral30}}},ut={borderRadius:h.a.rem(.75),background:m.a.CoreNeutral20,margin:`${h.a.rem(-.25)} ${h.a.rem(-.25)}`,padding:`${h.a.rem(.25)} ${h.a.rem(.25)}`,$nest:{[`& .${G.b.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${G.b.fullCardSelector}`]:{padding:`${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(.5)} ${h.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${h.a.rem(-.5)})`}}},mt={paddingTop:h.a.rem(.25),paddingBottom:h.a.rem(.5),paddingLeft:h.a.rem(.5),paddingRight:h.a.rem(.5),fontWeight:"bold",fontSize:h.a.rem(.875),lineHeight:h.a.rem(1.125)};function gt(e,t){return{display:["block","-webkit-box"],maxHeight:h.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const ht=Object.assign(Object.assign({},gt(1.5,3)),{lineHeight:h.a.rem(1.5)}),ft=Object.assign(Object.assign({},gt(1.3125,3)),{lineHeight:h.a.rem(1.3125)}),bt={padding:h.a.rem(.5),borderRadius:h.a.rem(f.t),background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${f.e}, ${f.f}`},yt=.25,Ct={opacity:0,pointerEvents:"none"},vt={transition:`opacity ${h.a.seconds(yt)}`},Ot=h.a.stylesheet({loadingWrapper:[vt],loadingWrapperInvisible:[vt,Ct],description:[_e],minimalDescription:[_e,We],more:[He],onboardingNotification:[{display:"block"}],title:[Ge],titleMinimal:[Ge,Ve],label:[qe],dropdownContainer:[ze],spinner:[Ue],spinnerInvisible:[Ue,{opacity:0,pointerEvents:"none"}],newLabel:[Ye],newCheckNotification:[Xe],baseNotice:[Ke],iconWrapper:[Ze],anonymousUserNotice:[Ke,Qe],fluencyNotice:[Ke,Je],fluencyInfo:[et],cardFooter:[it],circleProgress:[ot],circleText:[{display:"none"}],bundleTitle:[st],bundleNavWrapper:[lt],bundleNavCount:[ct],bundleNavMatchesRow:[dt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[pt],bundleNavLeftButtonIcon:[pt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[pt,{transform:"rotate(270deg)"}],cardWrapper:[ut],cardWrapperTitle:[mt],highlightedTextBox:[bt],highlightedTextInnerBox:[ht],minimalHighlightedTextInnerBox:[ft]})},HTie:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("ERkP"),r=a("I7vG"),i=a("lrqh"),o=a("ax6a"),s=a("e12y"),l=a("ps/9"),c=a("EOGW"),d=a("XxrX"),p=a("Q8bi"),u=a("aIes");const m=({examples:e,layoutDensity:t})=>n.createElement(p.Typography,{nodeType:"table",styleType:p.Typography.Type.Base,className:w.wrapper},e.map((e,a)=>n.createElement("tbody",{key:a,className:w.group},e.map(({text:e,title:a,color:o,hasItalic:s},l)=>n.createElement("tr",{key:l,className:Object(r.pipe)(t,d.a.Density.matchL(()=>w.item,()=>w.itemCompact,()=>w.itemMinimal))},Object(r.pipe)(a,i.g.map(e=>n.createElement("td",{className:c.a.colorMatch(o)(w)},(e=>e.split("/").reduce((e,t,a)=>(0!==a&&e.push(n.createElement("br",{key:a})),e.push(t),e),[]))(e))),i.g.toNullable),n.createElement("td",Object.assign({colSpan:i.g.isNone(a)?2:void 0,className:s?w.content:w.contentItalic},u.d.setInnerHTML(e)))))))),g={$nest:{"&:not(:last-child):after":{display:"block",height:s.a.rem(1.75),content:"''"}}},h={$nest:{"&:not(:last-child)":{borderBottom:`${s.a.rem(.5)} solid transparent`}}},f={display:"flex",flexDirection:"column",lineHeight:s.a.rem(1.3125)},b={padding:0,verticalAlign:"top",lineHeight:s.a.rem(1.25)},y={paddingRight:s.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},C={color:o.a.CoreNeutral50,fontFeatureSettings:`${l.e}, ${l.f}`},v={color:o.a.CoreRed50},O={color:o.a.CoreGreen70},k={color:o.a.CoreNeutral90},S={color:o.a.CoreNeutral90},w=s.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[g],item:[h],itemCompact:[h,{display:"flex",flexDirection:"column"}],itemMinimal:[h,f],baseBlock:[b],title:[b,y],content:[b,C],contentItalic:[b,C,{fontStyle:"italic"}],red:[b,y,v],green:[b,y,O],yellow:[b,y,k],fallback:[b,y,S]})},"HUX/":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a("I7vG"),r=a("ax6a"),i=a("e12y"),o=a("ps/9"),s=a("XxrX"),l=a("3bJT"),c=a("qZUR");const d=e=>({container:Object(n.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>b.cozyCardContainer,()=>b.compactCardContainer))}),p=e=>Object.assign(Object.assign({},e.hasOwnProperty("features")&&e.features.has(s.a.Features.a11yContrast)?(e=>({container:Object(n.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>e.features.has(s.a.Features.sduiContainerStyle)?b.cozyCardContainerContrastSdui:b.cozyCardContainerContrast,()=>b.compactCardContainer))}))(e):d(e.layoutDensity)),{wrapper:Object(n.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.minimal)(()=>b.minimalCardWrapper,()=>void 0))}),u={padding:`${i.a.rem(.75)} ${i.a.rem(.5)} ${i.a.rem(.5)} ${i.a.rem(1)}`},m={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:`0 ${i.a.rem(.625)} ${i.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},g={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:c.a.z300},h={boxShadow:c.b.llamaShadowToken},f={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0},b=Object.assign(Object.assign({},i.a.stylesheet({minimalCardWrapper:[u],compactCardContainer:[f]})),{cozyCardContainer:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(m)]),cozyCardContainerContrast:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(g)]),cozyCardContainerContrastSdui:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(g),i.a.style(h)])})},HqKA:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return y}));var n,r=a("a5W6"),i=a("rbBt"),o=a("LTbp"),s=a("GRZr"),l=a("U75S"),c=a("OA+g"),d=a("I7vG"),p=a("94k3"),u=a("WOlp"),m=a("lrqh"),g=a("tn8Q"),h=a("PrA7"),f=a("dE97"),b=a("GUi3");!function(e){e.getSubTypeFromLens=e=>b.a.isPriority(e)||b.a.isPriorityOutcomeId(e)?p.a.FeedbackSubtype.SidebarPriority:p.a.FeedbackSubtype.Sidebar}(n||(n={}));class y{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=h.Monitoring.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(d.pipe)(e,this._alertsReader.getById,m.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(c.flow)(l.P(Object(c.flow)(this._alertsReader.getById,m.g.filter(f.a.isBulkApplied))),e=>this._ops.undoApplied(e,f.a.State.Applied.Method.Bulk)(),m.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(c.flow)(this._findAlert,m.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(c.flow)(this._findAlert,m.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(c.flow)(this._findAlert,m.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(c.flow)(this._alertsReader.getById,m.b.fromOption(()=>new Error("alert not found in the repo")),m.b.filterOrElse(f.a.isApplicableAlert,e=>new Error(`alert is not applicable: ${e.alertType}`)),m.b.map(e=>e.getAppliedRanges()))}apply(e,t){const{alternativeIndex:a,source:n}=t;return this._log.trace("apply",e),Object(d.pipe)(this._findAlert(e),m.b.chain(m.b.fromPredicate(f.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),m.b.chain(e=>Object(d.pipe)(m.b.tryCatchError(()=>e.apply(t)),m.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:a,source:n}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,p.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const a=Object(d.pipe)(e,g.a.fromArray(e=>Object(d.pipe)(this._findAlert(e),m.b.mapLeft(t=>Object(c.tuple)(t,{id:e})),m.b.chain(m.b.fromPredicate(f.a.isRegisteredApplicableAlert,e=>Object(c.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),m.b.chain(m.b.fromPredicate(e=>u.y.withTransformJson(e._raw),e=>Object(c.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),m.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(d.pipe)(a,g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:f.a.getApplicableAlternative(e,0)})),source:f.b.api,method:f.a.State.Applied.Method.Bulk,feedbackSubtype:t}),o.f(t=>()=>(this._log.error("applyBulk error",t),g.a.of([],e.map(e=>e.id))),()=>()=>g.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(d.pipe)(e,g.a.fromArray(Object(c.flow)(this._findAlert,m.b.map(f.e.castApplied))),m.b.mapLeft(e=>new Error(`Error on trying to confirm applied alerts: ${e.rejected.join(",")}`)),m.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(d.pipe)(e.map(Object(c.flow)(this._findAlert,m.b.map(e=>[e]))),Object(s.fold)(v),m.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,a){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._alertFeedback(e,t,a)()))}sendBatchFeedback(e,t,a){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(d.pipe)(e,g.a.fromArray(this._findAlert),g.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),g.a.foldSuccess(e=>m.b.right(this._ops._alertBatchFeedback(e,t,a)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(d.pipe)(this._findAlert(e.id),m.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(d.pipe)(e,g.a.fromArray(e=>this._findAlert(e.id)),g.a.flatMap(r.getMonoid(),e=>Object(d.pipe)(this._ops._changeMuteState(e,t)(),m.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),m.b.unsafeGet)))}changeGapValue(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(d.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}}const C=r.getMonoid(),v=Object(i.getApplyMonoid)(C)},IVzZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("I7vG"),o=a("lrqh"),s=a("6fbX"),l=a("dE97"),c=a("UEGg"),d=a("uqkn"),p=a("O6HF"),u=a("YJiV"),m=a("E0zP"),g=a("TC4P");!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=Object(i.pipe)(o.h.ordNumber,o.h.contramap(Object(r.flow)(e=>e.activeAlert.bundleInfo,o.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank)))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(s.d)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>Object(i.pipe)(e.bundleInfo,o.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>m.a.eq.equals(e,t)&&o.g.getEq(o.c.eqString).equals(e.lensId,t.lensId)},function(t){const n=t=>(a,n)=>Object.assign({id:a,kind:e.Kind,bundleInfo:t,activeAlert:m.a.getAlertByIndex(n.activeAlertIndex,n.alerts),transform:Object(i.pipe)(n.cachedTransform,o.g.map(e=>e.labels)),equals(t){return e.eq.equals(this,t)},hashCode(){return m.a.hashCode(this)}},n);t.create=function(t,r,d,p){const h=f.getAnimatable(t).changeVisualState,b=e=>u.a.getCreate(n(e),r,h,p,d),y=a(d);return{create:e=>(t,a,n,r,i,s,l)=>b(i)(t,a,n,r,u.a.getApplicableCardMeta(a[n],s,d),e,o.g.some(s),l),createAdded:e=>(t,a,n,r)=>{const i=g.a.VisualState.initial({type:"added",clockwise:!0},!0);return b(a)(t,n,0,0,u.a.getApplicableCardMeta(n[0],i,d),e,o.g.some(i),r)},createFocused:e=>(t,a,n,r,i)=>{const s=g.a.VisualState.initial({type:"focused",clockwise:!0},!0);return b(a)(t,n,r,0,u.a.getApplicableCardMeta(n[r],s,d),e,o.g.some(s),i)},createRendered:e=>(t,a,n,r)=>{const i=g.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return b(a)(t,n,0,0,u.a.getApplicableCardMeta(n[0],i,d),e,o.g.some(i),r)},updateWith:(a,n)=>r=>{Object(s.g)(a.every(e=>l.a.isRegistered(e)),"cannot add non registered alerts");const o=new Set(a.map(e=>e.id)),d=new Set(r.removedAlertsIds);o.forEach(e=>{d.delete(e)});const p=r.alerts.filter(e=>!o.has(e.id)).concat(a.map(c.a.fromModel)).sort(n.compare);return Object(i.pipe)(r,y(p,d,m.a.getIndexByAlert(r.activeAlert.id,p)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const a=e=>(t,a,n)=>r=>{const i=m.a.getAlertByIndex(n,t),o=c.a.isApplicableAlert(i)?u.a.getApplicableCardMeta(i,r.visualState,e):p.a.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:i,meta:o,removedAlertsIds:a,activeAlertIndex:n})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>u.a.getCardHydrator(e=>e.cachedTransform,d.a.canHydrate,n,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const n=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:Object(i.pipe)(e,o.g.map(e=>e.labels))}),h=e=>t=>Object.assign(Object.assign({},t),{meta:e});let f;e.unselect=u.a.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,n,r)=>u.a.getSelectByAlert(a(n),e.changeUserInput,e.updateVisualState,e.changePosition,h,r,t,n),e.getSelect=(t,a,n)=>u.a.getSelectFirstAlert(e.getSelectByAlert(t,a,n)),function(t){function n(t){const a=u.a.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>a(g.a.VisualState.complete(t.visualState,e))(t),transitionTo:u.a.getTransitionTo(a,e.changePosition),changeVisualState:a}}t.getAnimatable=n,t.getRemove=(e,t)=>u.a.getRemove(a(e),n(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,a)=>i=>Object(r.flow)(t.updateWith(i,l.d.ord),t=>e.isExtendableWithAlerts(t)?t:n(a).transitionTo({type:"added",clockwise:!0})(t)),t.getRemoveAlertsCapability=(a,n,s,l)=>(c,d)=>{const p=e.getSelectByAlert(a,n,e.getCardHydrator(s)),g=u.a.getSelectNextAlert(u.a.getCardSelections(a),p);return e=>{const a=new Set(c.map(e=>e.id));if(!m.a.hasAnyOfAlerts(a)(e))return e;const p=t.getRemove(n,s)(c,Object(i.pipe)(d,o.g.map(t=>l.compare(e,t)>0),o.g.getOrElse(r.constTrue)))(e);return Object(i.pipe)(d,o.g.exists(t=>t.id===e.id))?g(l)(p):p}}}(f=e.Capabilities||(e.Capabilities={}))}(n||(n={}))},IdhR:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return g}));var n=a("ERkP"),r=a("94k3"),i=a("rk+4"),o=a("uqkn"),s=a("+w1e"),l=a("bO3R"),c=a("3rlE"),d=a("aIes"),p=a("es5d");const u=({card:{activeAlert:e,id:t,visualState:a},actions:u,mode:m,className:h,disabled:f})=>{const b=n.useContext(i.a.Context),y="mini"===m?g(a,b):"";return n.createElement(l.a.Tertiary,{key:"toggle-more",name:g(a,b),title:y,ariaLabel:y,className:h,disabled:f,onClick:d.d.callOnce(()=>{const n=o.a.isCardOpen(a);u.next({type:s.a.Kind.startTransitionTo,id:t,transition:{type:n?"focused":"expanded",clockwise:!0}}),n||u.next({type:s.b.Type.alertFeedback,alertId:e.id,feedbackType:r.a.AlertFeedbackType.EXPANDED})})},o.a.isCardOpen(a)?n.createElement(c.d.Arrow,{key:"more",className:p.a.lessIcon}):n.createElement(c.d.QuestionMark,{key:"expand"}),"default"===m&&g(a,b))},m=({visualState:e,children:t,className:a})=>n.createElement("div",{className:(o.a.isCardOpen(e)?p.a.more:p.a.moreHidden)+" "+a},t);function g(e,t){const a=t.card;return o.a.isCardOpen(e)?a.less:a.more}},"J/IC":function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("ERkP"),r=a("I7vG"),i=a("vOOZ"),o=a("9NHN"),s=a("zR/0"),l=a("gy42"),c=a("lrqh"),d=a("ax6a"),p=a("e12y"),u=a("H37f"),m=a("xEVj");const g=({toneAlternatives:e,onSelectToneAlternative:t})=>{const a=new s.a.Subject,d=new s.a.Subject,g=new s.a.Subject,h=new s.a.Subject,f=new s.a.Subject,b=new s.a.Subject,{ref:y,onMount:C}=m.a.useElWatcher(),v=s.a.mergeStatic(f.pipe(s.a.mapTo(!0)),g.pipe(s.a.mapTo(!1)),h.pipe(s.a.mapTo(!1))).pipe(s.a.startWith(!1)),O=s.a.mergeStatic(f,d).pipe(s.a.withLatestFrom(v),s.a.filter(([e,t])=>t),s.a.map(([e,t])=>e),s.a.withLatestFrom(y),s.a.map(([e,t])=>Object(r.pipe)(t,c.g.map(e=>e.getBoundingClientRect()),c.g.bindTo("sliderClientRect"),c.g.apS("containerMouseEventVal",c.g.some(e)))),s.b.compact,s.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const a=t.x,n=t.x+t.width;let r=0;return r=e.clientX<=a?0:e.clientX>=n?100:(e.clientX-a)/(n-a)*100})),k=s.a.mergeStatic(O.pipe(s.a.distinctUntilChanged()),v.pipe(s.a.distinctUntilChanged(),s.a.filter(e=>!e),s.a.withLatestFrom(O),s.a.map(([e,t])=>t),s.a.map(e=>e>=50?100:0)),a.pipe(s.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),s.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),s.a.map(e=>e.key),s.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),s.a.map(e=>"ArrowRight"===e?100:0)),b.pipe(s.a.map(e=>1===e?100:0))).pipe(s.a.startWith(100)),S=k.pipe(s.a.distinctUntilChanged(),s.a.map(e=>e>=50?1:0)),w=s.a.combineLatestStatic([S,l.b.toObservable(e)]).pipe(s.a.map(([e,t])=>t[e]));return m.a.useSubscriptionTo(S.pipe(s.a.distinctUntilChanged(),s.a.tap(t))),n.createElement(i.a.div,{className:q.outerContainer,onKeyDown:e=>a.next(e)},n.createElement(i.a.div,{className:q.label},w.pipe(s.a.map(e=>e.name))),n.createElement(i.a.div,{className:q.container,onMouseMove:e=>d.next(e),onMouseUp:e=>g.next(e),onMouseLeave:e=>h.next(e)},n.createElement(i.a.div,Object.assign({},Object(o.c)(q.slider,v.pipe(s.a.map(e=>e?q.sliderDragging:null))),{mount:C}),n.createElement(i.a.div,Object.assign({},Object(o.c)(q.sliderInner,v.pipe(s.a.map(e=>e?q.sliderInnerDragging:null))),{style:{width:k.pipe(s.a.map(p.a.percent))}}),n.createElement(i.a.div,Object.assign({},Object(o.c)(q.knob,v.pipe(s.a.map(e=>e?q.knobDragging:null))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),f.next(e)},tabIndex:0}),w.pipe(s.a.map(e=>n.createElement(u.c,{id:e.emojiID,className:q.knobEmoji}))))),s.a.combineLatestStatic([S,v]).pipe(s.a.map(([e,t])=>n.createElement(n.Fragment,null,n.createElement("div",Object.assign({},Object(o.c)(q.sliderDivisionPoint,q.sliderDivisionPointLeft))),0===e||t?null:n.createElement(i.a.div,Object.assign({},Object(o.c)(q.sliderDivisionPointHoverArea,q.sliderDivisionPointHoverAreaLeft),{onClick:()=>b.next(0)})),n.createElement("div",Object.assign({},Object(o.c)(q.sliderDivisionPoint,q.sliderDivisionPointRight))),1===e||t?null:n.createElement(i.a.div,Object.assign({},Object(o.c)(q.sliderDivisionPointHoverArea,q.sliderDivisionPointHoverAreaRight),{onClick:()=>b.next(1)}))))))))},h="toneSliderOuterContainer",f="toneSliderLabel",b="toneSliderContainer",y="toneSlider",C="toneSliderDragging",v="toneSliderSliderDivisionPoint",O="toneSliderDivisionPointLeft",k="toneSliderDivisionPointRight",S="toneSliderDivisionPointHoverArea",w="toneSliderDivisionPointHoverAreaLeft",A="toneSliderDivisionPointHoverAreaRight",E="toneSliderInner",I="toneSliderInnerDragging",x="toneSliderKnob",T="toneSliderKnobDragging",j="toneSliderKnobEmoji",N={fontWeight:700,fontSize:p.a.rem(.875),lineHeight:p.a.rem(1),width:p.a.rem(7.5)},L={width:p.a.rem(5.375),height:p.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},P={position:"relative",width:p.a.percent(100),backgroundColor:d.a.CoreNeutral40,height:p.a.rem(.125),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:p.a.rem(.5)},[`&:hover .${v}`]:{visibility:"visible"}}},D={height:p.a.rem(.5),$nest:{[`& .${v}`]:{visibility:"visible"}}},B={position:"absolute",width:p.a.rem(.25),height:p.a.rem(.25),backgroundColor:d.a.CoreNeutral0,top:p.a.rem(.125),bottom:p.a.rem(.125),borderRadius:p.a.percent(100),visibility:"hidden"},F={left:p.a.rem(.125)},$={right:p.a.rem(.125)},R={background:d.a.CoreNeutral90,opacity:0,width:p.a.rem(1.5),height:p.a.rem(1.5),position:"absolute",borderRadius:p.a.percent(100),cursor:"pointer",top:p.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},M={left:p.a.rem(-.5)},_={right:p.a.rem(-.5)},W={position:"relative",display:"flex",alignItems:"center",backgroundColor:d.a.CorePurple40,height:p.a.percent(100),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out"},H={position:"absolute",right:p.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:p.a.rem(1.75),height:p.a.rem(1.75),backgroundColor:d.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:p.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},G={width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},V={width:p.a.rem(.9375),height:p.a.rem(.9375),pointerEvents:"none"},q={outerContainer:p.a.joinClasses([h,p.a.style({display:"flex",alignItems:"center"})]),label:p.a.joinClasses([f,p.a.style(N)]),container:p.a.joinClasses([b,p.a.style(L)]),slider:p.a.joinClasses([y,p.a.style(P)]),sliderDragging:p.a.joinClasses([C,p.a.style(D)]),sliderDivisionPoint:p.a.joinClasses([v,p.a.style(B)]),sliderDivisionPointLeft:p.a.joinClasses([O,p.a.style(F)]),sliderDivisionPointRight:p.a.joinClasses([k,p.a.style($)]),sliderDivisionPointHoverArea:p.a.joinClasses([S,p.a.style(R)]),sliderDivisionPointHoverAreaLeft:p.a.joinClasses([w,p.a.style(M)]),sliderDivisionPointHoverAreaRight:p.a.joinClasses([A,p.a.style(_)]),sliderInner:p.a.joinClasses([E,p.a.style(W)]),sliderInnerDragging:p.a.joinClasses([I,p.a.style({transition:"none"})]),knob:p.a.joinClasses([x,p.a.style(H)]),knobDragging:p.a.joinClasses([T,p.a.style(G)]),knobEmoji:p.a.joinClasses([j,p.a.style(V)])}},JSz4:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("OA+g"),r=a("I7vG"),i=a("lrqh"),o=a("6fbX"),s=a("f3nf"),l=a("W0xG"),c=a("wOnQ");const d=e=>t=>Object(r.pipe)(t.content,i.b.fold(e=>i.b.right(Object(l.a)(e,t.todo)),Object(n.flow)(e,i.b.bimap(e=>({kind:"default",error:e}),e=>(function(e,t){switch(e.type){case s.a.Type.Drilldown:return c.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return c.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?c.i.create(e.inserts[0],e.inserts[1],t):c.g.create(e.inserts,t);case s.a.Type.Remove:return c.b.create([e.remove],t);case s.a.Type.RemoveOr:return c.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case c.f.WithFormatting:return c.e.createWithFormatting(e.ops,t);case c.f.PlainText:return c.e.createPlainText(e.ops,t);default:return Object(o.d)(e)}}(e,t);case s.a.Type.Citation:return function(e,t){return{type:c.j.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.OneGap:return c.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:c.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:c.j.Type.ToneAI,tooltipText:t,labels:e.transformParts}}(e,t);default:return Object(o.d)(e)}})(e,t.todo)))))},K4Sz:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("I7vG"),i=a("lrqh");!function(e){e.update=function(e,t,a){return e.update(t,a)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,a){return Object(r.pipe)(e.get(t),i.g.filter(e=>a(e.value)))},e.find=function(e,t){return e.find(t)}}(n||(n={}))},KBak:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("lrqh");!function(e){let t,a;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(t){return t.type===e.Type.Delete},e.isInsert=function(t){return t.type===e.Type.Insert},function(e){e.eq=r.c.getStructEq({type:r.c.eqString,textChunk:r.c.eqString})}(a=e.NoInvert||(e.NoInvert={}))}(n||(n={}))},Kt6o:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="https://assets.grammarly.com/emoji/v1/",r="https://assets.grammarly.com/animations/v1/"},"L9r+":function(e,t,a){e.exports=a.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},LXcl:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("LNSM"),r=a("zR/0"),i=a("D9EC"),o=a("PrA7"),s=a("hnW1");class l{constructor(){this.completionTrigger=n.a.create(!1),this._steps={},this.getFirstTargetRect=()=>r.a.EMPTY}isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){o.Monitoring.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=n.a.create(s.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.e,dotClicked:()=>t.set(s.a.Popup),popupClosed:()=>t.set(s.a.Passed),popupIgnored:()=>t.set(s.a.Hidden),actionTaken:()=>t.set(s.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}}},My8q:function(e,t,a){e.exports=a.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},N19O:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return d}));var n,r=a("ERkP"),i=a("OA+g"),o=a("lrqh"),s=a("MsKq"),l=a("zR/0"),c=a("xEVj");function d(e=12){const{ref:t,onMount:a}=c.a.useElWatcher(),{cardHeight:d,cardVisibleViewportHeight:p}=r.useContext(n.Context),u=r.useContext(s.a.Context);return{onMount:a,maxHeight:r.useRef(t.pipe(l.a.switchMap(o.g.fold(Object(i.constant)(l.a.of(o.g.none)),e=>d.pipe(l.a.take(1),l.a.withLatestFrom(p),l.a.map(([t,a])=>Object(i.pipe)(a,o.g.map(a=>e.offsetHeight+Math.max(0,a-t))))))),l.a.startWith(o.g.none),l.a.withLatestFrom(u.pipe(l.a.startWith(void 0),l.a.map(o.g.fromNullable))),l.a.map(([t,a])=>Object(i.pipe)(t,o.g.alt(()=>Object(i.pipe)(a,o.g.map(t=>e*t))))),l.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){e.Context=r.createContext({cardHeight:l.a.EMPTY,cardVisibleViewportHeight:l.a.of(o.g.none)}),e.Provider=t=>{const{ref:a,onMount:n}=c.a.useElWatcher(),i=r.useRef({cardHeight:t.card.pipe(l.a.switchMapTo(a.pipe(l.b.compact,l.a.map(e=>e.offsetHeight))),l.a.distinctUntilChanged(),l.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:t.cardVisibleViewportHeight.pipe(l.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),l.a.shareReplay({bufferSize:1,refCount:!0}))});return r.createElement(e.Context.Provider,{value:i.current},t.children(n))}}(n||(n={}))},N8v8:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("LNSM"),s=a("zR/0"),l=a("gy42"),c=a("D9EC"),d=a("ax6a"),p=a("e12y"),u=a("SD38"),m=a("PnD2"),g=a("viRF");function h({value:e,initValue:t=g.a.MIN,wrapperClass:a,progressClass:o,borderClass:c,isLoading:d=s.a.of(!1)}){const p=f(e,t);return n.createElement(r.a.div,Object.assign({role:"progressbar","aria-label":"Progress","aria-valuenow":l.b.toObservable(e).pipe(s.a.map(g.a.iso.unwrap))},Object(i.c)(E.wrapper,a)),n.createElement(b,{width:p,progressClass:o,borderClass:c,isLoading:d}))}function f(e,t=g.a.MIN){const a=o.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>a.set(!0))),s.a.combineLatestStatic(l.b.toObservable(e),a,(e,a)=>a?e:t)}function b({width:e,progressClass:t,isLoading:a,borderClass:o}){const l=e.pipe(s.a.map(e=>`${e}%`)),d=e.pipe(s.a.map(g.a.prism.reverseGet),s.a.map(e=>e>0?`${e+.75}%`:0),s.a.startWith(0)),p=a.pipe(s.a.switchMap(e=>e?l:"0")),u=e.pipe(s.a.map(g.a.isMin),s.a.shareReplay({bufferSize:1,refCount:!0}));return n.createElement(n.Fragment,null,n.createElement(r.a.div,Object.assign({},Object(i.c)(E.borderContainer,u.pipe(s.a.map(Object(c.c)(E.borderContainerZeroWidth,E.borderContainerWithMinWidth))),o),{style:{width:d}})),n.createElement(r.a.div,Object.assign({},Object(i.c)(Boolean(t)?t:E.defaultProgress,E.progressBar,u.pipe(s.a.map(Object(c.c)(E.progressBarZeroWidth,E.progressBarWithMinWidth)))),{style:{width:l}})),n.createElement(r.a.div,{className:E.loading,style:{width:p}}))}const y=p.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),C={position:"relative",width:p.a.percent(100),height:p.a.rem(.25),borderRadius:p.a.rem(m.radius1),backgroundColor:u.ui300},v={position:"relative",top:0,height:p.a.percent(100),borderRadius:p.a.rem(m.radius1),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},O={minWidth:p.a.px(4)},k={position:"absolute",backgroundColor:d.a.CoreNeutral0},S={minWidth:p.a.px(6)},w={position:"absolute",minWidth:0,backgroundImage:u.progressLoadingGradient,backgroundSize:"20px 20px",transition:"none",animation:`${y} 1s linear infinite`},A={backgroundImage:u.rightProgressGradient},E=p.a.stylesheet({wrapper:[C,C],progressBar:[v],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[O],borderContainer:[v,k],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[S],loading:[v,w],defaultProgress:[A]})},NW9S:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,r,i=a("m6JR"),o=a("66iv"),s=a("PK5a");!function(e){let t;!function(e){e.ISO=Object(s.iso)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(n||(n={})),function(e){let t,a,n;!function(e){e.ISO=Object(s.iso)(),e.equals=Object(s.getEq)(i.eqNumber).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.iso)()}(a=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.iso)()}(n=e.CardTop||(e.CardTop={})),e.concatC=e=>t=>e+t;const r=e=>new o.a(e);e.converters=function(t,a,n){const i=r(e.concatC(n)).get,o=r(e.concatC(-t)).get;return{windowToViewport:r(e.concatC(-a)).get,viewportToWindow:r(e.concatC(a)).get,cardTopToViewport:o,viewportToCardTop:r(e.concatC(t)).get,absTopToViewportTop:e=>o(i(e)),absTopToCardTop:i}}}(r||(r={}))},NbEL:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i}));var n,r,i,o=a("m6JR"),s=a("NW9S");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(n||(n={})),function(e){e.Impl=class{constructor(e,t,a){this.scrollTop=e,this.viewport=t,this.converters=s.a.converters(e,s.b.FromWindowTop.ISO.unwrap(t.top),a)}}}(r||(r={})),function(e){const t=Object(o.getStructEq)({top:o.eqNumber,height:o.eqNumber});e.eqDimensionsTuple=Object(o.getTupleEq)(t,t)}(i||(i={}))},Ni70:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n,r,i=a("D57K"),o=a("I7vG"),s=a("lrqh"),l=a("hoSD");!function(e){var t=function(){function e(){}return e.prototype.getRect=function(){return s.b.right({rootClientRect:l.c.Rect.empty,clientRects:[l.c.Rect.empty]})},e}();e.Mock=t}(n||(n={})),function(e){e.relativeToViewport=function(e){var t,a=e.clientRects,n=a[0],r=a.slice(1);return Object(o.pipe)((t=l.c.Rect).join.apply(t,Object(i.__spreadArray)([n],r,!1)),s.b.getOrElse((function(){return l.c.Rect.empty})))},e.relativeToRoot=function(t){return l.c.absToRelative(e.relativeToViewport(t),t.rootClientRect)},e.relativeToRootFirst=function(e){return l.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(t){var a=e.relativeToViewport(t);return{abs:a,relative:l.c.absToRelative(a,t.rootClientRect)}}}(r||(r={}))},PyeZ:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,r,i=a("D9EC");!function(e){let t;function a(t){return t.type===e.Type.confirmed}function n(t){return t.type===e.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(t){return t.type===e.Type.applied},e.isAlertOpenAction=function(t){return t.type===e.Type.opened},e.isAlertIgnoreAction=function(t){return t.type===e.Type.ignored},e.isAlertAddToDictionaryAction=function(t){return t.type===e.Type.addedToDictionary},e.isConfirmAction=a,e.isUndoAction=n,e.isMountAction=function(t){return t.type===e.Type.mounted},e.isLookedAction=function(t){return t.type===e.Type.looked},e.isBulkAction=Object(i.p)(a,n)}(n||(n={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(r||(r={}))},PzR3:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return r}));var n,r,i=a("I7vG"),o=a("94k3"),s=a("FiSa"),l=a("lrqh"),c=a("D9EC"),d=a("6fbX"),p=a("PrA7");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=l.c.getStructEq({alternative:o.a.Alternative.eq,alternativeId:l.c.eqString,alertId:l.c.eqString})}(n||(n={}));class u{constructor(){this._log=p.Monitoring.Logging.getLogger("alternative_manager",p.Logging.LogLevel.DEBUG),this._alternatives=new Map,this.getAlternative=e=>{const t=this._alternatives.get(e);if(t)return l.b.right(t);{const t=`Tried to retrieve non-registered alternative: ${e}`;return this._log.error(t),l.b.left(new Error(t))}}}pushChanges(e){s.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(i.pipe)(t.alternative.rebase(e.delta),l.g.fold(c.e,e=>t.alternative=e))})}registerAlternative(e,t){const a=u.getAlternativeId(t),n={alternative:e,alternativeId:a,alertId:t};return this._alternatives.set(a,n),n}deregisterAlternative(e){return Object(i.pipe)(this.getAlternative(e),l.b.chain(({alternative:e,alternativeId:t})=>l.b.tryCatchError(()=>(Object(d.g)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}}u._alternativeCounter=0,u.getAlternativeId=e=>`alt-${e}-${u._alternativeCounter++}`,function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:u.getAlternativeId(t),alertId:t}),getAlternative:()=>l.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>l.b.right(o.a.Alternative.create([]))}}(r||(r={}))},RWgj:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return A})),a.d(t,"a",(function(){return L}));var n=a("ax6a"),r=a("e12y"),i=a("WIwS"),o=a("ps/9");const s="0 1px 8px rgba(109, 117, 141, .18)",l={$nest:{"&:before":{top:r.a.rem(.85),left:0}}},c=r.a.joinClasses(["miniTwoLinedHighlightedText",r.a.style({overflow:"hidden",marginTop:r.a.rem(-.25),color:n.a.CoreNeutral90,textOverflow:"ellipsis"})]),d={height:r.a.rem(3.25),borderRadius:r.a.rem(o.s),boxShadow:s,$nest:{"&:hover":{boxShadow:s},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},p={top:r.a.rem(.7)},u={top:r.a.rem(.1)},m={fontWeight:r.a.important(400),fontSize:r.a.rem(.75)},g={position:"absolute",left:r.a.rem(.5),minWidth:"initial",minHeight:"initial",background:n.a.CoreNeutral0},h=Object.assign(Object.assign({},g),{top:r.a.rem(.6)}),f=r.a.stylesheet({dot:[l],invisibleDot:[l,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[d],miniContainer:[{flexDirection:"column"}],cardLogo:[p],lensIcon:[u],subTitle:[m],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[h],takeawayIconStandard:[g]}),b={height:r.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},y={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0}}},C={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0,visibility:"hidden"}}},v={height:r.a.important(r.a.rem(2.5)),borderRadius:r.a.rem(o.s)},O={color:n.a.CoreNeutral50,display:"flex",width:r.a.rem(2),height:r.a.percent(100),justifyContent:"center",alignItems:"center"},k={overflow:"hidden",color:n.a.CoreNeutral90,textOverflow:"ellipsis"},S={display:"inline-block",padding:`0 ${r.a.rem(.5)}`},w={top:0,bottom:0,left:r.a.rem(.5),margin:"auto"},A=r.a.stylesheet({wrapper:[b],dot:[y],invisibleDot:[y,C],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[v],alertsCounter:[O],highlightedText:[k],middleDot:[S],cardLogo:[w]}),E={color:n.a.CoreNeutral50,fontWeight:300},I={position:"absolute",left:r.a.rem(.5),width:r.a.rem(1),height:r.a.rem(1),background:i.e},x={left:r.a.rem(0)},T={marginLeft:r.a.rem(.5)},j={marginLeft:r.a.rem(-.5)},N={marginRight:r.a.rem(3)},L=r.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[E],cardLogo:[I],lensIcon:[j],outcomesCardLogo:[I,x],newLabel:[T],freePremiumContainer:[N]})},S3HV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("9NHN"),o=a("vOOZ"),s=a("LNSM"),l=a("zR/0"),c=a("hoSD"),d=a("ax6a"),p=a("e12y"),u=a("ps/9"),m=a("rk+4"),g=a("+w1e"),h=a("bO3R"),f=a("H37f"),b=a("3rlE"),y=a("xEVj"),C=a("0A/6"),v=a("H9T+");!function(e){e.Mini=({card:e,actions:t,twoLined:a,useBundleContainer:n})=>r.createElement(C.a.Mini,Object.assign({},Object(i.c)(!0===a?E.twoLinedWrapper:E.standardWrapper,!0===n?E.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),r.createElement(o.a.div,{className:E.content},void 0!==e.activeAlert.emojiID?r.createElement(f.c,{id:e.activeAlert.emojiID,className:E.icon}):r.createElement(b.d.EthicalAI.Heart,{className:E.icon}),r.createElement("div",{className:E.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:a})=>{const n=r.useContext(m.a.Context),i=s.a.create(!1);return y.a.useSubscriptionTo(a.pipe(l.a.tap(e=>i.set(e)))),r.createElement(v.s,{card:e,actions:t,isChecking:a,body:r.createElement(r.Fragment,null,r.createElement(v.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(v.n,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?r.createElement("div",null,e.activeAlert.bannerColors.map(e=>r.createElement("div",{className:N.bannerStripe,style:{backgroundColor:e}}))):null,r.createElement(v.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:r.createElement(r.Fragment,null,r.createElement(v.g,{card:e}),r.createElement(h.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",href:e.activeAlert.externalLink,target:"_blank",rel:"noopener noreferrer",title:n.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:g.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:g.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:N.externalLinkButton},r.createElement("div",{className:N.externalLinkButtonContent},c.f.capitalize(e.activeAlert.todoAction),r.createElement(b.d.EthicalAI.ExternalLink,{className:N.externalLinkButtonContentIcon})))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(n||(n={}));const O={height:p.a.rem(3.25),borderRadius:p.a.rem(u.s),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},k={height:p.a.rem(3)},S={height:p.a.important(p.a.rem(2.5)),borderRadius:p.a.rem(u.s)},w={width:p.a.rem(1),height:p.a.rem(1),marginRight:p.a.rem(.5)},A={overflow:"hidden",color:d.a.CoreNeutral90,textOverflow:"ellipsis"},E=p.a.stylesheet({twoLinedWrapper:[O],standardWrapper:[k],bundleContainer:[S],content:[{display:"flex",alignItems:"center"}],icon:[w],highlightedText:[A]}),I={width:p.a.percent(100),$nest:{a:{color:d.a.CoreNeutral0,textDecoration:"none"}}},x={width:p.a.percent(100),position:"relative",textAlign:"center"},T={position:"absolute",top:p.a.rem(.25),right:p.a.rem(.25)},j={width:p.a.percent(100),height:p.a.rem(.5)},N=p.a.stylesheet({externalLinkButton:[I],externalLinkButtonContent:[x],externalLinkButtonContentIcon:[T],bannerStripe:[j]})},SGQG:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("ax6a"),r=a("e12y"),i=a("WIwS"),o=a("ps/9");const s=n.a.BackgroundTooltip,l=r.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${r.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),c={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:`${l} 2s infinite`,$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},d=r.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),p={width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:r.a.rem(1),height:r.a.rem(1),borderRadius:r.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:`${d} 2s infinite`,willChange:"transform"},"&:hover:before":{animation:"none"}}},u={margin:`${r.a.rem(-1.5)} 0 0 ${r.a.rem(-1.5)}`,padding:r.a.rem(1),borderRadius:r.a.percent(50),cursor:"pointer",pointerEvents:"all"},m={margin:`0 0 ${r.a.rem(.5)}`,color:n.a.CoreNeutral0,fontWeight:"bold"},g={color:n.a.CoreNeutral0,lineHeight:r.a.rem(1.25)},h={display:"flex",padding:`${r.a.rem(1)} ${r.a.rem(1.5)} ${r.a.rem(1.25)} ${r.a.rem(2)}`,width:r.a.rem(20),borderRadius:r.a.rem(o.t),background:s,color:n.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},f={marginRight:r.a.rem(2),width:r.a.rem(2),flexShrink:0,alignSelf:"center"},b={stroke:i.i,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:n.a.CoreNeutral0,fill:n.a.CoreNeutral0}}},y={position:"absolute",top:r.a.percent(50),left:r.a.percent(50),zIndex:o.k},C={position:"relative",zIndex:o.i},v={zIndex:o.q},O={position:"absolute",zIndex:o.q},k=r.a.prefixedStylesheet("onboarding",{pulse:[c],pulseWrapper:[u],header:[m],description:[g],stepWrapper:[h],content:[{display:"inline-block"}],alertIcon:[f],closeIconWrapper:[{position:"absolute",top:0,right:0}],closeIcon:[b],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[y],containerDiv:[{}],editor:[C],onboardingPopup:[v],notificationContainer:[O],pulseOptimized:[p]})},StFb:function(e,t,a){"use strict";var n;function r(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function i(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const a=s(e,t);if(void 0===a)return null;const{from:n,to:r,oldFragment:i,newFragment:o}=a,l=1===o.length&&n>0&&e[n-1]===o,c=1===i.length&&0===o.length&&t[n-1]===i;let d=n,p=o;return(l||c)&&(d=n-1),l&&(p=o+o),c&&(p=i),p.length>3?null:[e.substring(0,d),p,e.substring(r)]}function s(e,t){if(e===t)return;const a=e.length,n=t.length;if(n>a){if(t.substr(0,a)===e)return{from:a,to:a,oldFragment:"",newFragment:t.substr(a)};if(t.substr(n-a)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,n-a)}}if(n<a){if(e.substr(a-n)===t)return{from:0,to:a-n,oldFragment:e.substr(0,a-n),newFragment:""};if(e.substr(0,n)===t)return{from:n,to:a,oldFragment:e.substr(n),newFragment:""}}const r=n<a?n:a,i=function(e,t,a){let n=0;for(;e[n]===t[n]&&n<a;)n+=1;return n}(e,t,r);let o=function(e,t,a,n,r){let i=0;for(;e[a-i-1]===t[n-i-1]&&r-i>=0;)i+=1;return i}(e,t,a,n,r);return i+o>a&&(o-=i+o-a),i+o>n&&(o-=i+o-n),{from:i,to:a-o,oldFragment:e.substr(i,a-o-i),newFragment:t.substr(i,n-o-i)}}a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(a=t)&&1===a.length&&/["'”’]/.test(a)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:r(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var a}}(n||(n={}))},VLye:function(e,t,a){e.exports=a.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},W0xG:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("6fbX"),r=a("D9EC"),i=a("PrA7"),o=a("wOnQ");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(n.g)(Object(r.n)(e),"transforms should have at least one element");const[a]=e;return l(a)>-1?o.a.create(c(a),e.map(d),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(n.g)(Object(r.n)(e),"transforms should have at least one element");const[a]=e;return l(a)>-1?o.a.create(c(a),e.map(d),t):function(e){return 2===e.length&&u(e)}(e)?o.i.create(e[0],e[1],t):u(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(h),t);default:return Object(n.d)(e.kind)}};function l(e){return e.findIndex(e=>"arrow"===e.type)}function c(e){return e.slice(0,l(e))}function d(e){return e.slice(l(e)+1)}function p(e){return e.every(e=>"delete"!==e.type)}function u(e){return e.every(p)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const g=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("(→)",e=>({type:o.k.Arrow})),m("([^<>→]+)",e=>({type:o.k.Text,text:e[1]}))];function h(e){function t(e){for(const t of g){const a=e.match(t.re);if(null!==a)return[t.createResult(a),a[a.length-1]]}}function a(t){let a=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(a.findIndex(e=>0===e)>0)throw new Error(`Couldn't parse transform: ${e}`);if(a=a.filter(e=>e>0),Object(r.n)(a)){const e=Math.min(...a);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const n=[];let s=e,l=!1,c=0,d=void 0;for(;Object(r.n)(s);){const e=t(s);void 0===e&&(l=!0);const[r,i]=e||a(s);d&&d.type===o.k.Text&&r.type===o.k.Text?d.text+=r.text:(d&&d.type===o.k.Delete&&r.type===o.k.Insert&&(n.push({type:o.k.Arrow}),c++),n.push(r)),r.type===o.k.Arrow&&c++,d=n[n.length-1],s=i}return(l||!Object(r.n)(n)||c>1)&&i.Monitoring.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:n.length,arrowCount:c}),n}},WOQ9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("93Qa"),i=a("GRZr"),o=a("U75S"),s=a("OA+g"),l=a("I7vG"),c=a("xlCj"),d=a("lrqh"),p=a("hoSD"),u=a("7b34"),m=a("6fbX"),g=a("dE97"),h=a("GUi3"),f=a("yA7V"),b=a("kFFO"),y=a("TC4P"),C=a("W39u"),v=a("BeBM");!function(e){let t,a,n,O;e.filterAlertInLens=(e,t)=>d.a.filter(a=>g.a.isNotRemoved(a)||d.g.isSome(e.items.find(e=>t.hasAlert(a.id)(e)))),e.createWithInitialAlerts=(e,t,a,n,r)=>(i,o,c,p)=>{const u=Object(l.pipe)(p,d.g.fold(()=>s.identity,e=>r.selectItemByAlert(e))),m=e.create(i,o),g=c.filter(a.alertVisibleInSidebar(i)),h=t(i);if(v.j.hasItems(m)){const e=f.a.empty,t=f.a.from(g),a=f.a.diff(e,t);return Object(l.pipe)(m,h(a,n),r.changeItemsVisualState(y.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),u,e=>Object.assign(Object.assign({},e),{animation:v.b.skip}))}return m},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(l.pipe)(v.k.getActiveItem(t),d.g.chain(t=>Object(l.pipe)(e.get(t.id),d.g.map(e=>e.index)))),items:e}),e.hideItem=function(e,t){return y.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>Object(l.pipe)(e.getAt(e.size-1),d.g.map(e=>e.positionState.absTop+e.positionState.height),d.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=t=>({state:a,metadata:n})=>{if(!v.e.hasCards(a))return d.b.left({state:a,metadata:n});const r=v.e.Prism.getLens();return d.b.left({state:r.modify(e.updateItemsPositions(t),a),metadata:n})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:a})=>{if(!v.e.hasCards(t))return d.b.left({state:t,metadata:a});const n=v.e.Prism.getLens();return d.b.left({state:n.modify(t=>{const a=t.items.map((a,n,r)=>{const i=d.g.contains(r)(t.cardIndex)?{absTop:a.positionState.absTop,height:a.positionState.height,animationInProgress:t.animation(a,r),visible:!0,isHeightValid:!0,watched:!0,inert:a.positionState.inert}:Object.assign(Object.assign({},a.positionState),{visible:!1,isHeightValid:!0});return C.a.PositionState.eq.equals(a.positionState,i)?a:e.changePosition(i)(a)});return Object.assign(Object.assign({},t),{items:a,isCardsHeightValid:!0})},t),metadata:a})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:a})=>{if(!v.e.hasCards(t))return d.b.left({state:t,metadata:a});const n=v.e.Prism.getLens();return d.b.left({state:n.modify(t=>{const a=v.k.getActiveItem(t),n=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(l.pipe)(a,d.g.exists(e=>e.id===t.id))),r=Object(l.pipe)(t,v.k.getActiveItemIndex(n));return Object.assign(Object.assign({},t),{items:n,cardIndex:r})},t),metadata:a})};const t=e=>t=>Object(l.pipe)(t.items.find((e=>t=>a=>a.positionState.watched&&!e.isHidden(a)&&Object(l.pipe)(t,d.g.forAll(e=>e.id!==a.id)))(e)(v.k.getActiveItem(t))),d.g.map(({value:t,index:a})=>({index:a,value:Object(l.pipe)(t,d.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));e.updateItemsPositions=a=>n=>{const r=v.k.getActiveItem(n),i=t(a)(n),o=Object(l.pipe)(i,d.g.chain(p.e.pick("value")),d.g.map(e=>e.positionState.height));let s=0;const c=Object(l.pipe)(r,d.g.forAll(e=>e.positionState.isHeightValid)),u=Object(l.pipe)(i,d.g.map(p.e.pick("index")),d.g.getOrElse(()=>(e=>Object(l.pipe)(e,d.g.map(e=>0===e?1:0),d.g.getOrElse(()=>0)))(n.cardIndex))),m=n.items.map((e,t,r)=>{const i=d.g.contains(r)(n.cardIndex),p=i||r===u,m=a.isScheduledToDispose(e)||(i?e.positionState.isHeightValid:d.g.isSome(o)),g=a.isScheduledToDispose(e)?a.useReferenceHeightOnRemove(e)?Object(l.pipe)(o,d.g.getOrElse(()=>e.positionState.height)):0:i?e.positionState.height:Object(l.pipe)(o,d.g.getOrElse(()=>e.positionState.height)),h={absTop:i||c?s:e.positionState.absTop,height:g,animationInProgress:n.animation(e,r),visible:e.positionState.visible,isHeightValid:m,watched:p,inert:e.positionState.inert};return s+=g,C.a.PositionState.eq.equals(e.positionState,h)?e:a.changePosition(h)(e)}),g=e.calculateCardsHeight(m),h=Object(l.pipe)(r,d.g.forAll(e=>e.positionState.isHeightValid))&&Object(l.pipe)(m.getAt(u),d.g.forAll(e=>e.positionState.isHeightValid));return Object.assign(Object.assign({},n),{items:m,cardsHeight:g,isCardsHeightValid:h})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,a,n)=>r=>Object(l.pipe)(e,u.a.reduce(r,(e,{alert:t})=>n([t])(e),(e,t,{alert:n})=>a([n])(e),(e,{alert:a})=>t([a])(e))),e.applyWithFilter=(e,t)=>(a,n,r,i)=>{const o=Object(s.flow)(d.a.partition(e),e=>Object(s.flow)(i(e.left),r(e.right)));return t(a,t=>n(t.filter(e)),o,i)}}(a=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=c.a.create(e=>e.items,(e,a)=>t.setVisibleItems(e)(a)),e.getFeedItems=()=>c.a.create(e=>e.items,(e,a)=>t.setVisibleItems(e)(a))}(n=e.Prism||(e.Prism={})),e.getEq=e=>d.c.fromEquals((t,a)=>{if(t.kind===v.f.abstract||a.kind===v.f.abstract)return t.id===a.id;{const n=t,r=a;return t.id===a.id&&d.g.getEq(e).equals(v.k.getActiveItem(n),v.k.getActiveItem(r))&&n.meta.equals(a.meta)&&n.items.equals(r.items)}}),e.lensHash={hashCode:e=>{if(e.kind===v.f.abstract)return Object(b.b)(e.id);{const t=e;let a=7;return 31*(a=31*(a=31*a+Object(b.b)(e.id))+function(e){return Object(l.pipe)(e,d.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))}(v.k.getActiveItem(t)))+e.meta.count}}},function(e){e.getAlertReleaser=e=>({release:t=>a=>{const n=a.items.map(e.removeAlertFromItem([t],a)),r=Object(l.pipe)(a.cardIndex,d.g.chain(t=>Object(l.pipe)(n.findRightFrom(e.isScheduledToDispose,t),d.g.map(e=>e.index))),d.g.isSome)?v.b.skip:v.b.force;return Object.assign(Object.assign({},a),{animation:r,items:n})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>a=>{const n=Object(l.pipe)(a,e,d.g.map(e=>a.items.add(Object(l.pipe)(e,t.unselect(d.g.none,a.itemsOrd)))),d.g.getOrElse(()=>a.items));return Object.assign(Object.assign({},a),{items:n,animation:v.b.force,cardIndex:d.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==v.i.advanced});const t=e=>Object(l.pipe)(d.h.ordNumber,d.h.contramap(t=>Object(l.pipe)(e.items.get(t.id),d.g.map(p.e.pick("index")),d.g.getOrElse(()=>-1))));function a(e,t,a){return n=>Object(l.pipe)(d.g.of(n),d.g.filter(e=>!a.isScheduledToDispose(e)&&t(e)),d.g.chain(a.hasActiveAlert),d.g.filter(t=>e.isRegistered(t.alert.id)))}e.getSelectableByAlert=(e,a)=>({selectItemByAlert:n=>r=>{if(!a.willShowChecksFeed(r))return r;const o=e(r),s=r.items.find(a.isSelectableByAlert(n));Object(m.g)(d.g.isSome(s),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>n.alert.toString());const{value:c,index:p}=d.g.unsafeGet(s),u=Object(i.fold)(d.h.getMonoid())([r.itemsOrd,t(r)]),g=Object(l.pipe)(o,d.g.map(e=>r.items.add(Object(l.pipe)(e,a.unselect(d.g.some(c),r.itemsOrd)))),d.g.getOrElse(()=>r.items)).add(Object(l.pipe)(c,a.selectByAlert(o,n,u)));return Object.assign(Object.assign({},r),{items:g,animation:v.b.force,cardIndex:d.g.some(p)})}}),e.getSelectableById=(e,a)=>({selectItemById:n=>r=>{const o=e(r),s=r.items.get(n),{value:c,index:p}=d.g.unsafeGet(s),u=Object(i.fold)(d.h.getMonoid())([r.itemsOrd,t(r)]),m=Object(l.pipe)(o,d.g.map(e=>r.items.add(Object(l.pipe)(e,a.unselect(d.g.some(c),u)))),d.g.getOrElse(()=>r.items)).add(Object(l.pipe)(c,a.select(o,u)));return Object.assign(Object.assign({},r),{items:m,animation:v.b.force,cardIndex:d.g.some(p)})}}),e.getItemReleaser=()=>({removeItemById:t=>a=>e.setVisibleItems(a.items.remove(t))(a)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:h.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>a=>t.willShowChecksFeed(a)?Object.assign(Object.assign({},a),{items:a.items.map(t.changeVisualState(e))}):a,finishApplyAnimation:a=>n=>{Object(m.g)(a.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=n.id,i=e=>{const n=e.items.map(t.removeAlertFromItem(a,e));return Object.assign(Object.assign({},e),{items:n})};if(h.a.isOutcomeId(r))return i(n);switch(r){case h.a.SpecialId.Priority:case h.a.SpecialId.AllAlerts:case h.a.SpecialId.PredictionTakeaways:case h.a.SpecialId.PredictionEmogenie:case h.a.SpecialId.RealTimeProofit:case h.a.SpecialId.FreePremiumAlerts:return i(n);case h.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case h.a.SpecialId.Plagiarism:return Object(m.g)(a.every(g.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),i(n);default:return Object(m.d)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(l.pipe)(v.k.getActiveItem(t),d.g.exists(t=>e.isScheduledToDispose(t)))||d.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=a,e.getHasAlerts=function(e,t,n,i){const s=e=>a(t,n(e),i),c=e=>e.id===h.a.SpecialId.Premium||e.id===h.a.SpecialId.Plagiarism?e.meta.count:Object(l.pipe)(v.k.getActiveItem(e),d.g.chain(i.hasActiveAlert),d.g.map(e=>e.alert),d.g.exists(g.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:c,getActiveAlertsCount:c,getActiveAlert:e=>Object(l.pipe)(v.k.getActiveItem(e),d.g.chain(i.hasActiveAlert)),findFirstAlert:e=>Object(l.pipe)(e.items.values(),o.T(s(e))),findNextAlert:t=>(Object(m.g)(d.g.isSome(v.k.getActiveItem(t))===d.g.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),Object(l.pipe)(Object(r.sequenceT)(d.g.option)(v.k.getActiveItem(t),t.cardIndex),d.g.chain(([a,n])=>Object(l.pipe)(e.nextAlert(a),d.g.alt(()=>e.prevAlert(a)),d.g.map(e=>({alert:e,highlightIndex:0})),d.g.alt(()=>Object(l.pipe)(p.a.lookAroundMap(t.items.values(),n,s(t)),d.g.map(e=>e.value))))),d.g.orElse(Object(l.pipe)(t.items.values(),o.T(s(t))))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(l.pipe)(v.k.getActiveItem(t),d.g.chain(t=>Object(l.pipe)(e.get(t.id),d.g.map(e=>e.index)))),items:e})}(O=e.Capabilities||(e.Capabilities={}))}(n||(n={}))},XCjp:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var n,r,i,o=a("OA+g"),s=a("I7vG"),l=a("lrqh"),c=a("D9EC"),d=a("6fbX"),p=a("dE97"),u=a("GUi3"),m=a("zR/0"),g=a("gy42"),h=a("5o4I"),f=a("BeBM");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(n||(n={})),function(e){e.Mock=class{constructor(){this.events=new m.a.Subject,this.focusAlertHighlight=()=>l.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>l.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=c.e}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}},e.getHighlightIndex=function(e,t){return Object(s.pipe)(t,l.b.mapLeft(()=>new Error("Mark is collapsed")),l.b.chain(t=>l.b.tryCatchError(()=>{const a=e.getHighlightRanges(),n=a.length>1?a.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(d.g)(-1!==n,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:a,targetRange:t})),n})))}}(r||(r={})),function(e){e.getHighlightSubscribtion=(e,t,a)=>e.pipe(m.a.distinctUntilChanged(l.g.getEq(p.d.ord).equals),m.a.switchMap(e=>Object(s.pipe)(e,l.g.fold(()=>m.a.EMPTY,e=>m.a.Observable.create(()=>(a.debug(`highlight mark: ${e.id}`),Object(s.pipe)(t.highlightAlertHighlight(e),l.b.fold(t=>(a.error(`Cannot highlight mark: ${e.id}`,t),c.e),t=>()=>{a.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))),e.getHoverAlertHightlightSource=(e,t,a,n)=>Object(s.pipe)(n,m.a.debounceTime(100),m.a.map(Object(o.flow)(l.g.chain(n=>{const r=e.get();return f.e.hasCards(r)?r.currentLens.items.find(e=>Object(s.pipe)(t.hasActiveAlert(e),l.g.map(e=>e.alert),l.g.exists(t=>e.id===n&&a.isRegistered(t.id)))):l.g.none}),l.g.chain(({value:e})=>t.hasActiveAlert(e)),l.g.map(e=>e.alert))),m.a.distinctUntilChanged(l.g.getEq(p.d.ord).equals),m.a.map(l.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),m.a.startWith(l.g.none)),e.highlightMarkByHighlightedCard=(t,a,n,r,i,c)=>{const d=e.getHighlightSubscribtion(t.hovered.pipe(m.a.debounceTime(100),m.a.map(Object(o.flow)(l.g.chain(e=>{const t=a.get();return f.e.hasCards(t)?t.currentLens.items.find(t=>Object(s.pipe)(i.hasActiveAlert(t),l.g.map(e=>e.alert),l.g.exists(a=>t.id===e&&r.isRegistered(a.id)))):l.g.none}),l.g.chain(({value:e})=>i.hasActiveAlert(e)),l.g.map(e=>e.alert)))),n,c);return{id:"highlightMarkByHighlightedAlert",when:u.a.isWithAlertsId,what:f.e.Effect.Applicator.create(d.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(s.pipe)(t,m.a.distinctUntilChanged(l.g.getEq(p.d.ord).equals),m.a.map(l.g.map(t=>({alert:t,source:e,highlightIndex:0}))),m.a.startWith(l.g.none)),e.getActiveHighlightSource=(e,t,a)=>e.view(f.e.mapper(({currentLens:e,alertSource:t})=>Object(s.pipe)(a(e),l.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(m.a.switchMap(g.b.Scheduler.rafScheduler),m.a.skipBy(l.g.getEq(h.a.getEq())),m.a.map(l.g.filter(e=>l.g.isSome(t.getRegistered(e.alert.id))))),e.focusMarkByActiveAlert=(t,a,n,r,i,o=m.a.of(!0))=>{const d=Object(s.pipe)(e.getActiveHighlightSource(t,n,r),m.a.tap(l.g.tap(e=>i.trace("new alert highlight: ",e))),m.a.withLatestFrom(o),m.a.switchMap(([e,t])=>Object(s.pipe)(e,l.g.fold(()=>(i.debug("Nothing to focus"),m.a.EMPTY),e=>m.a.Observable.create(()=>(i.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===p.b.sidebar&&t&&a.moveCursorToHighlight(e,"start"),Object(s.pipe)(a.focusAlertHighlight(e),l.b.fold(t=>(i.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),c.e),t=>()=>{i.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))));return{id:"focusMarkByActiveAlert",when:u.a.isWithAlertsId,what:f.e.Effect.Applicator.create(d.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.focusAlertByClickedMark=(e,t)=>({id:"focusAlertByActiveMark",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.SwitchAlert.create(e.alertClicked.pipe(m.a.skip(1),m.b.compact,m.a.filter(e=>p.a.State.isRegistered(e.alert.state)),m.a.withLatestFrom(t.pipe(m.a.filter(f.e.hasCards)),(e,t)=>e),m.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:p.b.text,options:{order:"textOrder"}}))))}),e.createOnAlertApplySideEffect=function(e,t){const a=e.pipe(m.a.map(e=>a=>e.type===n.Type.AppliedAlertAnimationFinished&&a.currentLens.meta.filter(e.alert)&&p.a.isApplicableAlert(e.alert)&&f.e.hasItems(a)?a.patch({currentLens:t.finishApplyAnimation([e.alert])(a.currentLens),alertSource:e.alert.state.source}):a));return{id:"onAlertApply",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.Applicator.create(a)}}}(i||(i={}))},"Xo/A":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("a5W6"),i=a("BbAu"),o=a("I7vG"),s=a("PK5a"),l=a("7b34"),c=a("lrqh"),d=a("6fbX"),p=a("v0pb");!function(e){function t(e,t){return a=>a.order.reduce((e,n)=>(Object(d.g)(a.entries.has(n),"got corrupted state"),t(e,a.entries.get(n))),e)}function a({added:e=new Map,updated:t=new Map,removed:a=new Map}){const n=new Map,r=l.a.fromMutation(r=>{a.forEach((e,t)=>{r.set(t,c.m.left(e))}),e.forEach((e,t)=>{r.has(t)?n.set(t,`alert add overlaps with alert remove: toAdd(${p.a.show.show(e)} overlapWith(${c.m.getShow(p.a.show,p.a.show).show(r.get(t))}))`):r.set(t,c.m.right(e))}),t.forEach(([e,t],a)=>{r.has(a)?n.set(a,`alert update overlaps with unexpected alert add/remove: toUpdate(${p.a.show.show(t)}) overlapWith(${c.m.getShow(p.a.show,p.a.show).show(r.get(a))}))`):r.set(a,c.m.both(e,t))})});return n.size>0?c.b.left({recovered:r,rejected:n}):c.b.right(r)}e.iso=s.iso(),e.empty={entries:new Map,order:[],latestChangeDiff:l.a.empty(),diffVersion:0},e.get=function(e){return t=>c.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(c.g.none,(t,a)=>Object(o.pipe)(t,c.g.alt(()=>c.g.fromPredicate(e)(a))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?c.b.unsafeGet(a({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:c.e.symmetricDiff(p.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const a=c.e.leftToRight(c.e.Merger.createStrict(p.a.ordShow),t.entries,e);return Object(o.pipe)(a,c.b.bimap(a=>{const n=l.a.fromMutation(t=>{Object(o.pipe)(e,l.a.forEach((e,n)=>!a.rejected.has(n)&&t.set(n,c.m.left(e)),(e,n,r)=>!a.rejected.has(r)&&t.set(r,c.m.both(e,n)),(e,n)=>!a.rejected.has(n)&&t.set(n,c.m.right(e))))});return{recovered:m(a.recovered,n,t.diffVersion),rejected:a.rejected}},a=>m(a,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const a=c.e.leftToRight(c.e.Merger.createLoose(p.a.ordShow),t.entries,e);return Object(o.pipe)(a,c.b.bimap(a=>({recovered:m(a.recovered,e,t.diffVersion),rejected:a.rejected}),a=>m(a,e,t.diffVersion)))}},e.createDiff=a,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:l.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},l.a.getEq(p.a.Id.ord,p.a.ord)),l.a.getShow(p.a.Id.show,p.a.show));const n=Object.assign(Object.assign({},c.e.getEq(p.a.Id.ord,p.a.ord)),c.e.getShow(p.a.Id.show,p.a.show)),u=Object.assign(Object.assign({},r.getEq(p.a.Id.ord)),r.getShow(p.a.Id.show));function m(e,t,a){return{entries:e,order:Object(o.pipe)(e,c.e.values(p.a.ord),r.map(e=>e.id)),latestChangeDiff:t,diffVersion:a+1}}e.contentEqShow=Object.assign(Object.assign({},c.c.getStructEq({entries:n,order:u,latestChangeDiff:c.c.eqEmpty,diffVersion:c.c.eqEmpty})),i.a({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:i.d})),e.eqShow=Object.assign(Object.assign({},c.c.getStructEq({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:c.c.eqNumber})),i.a({entries:n,order:u,latestChangeDiff:e.diffEqShow,diffVersion:i.d}))}(n||(n={}))},Z2Lj:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={};a.r(n),a.d(n,"fontsProvider",(function(){return s}));var r=a("ERkP"),i=a("9NHN"),o=a("e12y");function s(e,t={withPreload:!0}){return n=>(r.useLayoutEffect(()=>{a("Dbx/")},[]),r.createElement(r.Fragment,null,t.withPreload?r.createElement(l,{fontStyles:Object.assign({},c)}):null,r.createElement(e,Object.assign({},n,Object(i.c)(n.className,Boolean(t.customFontStyle)?t.customFontStyle:c.wrapper)))))}const l=({fontStyles:e})=>r.createElement("div",{className:e.fontsPreload},r.createElement("span",{className:e.italicBold}),r.createElement("span",{className:e.italicRegular}),r.createElement("span",{className:e.italicLight}),r.createElement("span",{className:e.normalBold}),r.createElement("span",{className:e.normalRegular}),r.createElement("span",{className:e.normalLight})),c=o.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},Z5Rd:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return I}));var n=a("ERkP"),r=a("9NHN"),i=a("6fbX"),o=a("ax6a"),s=a("e12y"),l=a("WIwS"),c=a("ps/9"),d=a("rk+4"),p=a("bO3R"),u=a("3rlE"),m=a("BugA"),g=a("P+uJ");const h={position:"relative",width:s.a.percent(100)},f={position:"relative",margin:`0 0 ${s.a.rem(.5)}`},b={display:"flex",boxSizing:"border-box",padding:`${s.a.rem(1)} ${s.a.rem(2)} ${s.a.rem(1)} ${s.a.rem(.75)}`,width:s.a.percent(100),borderRadius:s.a.rem(c.t),background:o.a.BackgroundNotification,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},y={width:s.a.percent(100)},C={display:"inline-block",width:s.a.percent(100)},v={margin:`${s.a.rem(-.5)} ${s.a.rem(.75)} ${s.a.rem(-.5)} 0`},O={position:"absolute",top:0,right:0,marginTop:s.a.rem(.5),marginRight:s.a.rem(.4),marginLeft:s.a.rem(.5)},k={stroke:l.i},S={margin:`0 0 ${s.a.rem(.5)}`,color:o.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},w={marginTop:s.a.rem(-.1),marginBottom:s.a.rem(-.25),color:o.a.CoreNeutral0,fontSize:s.a.rem(o.h.BodySize),lineHeight:s.a.rem(1.25)},A=s.a.prefixedStylesheet("notifications",{wrapper:[h],notification:[f],flexibleNotification:[f,{display:"flex",width:"auto"}],contentWrapper:[b],miniContentWrapper:[b,{position:"relative",width:"auto"}],fullWidthNotification:[f,b,y],content:[C],miniContent:[{flex:1}],alertIcon:[v],closeIconWrapper:[O],closeIcon:[k],header:[S],description:[w]});var E,I;!function(e){e.Wrapper=({notification:t,onClose:r,children:i,theme:o={}})=>{n.useEffect(()=>t.actions.next("shown"),[t.actions]);const s={wrapper:Boolean(o.wrapper)?o.wrapper:a.wrapper,content:void 0!==o.content?Object.assign({},a.content,o.content):a.content};return n.createElement("div",Object.assign({},g.a.getAriaLiveProps(t),{className:s.wrapper}),n.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},i))},e.Base=({metadata:a,onClose:r,theme:i,children:o})=>n.createElement("div",{className:i.wrapper},t(a,i.icon),n.createElement("div",{className:i.content},o),!function(e){return e.priority===g.a.Priority.high||e.priority===g.a.Priority.highest}(a)&&n.createElement(e.CloseButton,{onClick:r,className:i.close}));const t=(t,a)=>{switch(t.icon){case g.a.Icon.sparkles:return n.createElement(u.d.Sparkles,{className:a});case void 0:case g.a.Icon.priority:return n.createElement(e.PriorityIcon,{priority:t.priority,className:a});default:return Object(i.d)(t.icon)}};e.AdHoc=({title:t,children:i,className:o,onClose:s})=>n.createElement("div",Object.assign({},Object(r.c)(a.content.wrapper,o)),n.createElement("div",{className:a.content.content},n.createElement(e.TitledContent,{title:t},i)),n.createElement(e.CloseButton,{onClick:s,className:a.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case g.a.Priority.lowest:case g.a.Priority.low:return n.createElement(u.d.NotificationInfo,{className:t});case g.a.Priority.average:return n.createElement(u.d.NotificationWarning,{className:t});case g.a.Priority.high:case g.a.Priority.highest:return n.createElement(u.d.NotificationError,{className:t});default:return Object(i.d)(e)}},e.CloseButton=({onClick:e,className:t})=>{const a=n.useContext(d.a.Context);return n.createElement(p.a,{name:"closeNotification",ariaLabel:a.actions.close,className:t,onClick:e},n.createElement(u.d.Close,{className:A.closeIcon,width:12}))},e.TitledContent=({title:t,children:a})=>Boolean(a)?n.createElement(n.Fragment,null,n.createElement(m.i,{className:A.header},t),n.createElement(e.Content,null,a)):n.createElement(m.i,{className:A.description},t),e.Content=({children:e})=>n.createElement(m.a,{className:A.description},e);const a={wrapper:A.wrapper,content:{wrapper:A.fullWidthNotification,icon:A.alertIcon,content:A.content,close:A.closeIconWrapper}}}(E||(E={})),function(e){e.Wrapper=({notification:e,onClose:t,children:a})=>(n.useEffect(()=>e.actions.next("shown"),[e.actions]),n.createElement("div",{className:A.flexibleNotification},n.createElement(E.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:A.miniContentWrapper,icon:A.alertIcon,content:A.miniContent,close:A.closeIconWrapper}},a)))}(I||(I={}))},ZEPo:function(e,t,a){e.exports=a.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},bFfh:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n,r=a("WOQ9"),i=a("GUi3"),o=a("BeBM");!function(e){let t;e.create=function(e,a){return Boolean(t)||(t={id:i.a.SpecialId.Closed,kind:o.f.abstract,type:o.i.closed,meta:i.a.createStaticLens({id:i.a.SpecialId.Closed,title:"Closed"},i.a.Meta.group.empty,e),hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}),t}}(n||(n={}));var s,l,c=a("OA+g"),d=a("lrqh"),p=a("kFFO");(l=s||(s={})).create=()=>({id:i.a.SpecialId.DraftAI,type:o.i.draftAI,kind:o.f.abstract,meta:i.a.createStaticLens({id:i.a.SpecialId.DraftAI,title:"Draft AI"},i.a.Meta.group.empty,c.constFalse),transitionSource:d.g.none,hashCode(){return Object(p.b)(this.id)},equals(e){return this.id===e.id}}),l.createFromTransitionSource=e=>Object.assign(Object.assign({},l.create()),{transitionSource:d.g.some(e)});var u,m,g,h=a("m6JR"),f=a("I7vG"),b=a("6fbX"),y=a("hoSD"),C=a("dE97"),v=a("aIes"),O=a("UEGg");!function(e){function t(e){return v.a.groupBy("cardId",e)}e.create=function(e,t,a){Object(b.g)(e.id===i.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const n=v.a.Sorted.empty(e=>e.id,a.compare),s=d.g.none;return{id:i.a.SpecialId.Plagiarism,kind:o.f.persistent,type:o.i.plagiarism,meta:e,cardIndex:s,items:n,itemsOrd:a,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===i.a.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map(t=>O.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)):t)}):t},e.add=e=>a=>n=>{const r=t(a),i=Array.from(r.entries()).reduce((t,[a,n])=>Object(f.pipe)(t.update(a,t=>e.addPlagiarismAlerts(t,n)),d.b.fold(()=>t.add(e.createAdded(a,n)),c.identity)),n.items),s=Object(f.pipe)(o.k.getActiveItem(n),d.g.map(({id:e})=>d.g.unsafeGet(i.get(e)).index)),l=d.g.getEq(h.eqNumber).equals(s,n.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},n),{cardIndex:s,items:i,animation:l})},e.remove=e=>a=>n=>{const r=t(a),i=o.k.getActiveItem(n),s=Array.from(r.entries()).reduce((t,[a,r])=>Object(f.pipe)(t.update(a,t=>{const a=Object(f.pipe)(e.remove(t,r,Object(f.pipe)(i,d.g.map(e=>n.itemsOrd.compare(t,e)>0),d.g.getOrElse(c.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.a.isPlagiarism)));return Object(f.pipe)(i,d.g.exists(e=>e.id===a.id))?e.selectNextAlert(a,n.itemsOrd):a}),d.b.fold(()=>t,c.identity)),n.items);return Object.assign(Object.assign({},n),{items:s,animation:o.b.force})},e.update=t=>a=>n=>e.updateWithAlerts(t)(a.filter(Object(c.not)(t.shouldAnimateAlertApply)))(n),e.updateWithAlerts=a=>n=>r=>{const[i,s]=y.a.partition(n,C.a.isRegistered),l=t(i),p=Array.from(l.entries()).reduce((e,[t,n])=>Object(f.pipe)(e.update(t,e=>a.changePlagiarismMetaWithAlerts(e,e.alerts.filter(O.a.isPlagiarism))),d.b.fold(()=>e.add(a.createAdded(t,n)),c.identity)),e.remove(a)(s)(r).items),u=Object(f.pipe)(o.k.getActiveItem(r),d.g.map(({id:e})=>Object(f.pipe)(p.get(e),d.g.map(({index:e})=>e),d.g.getOrElse(()=>0))));return Object.assign(Object.assign({},r),{cardIndex:u,items:p,animation:o.b.proceed})},e.getAlertsHandler=function(t){return a=>r.a.ApplyDiff.apply(a,e.add(t),e.update(t),e.remove(t))}}(u||(u={})),(g=m||(m={})).create=function(e,t,a){const n=v.a.Sorted.empty(e=>e.id,a.compare);return{id:i.a.SpecialId.Premium,kind:o.f.active,type:o.i.advanced,meta:e,items:n,itemsOrd:a,cardIndex:d.g.none,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(t).equals(this,e)}}},g.getAlertsHandler=function(e,t){return a=>r.a.ApplyDiff.apply(a,g.add(e),g.update(e,t),g.remove(t))},g.add=e=>t=>a=>{const n=t.map(e.createFromAlert(a.id)),r=a.items.add(n),i=o.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:i,items:r,animation:o.b.proceed})},g.remove=e=>t=>a=>{const n=new Set(t.map(e=>e.id)),r=a.items.filter(Object(c.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.exists(e=>n.has(e.id)))).reduce((e,t)=>e.remove(t.id),a.items),i=o.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:i,items:r})},g.update=(e,t)=>a=>n=>{const[r,i]=y.a.partition(a,C.a.isRegistered);return Object(c.pipe)(n,g.remove(t)(i),g.add(e)(r))};var k,S=a("93Qa"),w=a("a5W6"),A=a("D9EC"),E=a("IVzZ");!function(e){const t=C.d.ord;function a(e){return e.id}function n(e){const t=e.map(e=>[E.a.getAlertOutcomeBundle(e),e]);return v.a.groupBy(([e,t])=>a(e),t)}e.getCardId=a,e.initCardsHash=function(e,a,r,i,o){Object(b.g)(Object(f.pipe)(r,d.g.forAll(({alertIndex:e})=>void 0!==a[e])),"Can not find alert for provided alertIndex");const s=n(a),l=Object(f.pipe)(r,d.g.map(({alertIndex:e})=>(Object(b.g)(void 0!==a[e],"Can not find alert for provided alertIndex"),a[e])));let c=d.g.none;const p=v.a.Sorted.empty(E.a.getId,o.compare),u=Array.from(s.entries()).reduce((a,[n,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(f.pipe)(l,d.g.map(e=>o.indexOf(e)),d.g.filter(e=>e>-1),d.g.fold(()=>a.add(i.createRendered(e)(n,s,o,t)),r=>{const l=i.createFocused(e)(n,s,o,r,t);return c=d.g.some(n),a.add(l)}))},p);return{cardIndex:Object(f.pipe)(c,d.g.chain(e=>Object(f.pipe)(u.get(e),d.g.map(e=>e.index)))),cards:u}},e.create=function(e,t,a,n){const i=v.a.Sorted.empty(E.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,meta:t,withPriorityList:!1,cardIndex:s,items:i,itemsOrd:n,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.add=(e,a)=>r=>i=>{if(0===r.length)return i;const s=n(r),l=Array.from(s.entries()).reduce((n,[r,o])=>{const s=o.map(([e,t])=>t),l=o[0][0];return Object(f.pipe)(n.update(r,e=>a.updateWithAlerts(s)(e)),d.b.fold(()=>n.add(e.createAdded(i.id)(r,l,s,t)),c.identity))},i.items),p=Object(f.pipe)(i,o.k.getActiveItemIndex(l)),u=d.g.getEq(h.eqNumber).equals(p,i.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},i),{cardIndex:p,items:l,animation:u})},e.remove=e=>t=>a=>{const r=n(t),i=Array.from(r.entries()).reduce((t,[n,r])=>Object(f.pipe)(t.update(n,t=>e.removeAlertFromItem(r.map(([e,t])=>t),a)(t)),d.b.fold(()=>t,c.identity)),a.items),s=Object(f.pipe)(a,o.k.getActiveItemIndex(i));return Object.assign(Object.assign({},a),{cardIndex:s,items:i,animation:o.b.force})},e.update=(t,a,n)=>r=>i=>e.updateWithAlerts(t,n)(r.filter(Object(A.m)(a.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(a,i)=>s=>l=>{if(0===s.length)return l;const{left:p,right:u}=Object(f.pipe)(s,r.a.filterAlertInLens(l,i),w.partition(C.a.isRegistered)),m=n(u),g=Array.from(m.entries()).reduce((e,[n,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(f.pipe)(e.update(n,e=>i.updateWithAlerts(o)(e)),d.b.fold(()=>e.add(a.createAdded(l.id)(n,s,o,t)),c.identity))},e.remove(i)(p)(l).items),h=Object(f.pipe)(l,o.k.getActiveItemIndex(g));return Object.assign(Object.assign({},l),{cardIndex:h,items:g,animation:o.b.proceed})},e.getAlertsHandler=function(t,a,n){return(i,o)=>s=>{const l=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return Object(f.pipe)(s,l(i,e.add(t,n),e.update(t,a,n),e.remove(n)))}},e.getHasAlerts=function(e,t,a,n){const i=r.a.Capabilities.getHasAlerts(e,t,a,n),s=e=>r.a.Capabilities.getHasSelectableAlert(t,a(e),n);return Object.assign(Object.assign({},i),{findNextAlert:t=>Object(f.pipe)(Object(S.sequenceT)(d.g.option)(o.k.getActiveItem(t),t.cardIndex),d.g.chain(([a,n])=>Object(f.pipe)(e.nextAlert(a),d.g.alt(()=>e.prevAlert(a)),d.g.alt(()=>Object(f.pipe)(y.a.findIndexFromMap(t.items.values(),n+1,s(t)),d.g.alt(()=>y.a.findIndexFromMap(t.items.values(),0,s(t))),d.g.chain(e=>Object(f.pipe)(t.items.getAt(e.index),d.g.map(e=>e.alerts[0]))))))),d.g.map(e=>({alert:e,highlightIndex:0})))})}}(k||(k={}));var I,x,T,j,N=a("GRZr"),L=a("uqkn"),P=a("TC4P"),D=a("W39u"),B=a("AK7F");!function(e){let t;function a(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=c.constTrue){return a=>0===a.meta.count&&(0===a.items.filter(t).size||d.g.isNone(a.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(t){function a(t){return a=>o.e.hasSuccess(a)&&o.e.hasItems(a)&&e.isInSuccess(t)(a.currentLens)}t.isInSuccess=a,t.isInGlobalSuccess=e=>t=>(o.e.is(i.a.SpecialId.AllAlerts)(t)||o.e.is(i.a.SpecialId.Priority)(t))&&a(e)(t)}(t=e.State||(e.State={})),e.getCardId=a,e.create=function(e,t,a,n){const i=v.a.Sorted.empty(L.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,withPriorityList:!1,meta:t,cardIndex:s,items:i,itemsOrd:n,animation:o.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.add=(e,t,n)=>i=>s=>{const l=i.map(i=>{const o=t.createAdded(s.id)(a(s.meta,i),i);return e(s,i)?o:r.a.Items.hideItem(o,n)}),c=s.items.add(l),p=o.k.getActiveItemIndex(c)(s),u=d.g.getEq(h.eqNumber).equals(p,s.cardIndex)?o.b.force:o.b.skip;return Object.assign(Object.assign({},s),{cardIndex:p,items:c,animation:u})},e.remove=e=>t=>a=>{const n=new Set(t.map(e=>e.id)),r=a.items.map(e.remove(Object(c.flow)(e.hasActiveAlert,d.g.map(e=>e.alert),d.g.fold(c.constFalse,e=>n.has(e.id))),e=>Object(f.pipe)(o.k.getActiveItem(a),d.g.map(t=>a.itemsOrd.compare(e,t)>0),d.g.getOrElse(c.constTrue)))),i=Object(f.pipe)(a.cardIndex,d.g.chain(t=>Object(f.pipe)(r.findRightFrom(t=>e.isScheduledToDispose(t),t),d.g.map(e=>e.index))),d.g.isSome)?o.b.skip:o.b.force,s=Object(f.pipe)(a,o.k.getActiveItemIndex(r));return Object.assign(Object.assign({},a),{cardIndex:s,items:r,animation:i})},e.update=(t,a,n)=>r=>i=>e.updateWithAlerts(a,t,n)(r.filter(Object(A.m)(a.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(e,t,n)=>i=>s=>{if(0===i.length)return s;const l=Object(f.pipe)(i,r.a.filterAlertInLens(s,n),w.map(e=>[a(s.meta,e),e]),w.reduce(s.items,(a,[i,o])=>Object(f.pipe)(a.update(i,n.updateWithAlerts([o])),d.b.fold(()=>{const l=e.createAdded(s.id)(i,o);return a.add(t(s,o)?l:r.a.Items.hideItem(l,n))},c.identity)))),p=o.k.getActiveItemIndex(l)(s);return Object.assign(Object.assign({},s),{cardIndex:p,items:l,animation:o.b.proceed})},e.getAlertHandler=function(t,a,n=c.constTrue){return(i,o)=>{const s=r.a.ApplyDiff.applyWithFilter(o,r.a.ApplyDiff.apply);return r=>Object(f.pipe)(r,s(i,e.add(n,t,a),e.update(n,t,a),e.remove(a)))}}}(I||(I={})),function(e){function t(e,t){return Object(f.pipe)(o.k.getActiveItem(e),d.g.chain(t.hasActiveAlert),d.g.map(e=>!O.a.isPriority(e.alert)),d.g.getOrElse(()=>!1))}function a(e){return Object(f.pipe)(e.items.get(B.a.id),d.g.map(({value:e})=>B.a.isPriorityToggle(e)&&B.a.isExpanded(e)),d.g.getOrElse(()=>!1))}function n(e,t,a){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter(Object(A.b)(t,e=>!a.isScheduledToDispose(e))).size}let s;function l(e,t){return r=>o.e.hasSuccess(r)&&I.isInSuccess(t)(r.currentLens)||o.e.isWithPriorityList(r)&&(I.isInSuccess(t,Object(A.m)(B.a.isPriorityItem))(r.currentLens)||n(r.currentLens,e,t)&&!a(r.currentLens))}e.ord=Object(N.fold)(d.h.getMonoid())([Object(f.pipe)(d.h.ordBoolean,d.h.contramap(B.b.isPriorityToggleHint)),Object(f.pipe)(d.h.ordBoolean,d.h.contramap(B.a.isPriorityToggle)),L.a.ord]),e.create=function(e,t,a,n){const i=v.a.Sorted.empty(L.a.getId,n.compare),s=d.g.none;return{id:e,type:o.i.lensview,kind:o.f.persistent,itemsOrd:n,meta:t,cardIndex:s,items:i,animation:o.b.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.a.lensHash.hashCode(this)},equals(e){return r.a.getEq(a).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:n=>r=>{const i=a(r);if("collapsed"===n&&!i||"expanded"===n&&i)return r;const s=t(r,e),l=u(r.items,!i,!i&&s,e);return Object.assign(Object.assign({},r),{items:l,cardIndex:s&&i?d.g.none:r.cardIndex,animation:o.b.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=a,e.onlyNonPriorityAlertsLeft=n,e.nonPriorityAlertsVisible=function(e){return!o.e.isWithPriorityList(e)||a(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||o.e.isWithPriorityList(e)&&!a(e.currentLens)?o.h.priorityAlertsOnly:o.h.allAlerts}(s=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=l,e.isInGlobalSuccess=function(e,t){return a=>(o.e.is(i.a.SpecialId.AllAlerts)(a)||o.e.is(i.a.SpecialId.Priority)(a))&&l(e,t)(a)},e.getSyncVisibleCardsHandler=function(e){return n=>{if(!i.a.isWithSuccessId(n.id))return n;let r=p(n.items);const s=t(n,e);r=u(r,a(n)||s,s,e);const l=o.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:l,items:r,animation:o.b.proceed})}};const c=e=>Object.assign(Object.assign({},e),{transitionTo:t=>a=>P.a.isAnimatable(a)&&a.visualState.transition.type!==t.type?e.transitionTo(t)(a):a});function p(e){return e.has(B.a.id)||0===e.size?e:e=(e=e.add(B.a.create("expanded",D.a.PositionState.empty))).add(B.b.create("visible",D.a.PositionState.empty))}function u(e,t,a,n){const i=c(n),o=0===e.filter(e=>!n.isScheduledToDispose(e)&&Object(f.pipe)(n.hasActiveAlert(e),d.g.map(e=>e.alert),d.g.exists(Object(A.m)(O.a.isPriority)))).size;return e.map(e=>Object(f.pipe)(n.hasActiveAlert(e),d.g.fold(()=>B.a.isPriorityItem(e)?o?B.a.isPriorityToggle(e)?B.a.transitionTo(e,"hidden"):B.b.transitionTo(e,"hidden"):B.a.isPriorityToggle(e)?t||a?B.a.transitionTo(e,"expanded"):B.a.transitionTo(e,"collapsed"):t||a?B.b.transitionTo(e,"visible"):B.b.transitionTo(e,"hidden"):e,a=>t||O.a.isPriority(a.alert)?P.a.isAnimatable(e)&&P.a.isHidden(e)?i.transitionTo({type:"rendered",clockwise:!0})(e):e:r.a.Items.hideItem(e,n))))}e.isAlertVisible=function(e,t){return"priority"===t.view||a(e)},e.ensureExpandCardIsPresent=p,e.syncVisibleCards=u,e.getHasAlerts=function(e,t,i,s,l){const c=r.a.Capabilities.getHasAlerts(e,t,e=>a(e)&&n(e,s,l)?i(e):t=>i(e)(t)&&Object(f.pipe)(l.hasActiveAlert(t),d.g.map(e=>e.alert),d.g.exists(O.a.isPriority)),l);return Object.assign(Object.assign({},c),{getVisibleAlertsCount:e=>Object(f.pipe)(o.k.getActiveItem(e),d.g.chain(l.hasActiveAlert),d.g.map(e=>e.alert),d.g.exists(C.a.isCapiDone))&&1===e.items.size?0:a(e)?e.meta.count:e.meta.priorityCount})}}(x||(x={})),(j=T||(T={})).Prism=r.a.Prism,j.Items=r.a.Items,j.Capabilities=r.a.Capabilities,j.ApplyDiff=r.a.ApplyDiff,j.filterAlertInLens=r.a.filterAlertInLens,j.lensHash=r.a.lensHash,j.getEq=r.a.getEq,j.Closed=n,j.DraftAI=s,j.Plagiarism=u,j.Premium=m,j.WithBundles=k,j.WithPriority=x,j.WithSuccess=I},bYZB:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return d}));var n,r,i,o,s,l,c,d,p=a("m6JR"),u=a("hoSD"),m=a("6fbX"),g=a("D9EC"),h=a("+JVj");!function(e){var t;!function(t){var a;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(a=t.Source||(t.Source={})),t.eq=Object(p.fromEquals)((function(t,n){return t.source===n.source&&(t.source===a.doubleClick&&n.source===a.doubleClick?t.selectedWord===n.selectedWord:e.eqFormatting.equals(t.formatting,n.formatting))}))}(t=e.Meta||(e.Meta={})),e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return h.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick},e.eqRange=Object(p.fromEquals)((function(e,t){return e.index===t.index&&e.length===t.length})),e.eqFormatting=Object(p.fromEquals)(u.e.deepEqual),e.eq=Object(p.fromEquals)((function(t,a){return e.eqRange.equals(t,a)&&e.Meta.eq.equals(t.meta,a.meta)})),e.empty={index:0,length:0,meta:{source:e.Meta.Source.user,formatting:{}}}}(n||(n={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(r||(r={})),function(e){e.empty={top:0,bottom:0}}(i||(i={})),function(e){!function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(e.Y||(e.Y={})),function(e){e.left="left",e.middle="middle",e.right="right"}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(a){switch(a){case e.X.left:return t.left;case e.X.middle:return t.left+t.width/2;case e.X.right:return t.right;default:return Object(m.d)(a)}}}}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(a){switch(a){case e.Y.top:return t.top;case e.Y.middle:return t.top+t.height/2;case e.Y.bottom:return t.bottom;default:return Object(m.d)(a)}}}}(e.Y||(e.Y={}))}(o||(o={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={})),e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(s||(s={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(l||(l={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={})),e.is=function(e){return Object(g.v)(t,e)},e.asList=Object.values(e.Type),function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(c||(c={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(d||(d={}))},"c/4S":function(e,t,a){e.exports=a.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},cVtq:function(e,t,a){"use strict";a.d(t,"a",(function(){return X})),a.d(t,"c",(function(){return K})),a.d(t,"b",(function(){return Z})),a.d(t,"e",(function(){return J})),a.d(t,"f",(function(){return ae})),a.d(t,"d",(function(){return ne})),a.d(t,"g",(function(){return oe}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("9NHN"),s=a("LNSM"),l=a("vOOZ"),c=a("hoSD"),d=a("6fbX"),p=a("D9EC"),u=a("lrqh"),m=a("rk+4"),g=a("lRnN"),h=a("wOnQ"),f=a("XxrX"),b=a("N19O"),y=a("9/oM"),C=a("bO3R"),v=a("wJHk"),O=a("3rlE"),k=a("wsrD"),S=a("BugA"),w=a("zR/0"),A=a("BT8e"),E=a("StFb");const I=e=>e?A.a:A.b,x=({theme:e,children:t})=>n.createElement(S.j,{className:e.list},t),T=({transform:e,title:t,disabled:a,boldifier:r=F,classes:i,onClick:o})=>n.createElement(C.a,{animationMode:v.a.FromClickPoint,name:"apply-insert",role:"insertion",onClick:o,title:t,disabled:a,className:i.itemInsert},e.map((e,t)=>n.createElement(n.Fragment,{key:t},r(e,i.diff)))),j=({transform:e,theme:t,showOnboarding:a,onClick:r,onExpand:i})=>{const s=n.useContext(m.a.Context),l=e.label.map((e,t)=>n.createElement(n.Fragment,{key:t},e.text)),c=n.createElement(C.a,Object.assign({animationMode:v.a.FromClickPoint,name:"expand-insert",onClick:i,title:s.synfony.drilldownTooltip(l)},Object(o.c)(t.itemInsert,t.drilldownArrowButton)),n.createElement(O.d.Arrow,{direction:O.a.right,className:t.drilldownIcon}));return n.createElement("div",{className:t.drilldownInsertGroup},n.createElement(C.a,{animationMode:v.a.FromClickPoint,name:"apply-insert",role:"insertion",onClick:r,title:s.synfony.applyTooltip,className:t.itemInsert},l),Boolean(e.subLabels.length)&&(a?n.createElement(Q,null,c):c))},N=({transform:e,title:t,theme:a,onClick:r})=>n.createElement(C.a,Object.assign({animationMode:v.a.FromClickPoint,name:"apply-remove",role:"deletion"},{onClick:r,title:t,className:a.itemRemove}),e.map((e,t)=>n.createElement(M,{key:t,element:e,theme:a}))),L=({transform:e,title:t,theme:a,onClick:r,children:i})=>n.createElement("div",{className:a.removeOrContainer},e.map((i,o)=>"text"===i.type?n.createElement("span",{key:o,className:o===e.length-1?a.itemContextShifted:a.itemContext},i.text):n.createElement(C.a,Object.assign({key:o,animationMode:v.a.FromClickPoint,name:"apply-remove-or",role:"deletion"},{onClick:r,title:t,className:a.itemRemove}),n.createElement(M,{element:i,theme:a}))),i),P=e=>n.createElement("span",{className:e.classes.or},n.useContext(m.a.Context).card.or),D=({transform:e,replacements:t,boldifier:a=F,theme:r,strikeThrough:s=!0})=>{const l=e.every(e=>null===e.text.match(/\n/)),d=e.map(e=>e.text).join(""),p=1===t.length?t[0].map(e=>e.text).join(""):"",u=Object(E.e)(d,p),m=Object(i.pipe)(null==u?void 0:u.oldFragment,e=>Boolean(e)&&c.f.containsSpacesOnly(e)),g=l&&m;return n.createElement("div",Object.assign({},Object(o.c)(r.itemOriginal,s&&r.itemOriginalStrikeThrough)),n.createElement("span",Object.assign({},Object(o.c)(r.itemOriginalContent,g&&r.spacesOnlyContent)),e.map((e,t)=>n.createElement(n.Fragment,{key:t},a(e,r.diff)))))},B=({transform:e,boldifier:t=F,header:a,classes:r,onClick:i})=>n.createElement(C.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(a)?n.createElement("div",{className:r.inlineHeader},a):null,e.map((e,a)=>n.createElement(n.Fragment,{key:a},t(e,r.diff)))),F=c.e.pick("text"),$=({text:e,type:t},a)=>"text"===t?e:n.createElement("span",{className:a},e),R=e=>(t,a)=>r=>n.createElement(X,{index:a,oldText:t,newText:r.text,theme:e}),M=({element:e,strikeClass:t,theme:a})=>"delete"===e.type?n.createElement("span",Object.assign({},Object(o.c)(E.a.getClass(a,e.text),t)),e.text):n.createElement(n.Fragment,null,e.text);const _=/^\W/,W=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceDelete;case h.k.Insert:return _.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case h.k.Text:case h.k.List:return"";default:return Object(d.d)(e)}},H=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:case h.k.Text:case h.k.Insert:return"";default:return Object(d.d)(e)}},G=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case h.k.Insert:case h.k.Text:return"";default:return Object(d.d)(e)}},V=(e,t)=>{switch(e.type){case h.k.Delete:return t.fullSentenceHidden;case h.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case h.k.Insert:case h.k.Text:return"";default:return Object(d.d)(e)}},q=({p:e,theme:t})=>{const a=s.a.create(e.shouldBeCollapsed);return n.createElement(l.a.Fragment,null,a.view(Object(p.c)(n.createElement("span",{className:e.type===h.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>a.set(!1),role:"button",tabIndex:0},n.createElement("span",{className:t.collapsiblePartContent},"…")),n.createElement(n.Fragment,null,e.text))))},z=(e,t,a)=>{var r;if(null===(r=e.shouldBeCollapsed)||void 0===r||!r)return e.text;switch(e.type){case h.k.Insert:case h.k.Delete:return t?n.createElement(q,{p:e,theme:a}):e.text;case h.k.Text:return n.createElement("span",null," … ");default:Object(d.d)(e)}},U=e=>{const t=Object(i.pipe)(e.showDiff,Object(p.c)(W,H),t=>t(e.transformPart,e.theme));return n.createElement("span",{className:t},z(e.transformPart,e.showDiff,e.theme))},Y=e=>{const t=Object(i.pipe)(e.showDiff,Object(p.c)(G,V),t=>t(e.transformPart,e.theme));return e.transformPart.type===h.k.List?n.createElement("span",{className:t,"data-indent":e.transformPart.indent}):n.createElement("span",{className:t},z(e.transformPart,e.showDiff,e.theme))},X=({index:e=0,oldText:t,theme:a,newText:r})=>{const i=Object(E.b)(t,r),o=!!i&&c.f.containsSpacesOnly(i[1]);return n.createElement(n.Fragment,null,i?[i[0],n.createElement("span",{key:e,className:o?a.spacesOnlyContent:a.diff},i[1]),i[2]]:r)},K=e=>{const{onMount:t,maxHeight:a}=Object(b.b)(),o=I(e.a11yContrast);return n.createElement(S.a,{mount:t,style:{maxHeight:a.pipe(w.a.map(u.g.getOrElse(r.constUndefined)))},tabIndex:0,className:Object(i.pipe)(e.layoutDensity,f.a.Density.matchOrDefault(f.a.Density.minimal)(()=>o.minimalFullSentenceBackground,()=>o.fullSentenceBackground))},e.replacements.kind===h.f.WithFormatting?e.replacements.labels.map((t,a)=>n.createElement(Y,{showDiff:e.showDiff,transformPart:t,key:a,theme:o})):e.replacements.labels.map((t,a)=>n.createElement(U,{showDiff:e.showDiff,transformPart:t,key:a,theme:o})))},Z=({replacements:e,layoutDensity:t,a11yContrast:a,selection:r,onClick:i,onDive:o,onBack:s})=>{const l=n.useContext(m.a.Context),{activeLabels:c,original:d}=h.d.getSelectedItems(e,r),p=I(a);return n.createElement(x,{theme:p},n.createElement("div",{className:p.drilldownOriginalRow},r.length>0&&n.createElement(C.a.Ghost,{name:"go-back",title:l.synfony.back,onClick:s,className:p.drilldownBackButton},n.createElement(O.d.Arrow,{direction:O.a.left})),n.createElement(D,{transform:d,theme:p,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),n.createElement("div",{className:t===f.a.Density.cozy?p.cozyArrowInsertsList:p.arrowInsertsList},c.map((e,t)=>n.createElement(j,{key:t,transform:e,showOnboarding:2===t,theme:p,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},Q=e=>{const t=n.useContext(m.a.Context);return n.createElement(y.b,{alignment:"topLeft",eventType:"onclick",stepId:g.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:y.a.rightCenter}},e.children)},J=e=>{const t=n.useContext(m.a.Context).card,a=""===e.gapValue,r=I(e.a11yContrast);return n.createElement(n.Fragment,null,n.createElement(k.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),n.createElement(T,{title:a?"":t.todoAction(e.replacements.tooltipText),boldifier:$,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:a,transform:ee(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},ee=(e,t,a)=>[...e,{type:h.k.Insert,text:te(e)+(t||"…")+te(a)},...a],te=e=>e.length?" ":"",ae=({replacementsLabels:e,layoutDensity:t,a11yContrast:a,onClick:r})=>{const i=n.useContext(m.a.Context).card.todoAction(e.tooltipText),o=I(a);switch(e.type){case h.j.Type.InsertList:return n.createElement(x,{theme:o},e.labels.map((e,t)=>n.createElement(T,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,classes:o}))));case h.j.Type.DeleteList:return n.createElement(x,{theme:o},e.labels.map((e,t)=>n.createElement(N,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,theme:o}))));case h.j.Type.Arrow:return function({labels:e,original:t,onlyReplacements:a},r,i,o,s){const l=1===t.length,[c]=l?[t[0].text,e[0][0].text].map(R(o)):[$,$];return n.createElement(x,{theme:o},!a&&n.createElement(D,{transform:t,theme:o,replacements:e}),n.createElement("div",{className:i===f.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>n.createElement(T,Object.assign({},{key:t,title:r,onClick:s(t)},{transform:e,boldifier:c,classes:o})))))}(e,i,t,o,r);case h.j.Type.InsertOr:return n.createElement(x,{theme:o},n.createElement(T,Object.assign({transform:e.labels[0]},{title:i,onClick:r(0)},{boldifier:$,classes:o})),n.createElement(P,{classes:o}),n.createElement(T,Object.assign({transform:e.labels[1]},{title:i,onClick:r(1)},{boldifier:$,classes:o})));case h.j.Type.DeleteOr:return n.createElement(x,{theme:o},e.labels.map((t,a)=>n.createElement(L,Object.assign({},{key:a,title:i,onClick:r(a)},{theme:o,transform:t}),a===e.labels.length-2&&n.createElement(P,{classes:o}))));case h.j.Type.Citation:case h.j.Type.FullSentence:case h.j.Type.OneGap:case h.j.Type.Drilldown:case h.j.Type.ShortenIt:case h.j.Type.ToneAI:return null;default:return Object(d.d)(e)}},ne=({replacementsLabels:e,onClick:t,header:a,customStyle:r,a11yContrast:i})=>{const o=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,s=I(i);switch(e.type){case h.j.Type.DeleteList:return n.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>n.createElement(B,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemRemove,inlineHeader:o,diff:s.diff},boldifier:e=>n.createElement(M,{element:e,strikeClass:r.strike,theme:s}),transform:e,header:0===i?a:""}))));case h.j.Type.InsertList:case h.j.Type.InsertOr:case h.j.Type.Arrow:return n.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>n.createElement(B,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemInsert,inlineHeader:o,diff:s.diff},transform:e,boldifier:e=>$(e,r.diff),header:0===i?a:""}))));case h.j.Type.DeleteOr:case h.j.Type.FullSentence:case h.j.Type.OneGap:case h.j.Type.Drilldown:case h.j.Type.ShortenIt:case h.j.Type.ToneAI:case h.j.Type.Citation:return null;default:return Object(d.d)(e)}},re=({label:e,a11yContrast:t})=>{const a=e.findIndex(e=>e.type===h.k.Delete);let r=e.reduce((e,t)=>e=e.concat(t.text.split(" ").map(e=>({word:e,isDelete:t.type===h.k.Delete,shouldHighlight:!1}))),[]).filter(e=>""!==e.word);return r=0===a?r.filter(e=>!e.isDelete).map((e,t)=>{let a=!1;return t-2<0&&(a=!0),Object.assign(Object.assign({},e),{shouldHighlight:a})}):a===e.length-1?r.filter(e=>!e.isDelete).map((e,t,a)=>{let n=!1;return t+2>=a.length&&(n=!0),Object.assign(Object.assign({},e),{shouldHighlight:n})}):r.map((e,t,a)=>{let n=!1;return(void 0!==a[t+1]&&a[t+1].isDelete||void 0!==a[t-1]&&a[t-1].isDelete)&&(n=!0),Object.assign(Object.assign({},e),{shouldHighlight:n})}).filter(e=>!e.isDelete),n.createElement(n.Fragment,null,r.map((e,a,r)=>n.createElement("span",{key:`${e.word}-${a}`,className:e.shouldHighlight?I(t).toneAIInsert:void 0},e.word,void 0===r[a+1]||Object(E.c)(r[a+1].word)?"":" ")))},ie=({label:e,a11yContrast:t})=>n.createElement(n.Fragment,null,e.filter(e=>e.type!==h.k.Delete).map(e=>n.createElement("span",{key:e.text,className:e.type===h.k.Insert?I(t).toneAIInsert:void 0},e.text))),oe=({label:e,className:t,a11yContrast:a})=>{let r;return r=!e.some(e=>e.type===h.k.Insert)?n.createElement(re,{label:e,a11yContrast:a}):n.createElement(ie,{label:e,a11yContrast:a}),n.createElement("div",{className:t},r)}},dx6p:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("ax6a"),r=a("e12y");const i=(e,t,a,i,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.a.rem(2),borderRadius:o,backgroundColor:n.a.CoreNeutral0,boxShadow:i,content:"' '"},Boolean(s)&&"bottom"!==s?{top:a}:{bottom:a})},eLeT:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("e12y"),r=a("ax6a"),i=a("ps/9"),o=a("qZUR"),s=a("dx6p");const l=`0 ${n.a.rem(.25)} ${n.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,c={marginRight:n.a.rem(1),flexShrink:0,maxWidth:n.a.percent(100)},d={padding:`0 ${n.a.rem(1)}`},p={padding:`0 ${n.a.rem(1.9)} 0 ${n.a.rem(1)}`},u={position:"absolute",top:n.a.rem(.27),right:n.a.rem(.5)},m={display:"grid",width:n.a.percent(100),gridGap:n.a.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},g={minWidth:n.a.rem(7)},h={marginLeft:n.a.rem(.5)},f={color:r.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:n.a.rem(1.5)},b={$nest:{"&:before":Object(s.a)(n.a.rem(.5),-10,n.a.rem(-.5),l,n.a.rem(i.s)),"&:after":Object(s.a)(n.a.rem(1),-20,n.a.rem(-1),l,n.a.rem(i.s))}},y={boxShadow:o.b.llamaShadowToken,borderRadius:n.a.rem(n.c.radius1)},C={transition:"opacity .2s"},v=n.a.prefixedStylesheet("super",{updateAllBtnCommon:[c],updateAllBtn:[c,d],updateAllBtnLoading:[c,p],updateBtnSpinner:[u],optionsContainer:[m],optionLabel:[g],optionRadio:[h],optionSecondaryAttribute:[f],optionExample:[f,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[b],sduiSuperWrapper:[y],loadingWrapper:[C],loadingWrapperInvisible:[C,{opacity:0,pointerEvents:"none"}]})},ePa0:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("ERkP"),r=a("OA+g"),i=a("lrqh"),o=a("hoSD"),s=a("ax6a"),l=a("17O8"),c=a("e12y"),d=a("PnD2"),p=a("UVty");const u=()=>n.createElement(p.a,null,Object(r.flow)(i.g.map(e=>n.createElement(l.a.ByAbsoluteRect,Object.assign({rect:o.c.Rect.fromEl(e.target),className:h.container},l.a.Alignment.toSelector(e.alignment),{withPin:!0}),n.createElement("div",{className:h.content},e.content))),i.g.toNullable)),m={position:"fixed",zIndex:d.level5,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${c.a.rem(.25)} ${c.a.rem(1)}`,borderRadius:c.a.rem(d.radius2),background:s.a.BackgroundTooltip,color:s.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:c.a.px(.25),fontSize:c.a.rem(.75),lineHeight:c.a.rem(1)},h=c.a.stylesheet({container:[m],content:[g]})},eihE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("07Tf"),o=a("BwCH");!function(e){e.Context=r.createContext(i.a.invariantContent("CopyToClipboard")),e.ContextMock=({children:t})=>r.createElement(e.Context.Provider,{value:e=>o.a.copy(e,!1),children:t})}(n||(n={}))},es5d:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("ax6a"),r=a("e12y"),i=a("ps/9");const o={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},l={color:n.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:n.h.SubheadingLetterSpacing,fontSize:r.a.rem(n.h.SubheadingSize),lineHeight:r.a.rem(n.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.a.rem(.25)}}},c={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.a.px(2),left:r.a.rem(-1.1),margin:"auto 0"}}},d={$nest:{"&:before":{top:0,bottom:0,left:r.a.rem(-1.1),margin:`${r.a.rem(.25)} 0 auto 0`}}},p={margin:`0 ${r.a.rem(.4)} 0 ${r.a.rem(.2)}`,width:r.a.rem(.85),height:r.a.rem(.85),objectFit:"contain"},u={position:"absolute",top:0,bottom:0,left:r.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.a.rem(.3)} ${r.a.rem(.25)}`,cursor:"pointer",borderRadius:r.a.percent(100),marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:n.a.CoreNeutral10}}},g={display:"flex",alignItems:"center",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.t),cursor:"pointer",background:n.a.CoreYellow20,color:n.a.CoreYellow80,marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:n.a.CoreYellow10}}},h={minWidth:"initial",minHeight:"initial",fill:n.a.CoreYellow80,marginLeft:r.a.rem(.3)},f={display:"flex",alignItems:"flex-start",top:r.a.rem(.125),minWidth:"initial",minHeight:"initial",background:n.a.CoreNeutral0},b={color:n.a.CoreNeutral90,textTransform:"none",letterSpacing:n.h.SmallLetterSpacing,fontWeight:n.h.SmallWeight,fontSize:r.a.rem(n.h.SmallSize),lineHeight:r.a.rem(n.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},y={color:n.a.CoreNeutral50,textTransform:"none"},C={width:r.a.rem(1),height:r.a.rem(1)},v={display:"inline-flex",padding:`0 ${r.a.rem(.25)}`,borderRadius:r.a.rem(i.t),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},O={display:"inline-flex",marginLeft:r.a.rem(.1),minWidth:0,minHeight:0},k=r.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[l],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[l,c],lensMinimal:[d],voxLogo:[p],cardLogo:[u],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[g],newPremiumLabelIcon:[h],takeawayIcon:[f],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[y],toneLogo:[u,C],fluencyLabel:[l,v],fluencyInfo:[O],dot:[o],ethicalAILabel:[{textTransform:"none"}]})},f3nf:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("a5W6"),i=a("OA+g"),o=a("I7vG"),s=a("94k3"),l=a("lrqh"),c=a("6fbX"),d=a("wOnQ");function p(e,{text:t,ops:a}){a.reduce((t,a,n)=>s.a.AlternativeOperation.isInsertString(a)?(e.insertString(a.insert,a,n),t):s.a.AlternativeOperation.isInsertGap(a)?(e.insertGap("",a,n),t):s.a.AlternativeOperation.isInsert(a)?t:s.a.AlternativeOperation.isDelete(a)?(e.remove(t.slice(0,a.delete),a,n),t.slice(a.delete)):s.a.AlternativeOperation.isRetain(a)?(e.retain(t.slice(0,a.retain),a,n),t.slice(a.retain)):Object(c.d)(a),t)}function u(e){return 0===e.replace(/ /g,"").length}function m(e,t){Object(o.pipe)(e,r.last,l.g.fold(()=>{u(t.text)||e.push(t)},a=>{a.type===t.type?a.text+=t.text:e.push(t)}))}function g(e,t){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(a=>{const n=[];return p({insertString(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new T("Remove transform contains main insert",e)},insertGap(){throw new T("Remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(n,{type:d.k.Text,text:e})},remove(e,{type:a}){m(n,{type:a!==s.a.AlternativeOperation.Type.Main||u(e)&&t?d.k.Text:d.k.Delete,text:e})}},a),n}),r.flatten)),l.b.chain(Object(i.flow)(l.b.fromPredicate(e=>e.length>0,()=>new T("Remove transform contains no data",e)),l.b.map(e=>({type:n.Type.Remove,remove:e})))))}function h(e,t){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(a=>{const n=[];return p({insertString(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new T("Multi-remove transform contains main insert",e)},insertGap(){throw new T("Multi-remove transform contains gap insert",e)},retain(e,{type:t}){s.a.AlternativeOperation.isOptionalType(t)||m(n,{type:d.k.Text,text:e})},remove(e,{type:a}){m(n,{type:a!==s.a.AlternativeOperation.Type.Main||u(e)&&t?d.k.Text:d.k.Delete,text:e})}},a),n}))),l.b.chain(Object(i.flow)(l.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new T("Incomplete multi-remove",e)),l.b.map(e=>({type:n.Type.RemoveOr,removes:e})))))}function f(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const a=[];return p({insertString(e,{type:t}){m(a,{type:s.a.AlternativeOperation.isOptionalType(t)?d.k.Text:d.k.Insert,text:e})},insertGap(){throw new T("Insert transform contains gap insert",e)},retain(e,{type:t}){(!s.a.AlternativeOperation.isOptionalType(t)||a.length>0)&&m(a,{type:d.k.Text,text:e})},remove(t,{type:a}){if(a===s.a.AlternativeOperation.Type.Main)throw new T("Insert transform contains main delete",e)}},t),a}))),l.b.chain(Object(i.flow)(l.f.fromArray,l.b.fromOption(()=>new T("Incomplete insert",e)),l.b.map(e=>({type:n.Type.Insert,inserts:e})))))}function b(e){const{substitutions:t,longestSubstitution:a,inserts:i}=e.reduce((e,[t,a])=>{const n=t.map(e=>e.text).join("");return e.substitutions.push(n),e.inserts.push(a),n.length>e.longestSubstitution.length&&(e.longestSubstitution=n),e},{substitutions:[],inserts:[],longestSubstitution:""}),s=Object(o.pipe)(t,l.f.map(e=>a.split(e).join("")));return Object(o.pipe)(r.zipWith(i,s,(e,t)=>(t&&e.push({type:d.k.Text,text:t}),e)),l.f.fromArray,l.b.fromOption(()=>new Error("Substitution processing error")),l.b.map(e=>({type:n.Type.Substitution,remove:[{type:d.k.Delete,text:a}],inserts:e})))}function y(e,t){return Object(o.pipe)(C(e),l.b.chain(a=>Object(o.pipe)(l.b.tryCatchError(()=>{return Object(c.g)(t.length>0,"Drilldown transform - empty drilldown tree"),{inserts:Object(o.pipe)(t,l.f.map((function e([t,n]){Object(c.g)(void 0!==a.inserts[t],"Drilldown transform - alternative insert not found");return{alternativeId:t,label:a.inserts[t],subLabels:n.map(e)}}))),remove:a.remove,type:n.Type.Drilldown}}),l.b.mapLeft(T.fromError(e)))))}function C(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const a=[[],[]];return p({insertString(e){m(a[1],{type:d.k.Insert,text:"\n"===e?"¶ ":e})},insertGap(){throw new T("Substitution transform contains gap insert",e)},remove(e){m(a[0],{type:d.k.Delete,text:e})},retain(e,{type:t}){if(!s.a.AlternativeOperation.isOptionalType(t)||0!==a[0].length){const t={type:d.k.Text,text:e};a[0].push(t),a[1].push(t)}}},t),Object(c.g)(a[0].length>0,"Substituted part is empty"),Object(c.g)(a[1].length>0,"Inserts are empty"),a}))),l.b.chain(b),l.b.mapLeft(T.fromError(e)))}function v(e){if(!("list"in e))return l.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return l.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return l.g.none}}function O(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new T("Expected citation transform to have 1 alternative",e)),l.b.map(l.f.head),l.b.chain(l.b.fromPredicate(e=>e.isCitation,()=>new T("Expected citation to have isCitation set to true",e))),l.b.chain(x),l.b.map(e=>({ops:e,type:n.Type.Citation})))}function k(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new T("Expected full-sentence transform to have 1 alternative",e)),l.b.map(Object(i.flow)(l.f.head,t=>{let a={blockStart:0,ops:[],kind:d.f.PlainText};return p({insertString(e,t){const n=e.split("\n");if(1===n.length)a.ops.push({type:d.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(o.pipe)(t.attributes,v,l.g.fold(()=>i.constVoid,({kind:e,indent:t})=>()=>{a.ops.splice(a.blockStart,1,{type:d.k.List,kind:e,indent:t}),a={kind:d.f.WithFormatting,ops:a.ops,blockStart:a.blockStart}}));for(let t=0,r=n.length-1;t<=r;t++){const i=n[t];i&&a.ops.push({type:d.k.Insert,text:i}),t<r&&(e(),a.blockStart=a.ops.length,a.ops.push({type:d.k.Insert,text:"\n"}))}}},insertGap(){throw new T("Full sentence transform contains gap insert",e)},retain(e,t){a.ops.push({type:d.k.Text,text:e,shouldBeCollapsed:S(t.type,e)})},remove(e,t){a.ops.push({type:d.k.Delete,text:e,shouldBeCollapsed:S(t.type,e)})}},t),a})),l.b.chain(Object(i.flow)(l.g.fromPredicate(e=>e.ops.length>0),l.b.fromOption(()=>new T("Got empty full sentence transform",e)),l.b.map(({ops:e,kind:t})=>({type:n.Type.FullSentence,ops:e,kind:t})))))}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),function(e){e.parse=function(t,a){const n=t[0];if(n.isFullSentence)return e.FullSentence;if(l.g.isSome(a.drilldown))return e.Drilldown;if(n.isCitation)return e.Citation;if(n.isShortenIt)return e.ShortenIt;if(n.isToneAI)return e.ToneAI;switch(n.type){case s.a.Alternative.Type.Insert:return e.Insert;case s.a.Alternative.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case s.a.Alternative.Type.Substitution:return n.ops.find(s.a.AlternativeOperation.isInsertGap)?e.OneGap:e.Substitution;default:return Object(c.d)(n.type)}}}(t=e.Type||(e.Type={})),e.create=function(t){return a=>{const n=e.Type.parse(a,t);switch(n){case e.Type.Remove:return g(a,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return h(a,t.ignoreWhitespaceRemoves);case e.Type.Insert:return f(a);case e.Type.Substitution:return C(a);case e.Type.Drilldown:return y(a,Object(o.pipe)(t.drilldown,l.g.getOrElse(()=>s.a.Drilldown.empty)));case e.Type.FullSentence:return k(a);case e.Type.OneGap:return w(a);case e.Type.ShortenIt:return A(a);case e.Type.ToneAI:return E(a);case e.Type.Citation:return O(a);default:return Object(c.d)(n)}}}}(n||(n={}));const S=(e,t)=>e===s.a.AlternativeOperation.Type.Optional&&t.length>3;function w(e){return Object(o.pipe)(l.b.tryCatchError(()=>(Object(c.g)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(o.pipe)(e,l.f.head,e=>{const t=[],a=[];let n=!1;return p({insertString(e,{type:r}){m(n?a:t,{type:s.a.AlternativeOperation.isOptionalType(r)?d.k.Text:d.k.Insert,text:e})},insertGap(){Object(c.g)(!n,"One gap transform does not contain exactly one gap insert"),n=!0},retain(e,{type:r}){const i=n?a:t;(!s.a.AlternativeOperation.isOptionalType(r)||i.length>0)&&m(i,{type:d.k.Text,text:e})},remove:i.constVoid},e),Object(c.g)(n,"One gap transform does not contain exactly one gap insert"),Object(c.g)(t.length>0||a.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:a}}))),l.b.bimap(T.fromError(e),({left:e,right:t})=>({type:n.Type.OneGap,left:e,right:t})))}function A(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new T("Expected shorten-it transform to have 1 alternative",e)),l.b.chain(l.f.traverse(l.b.either)(I)),l.b.map(l.f.head),l.b.map(e=>({type:n.Type.ShortenIt,ops:e})))}function E(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const a=[];return p({insertString(e){m(a,{type:d.k.Insert,text:e})},insertGap(){throw new T("ToneAI transform should not include gap insert",e)},retain(e){m(a,{type:d.k.Text,text:e})},remove(e){m(a,{type:d.k.Delete,text:e})}},t),a}))),l.b.chain(Object(i.flow)(l.f.fromArray,l.b.fromOption(()=>new T("Incomplete ToneAI transform",e)),l.b.map(e=>({type:n.Type.ToneAI,transformParts:e})))))}function I(e){const t=[];return p({insertString(e,{group:a}){t.push({type:d.k.Insert,text:e,group:a})},insertGap(){throw new T("ShortenIt transform contains gap insert",[e])},retain(e,{group:a}){t.push({type:d.k.Text,text:e,group:a})},remove(e,{group:a}){t.push({type:d.k.Delete,text:e,shouldBeCollapsed:!0,group:a})}},e),Object(o.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new T("Got empty ShortenIt transform",[e])))}function x(e){const t=[];return p({insertString(e){t.push({type:d.k.Insert,text:e})},insertGap(){throw new T("Citation transform contains gap insert",[e])},retain(e){t.push({type:d.k.Text,text:e})},remove(e){t.push({type:d.k.Delete,text:e})}},e),Object(o.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new T("Got empty Citation transform",[e])))}class T extends c.a{constructor(e,t){super(e),this.alternatives=t}static fromError(e){return t=>{const a=new T(t.message,e);return a.stack=t.stack,a}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(s.a.AlternativeOperation.anonymize))}`}}},fEss:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("Kt6o"),s=a("e12y");const l=({theme:e={}})=>n.createElement(r.a.div,Object.assign({},Object(i.c)(d.container,e.container)),n.createElement(r.a.div,Object.assign({},Object(i.c)(d.swoosh,e.animation)))),c=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),d=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:c,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})},fNos:function(e,t,a){e.exports=a.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},gOzB:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("ERkP"),i=a("9NHN"),o=a("ax6a"),s=a("3rlE"),l=a("e12y"),c=a("PnD2");!function(e){e.Regular=e=>r.createElement("span",Object.assign({},Object(i.c)(e.a11yContrast?h.badgeA11yContrast:h.badge,e.className)),e.children),e.New=({className:t})=>r.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>r.createElement("div",null,r.createElement(e.New,null),t),e.Premium=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(h.premiumBadge,t)),r.createElement(s.d.PaidLink,{className:h.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>r.createElement(e.Regular,Object.assign({},Object(i.c)(t)),"BUSINESS")}(n||(n={}));const d={display:"inline-block",padding:`${l.a.rem(o.g.BadgeY)} ${l.a.rem(o.g.BadgeX)}`,height:l.a.rem(o.f.Badge),borderRadius:l.a.rem(c.radius3),background:o.a.CoreGreen1,color:o.a.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o.i.Badge,letterSpacing:o.e.Badge,fontWeight:o.d.Badge,fontSize:l.a.rem(o.c.Badge),lineHeight:l.a.rem(o.f.Badge)},p={background:o.a.CoreBlue1,color:o.a.CoreBlue60},u={marginRight:o.g.BadgeX,maxWidth:l.a.rem(o.f.Badge),maxHeight:l.a.rem(o.f.Badge),minWidth:l.a.rem(o.f.Badge),minHeight:l.a.rem(o.f.Badge),verticalAlign:"top"},m={background:o.a.CoreYellow20,color:o.a.CoreYellow80},g={fill:o.a.CoreYellow80},h=l.a.stylesheet({badge:[d],badgeA11yContrast:[d,p],badgeIcon:[u],premiumBadge:[d,m],premiumBadgeIcon:[u,g]})},"gT+5":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return $}));var n=a("D9EC"),r=a("ax6a"),i=a("e12y"),o=a("0Hf4");const s=r.a.CoreGreen10;var l;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(l||(l={}));const c="alerts-custom",d={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},p={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},u=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),m={standard:`calc(${i.a.rem(.45)} - 4px)`,tall:i.a.rem(.425)},g=e=>({to:{backgroundColor:e}}),h=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:i.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[i.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),f=(e,t,a,n)=>Object.assign(Object.assign({$unique:!0},d),{paddingBottom:"1px",borderBottom:`3px solid ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},d.$nest),{[`&.${l.markStart}`]:h(t),"&[data-vertical-underline-start]:before":{borderColor:a,color:a},"& > [data-vertical-underline-body]:after":{borderColor:a},"& > [data-vertical-underline-index]":{color:a},"&[data-superscript]":{padding:0,border:"none",color:a,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${l.markSelected}.${l.markHeightStandard}`]:{paddingTop:m.standard},[`&.${l.markSelected}.${l.markHeightTall}`]:{paddingTop:m.tall},[`&.${l.markSelected}`]:{$unique:!0,borderBottomColor:n,animation:`${e} 1s ease forwards`,$nest:{[`&.${l.markStart}`]:h(n)}},[`&.${l.markSelectedFocused}`]:{$unique:!0,borderBottomColor:a,$nest:{[`&.${l.markStart}`]:h(a)}},[`&.${l.markSelected} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${l.markSelectedFocused} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),b=i.a.keyframes(g(r.a.CoreRed10)),y=i.a.keyframes(g(r.a.CoreYellow10)),C=i.a.keyframes(g(r.a.CoreCyan10)),v=i.a.keyframes(g(r.a.CorePurple10)),O=i.a.keyframes(g(r.a.CoreNeutral10)),k=i.a.keyframes(g(r.a.CoreBlue10)),S=i.a.keyframes(g(r.a.CoreRed10)),w=i.a.keyframes(g(r.a.CoreYellow10)),A=i.a.keyframes(g(r.a.CoreBlue10)),E=i.a.keyframes(g(r.a.CoreGreen10)),I=i.a.keyframes(g(r.a.CorePurple10)),x=i.a.keyframes(g(r.a.CoreGreen10)),T=e=>{const t=i.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${l.markHeightStandard}`]:{paddingTop:m.standard},[`&.${l.markHeightTall}`]:{paddingTop:m.tall}}}},j=e=>{return{borderBottomColor:"transparent",backgroundColor:i.a.color(s).fade(e).toRGBA().toString()}},N=i.a.keyframes({from:T("100%"),to:T("50%")}),L={borderBottomWidth:"2px",borderBottomColor:`${r.a.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},P=i.a.keyframes({to:Object.assign(Object.assign({},T("0%")),L)}),D=i.a.keyframes({from:j("100%"),to:j("50%")}),B={$nest:{[`&.${l.markHeightStandard}`]:{paddingTop:m.standard},[`&.${l.markHeightTall}`]:{paddingTop:m.tall},[`&:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{$nest:{[`&.${l.clarity} &.${l.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:r.a.CoreBlue50}}},[`&.${l.correctness}, &.${l.markSelected}, &.${l.markSelectedFocused}`]:{$nest:{[`.${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity} .${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity}`]:{}}},[`&.${l.clarity}`]:{$nest:{[`& & &:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},F={borderBottom:"0 solid transparent",background:"none",animation:"none"},$=Object(n.l)(()=>({custom(e,t){const a=i.a.color(e).fade(.25).toRGBA().toString(),n=i.a.keyframes(g(a));return[c,l.markBase,i.a.style(f(n,t,t,a)),o.a.style(f(n,t,t,a),p)].join(" ")},markBase:[l.markBase,i.a.style(d),o.a.style(d,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[l.markAppliedBase,l.markBase,i.a.style({paddingBottom:"1px",borderBottom:`3px solid ${s}`})].join(" "),correctness:[l.correctness,l.markBase,i.a.style(f(S,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(S,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),p)].join(" "),premium:[l.premium,l.markBase,i.a.style(f(w,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(w,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),p)].join(" "),clarity:[l.clarity,l.markBase,i.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10)),o.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10),p)].join(" "),markVisible:[l.markVisible,i.a.style(B),o.a.style(B)].join(" "),engagement:[l.engagement,l.markBase,i.a.style(f(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10)),o.a.style(f(E,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10),p)].join(" "),delivery:[l.delivery,l.markBase,i.a.style(f(I,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(I,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),p)].join(" "),critical:[l.critical,l.markBase,i.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),p)].join(" "),advanced:[l.advanced,l.markBase,i.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),p)].join(" "),plagiarism:[l.plagiarism,l.markBase,i.a.style(f(C,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10)),o.a.style(f(y,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10),p)].join(" "),originality:[l.originality,l.markBase,i.a.style(f(v,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(I,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),p)].join(" "),vox:[l.vox,l.markBase,i.a.style(f(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10)),o.a.style(f(O,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10),p)].join(" "),synonym:[l.synonym,l.markBase,i.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50)),o.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50),p)].join(" "),markAnimated:[l.markAnimated,i.a.style({animation:`${u} .075s ease`})].join(" "),markHidden:[l.markHidden,i.a.style(F),o.a.style(F)].join(" "),markBulkAppliedAnimation:[l.markBulkAppliedAnimation,l.markBase,i.a.style(T("100%"),L,{animation:`${N} 2s linear forwards,\n          ${P} .25s linear 2s forwards`})].join(" "),markBulkApplied:[l.markBulkApplied,l.markBase,i.a.style(f(x,r.a.CoreNeutral40,r.a.CoreGreen10,r.a.CoreGreen10),L)].join(" "),markApplied:[l.markApplied,i.a.style(T("100%"),{animation:`${N} .25s linear forwards`})].join(" "),markSuccess:[l.markSuccess,i.a.style(j("100%"),{animation:`${D} .25s linear forwards`})].join(" "),noAnimation:[l.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:l.markSelected,markSelectedFocused:l.markSelectedFocused,markHeightStandard:l.markHeightStandard,markHeightTall:l.markHeightTall,markStart:l.markStart}))},hnW1:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Passed="passed"}(n||(n={}))},jAl6:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("D57K"),r=a("ERkP"),i=a("vOOZ"),o=a("9NHN"),s=a("gy42"),l=a("6fbX"),c=a("ax6a"),d=a("e12y"),p=a("SD38");function u(e){var{wrapperClassName:t,variation:a,isIdle:o,ref:l,label:c}=e,d=Object(n.__rest)(e,["wrapperClassName","variation","isIdle","ref","label"]);return r.createElement(i.a.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(o),"aria-live":Boolean(o)?"off":"polite","aria-label":null!=c?c:"Content is loading.",className:t},s.b.mapMaybeObservable(a,e=>r.createElement(u.Svg,Object.assign({},d,{type:e,isIdle:o}))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(l.d)(t)}},e.Svg=t=>{const{className:a,size:i=64,strokeWidth:s=2,type:c,name:d,isIdle:p}=t,u=Object(n.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),h=r.useRef(null);return r.useEffect(()=>(Object(l.g)(null!==m.current,"groupEl should be already created"),h.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>h.current.cancel()),[]),r.useEffect(()=>{Object(l.g)(null!==h.current,"groupAnimation should be already created");const e=h.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())}),r.createElement("svg",Object.assign({"data-role":d},Object(o.c)(a),{viewBox:"25 25 50 50",width:i,height:i,"aria-hidden":!0},u),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},Object(o.c)(A.path,!0===p&&g,e.getClassName(A)(c)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:s,strokeMiterlimit:"10"})))))}}(u||(u={}));const m=d.a.keyframes({"0%":{strokeDasharray:`1px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(1)},"50%":{strokeDasharray:`89px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(-35)},"100%":{strokeDasharray:`89px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(-124)}}),g="spinnerIdle",h={animation:`${m} 2s ease-in-out infinite`,strokeDasharray:`1px, ${d.a.px(200)}`,strokeDashoffset:d.a.px(1),strokeLinecap:"round",$nest:{[`&.${g}`]:{animationIterationCount:0}}},f={stroke:c.a.CoreRed50},b={stroke:c.a.CoreGreen50},y={stroke:c.a.CoreBlue50},C={stroke:c.a.CoreNeutral0},v={stroke:p.purple500},O={stroke:p.yellow600},k={stroke:c.a.CoreYellow60},S={stroke:p.ui500},w={stroke:c.a.CoreCyan50},A=d.a.stylesheet({path:[h],red:[f],green:[b],blue:[y],white:[C],violet:[v],yellow:[O],orange:[k],gray:[S],cyan:[w]})},jSKJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return kt}));var n=a("ERkP"),r=a("OA+g"),i=a("I7vG"),o=a("LNSM"),s=a("vOOZ"),l=a("XXDN"),c=a("3rlE"),d=a("bO3R"),p=a("D9EC"),u=a("lrqh"),m=a("6fbX"),g=a("ax6a"),h=a("PrA7"),f=a("e12y"),b=a("rk+4"),y=a("uqkn"),C=a("+w1e"),v=a("E0zP"),O=a("XxrX"),k=a("6lhv"),S=a("gOzB"),w=a("NmGF"),A=a("BugA"),E=a("gy42"),I=a("zR/0"),x=a("aIes"),T=a("xEVj"),j=a("S3HV"),N=a("hoSD"),L=a("1w6p"),P=a("dE97"),D=a("wOnQ"),B=a("fEss"),F=a("IdhR"),$=a("H9T+");const R=({card:e,actions:t,disabled:a})=>Object($.v)(e.activeAlert,e.renderOptions.layoutDensity)?n.createElement(F.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:a}):null,M=L.b.Grid.make(({slots:e,state:t,notify:a})=>n.createElement(s.a.Fragment,null,t.pipe(I.a.map(t=>n.createElement($.r,{card:t,actions:{next:e=>a(e)(),error:r.constVoid,complete:r.constVoid},isChecking:I.a.of(!1),isCheckingGlobal:I.a.of(!1),cardBody:Object(r.constant)(n.createElement(s.a.Fragment,null,e.body)),cardTheme:{contentBody:_.contentBody}}))))),_=f.a.stylesheet({contentBody:[{paddingLeft:0}]}),W=L.b.Knot.make(M,{body:L.b.Node.make(()=>{const e=n.useContext(b.a.Context);return n.createElement("div",{className:V.container},n.createElement(B.a,{theme:{container:V.animation}}),n.createElement(A.a,{className:V.label},e.card.shortenIt.loadingLabel))})}),H={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:f.a.rem(.25)},G={paddingLeft:f.a.rem(.5)},V=f.a.stylesheet({container:[H],animation:[{transform:"scale(.7)"}],label:[G]}),q=(e,t)=>L.a.composeKnot({body:Object(r.constant)(I.a.of(null)),root:L.a.fromSideEffect(e=>{t.next(e)},e)}),z=L.b.Knot.make(M,{body:L.b.Node.make(()=>{const e=n.useContext(b.a.Context);return n.createElement("div",{className:X.container},n.createElement(c.d.ValidationOk,null),n.createElement(A.a,{className:X.label},e.card.shortenIt.notFoundLabel))})}),U={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:f.a.rem(.25)},Y={paddingLeft:f.a.rem(.5)},X=f.a.stylesheet({container:[U],label:[Y]}),K=(e,t)=>L.a.composeKnot({body:Object(r.constant)(I.a.of(null)),root:L.a.fromSideEffect(e=>{t.next(e)},e)});var Z=a("D57K"),Q=a("ps/9"),J=a("yZqL"),ee=a("HUX/"),te=a("0Hf4"),ae=a("wJHk");const ne=L.b.Node.make(({state:e})=>n.createElement(s.a.Fragment,null,e.pipe(I.a.map(({collapsed:e,text:t})=>e?n.createElement("span",{className:Ae.shortenItCollapsedDelete},n.createElement(c.d.EllipsisSmall,{width:13,className:Ae.shortenItCollapsedIcon})):n.createElement("span",{className:Ae.shortenItDelete},t))))),re=/^\W/,ie=L.b.Node.make(({state:e})=>n.createElement(s.a.span,{className:e.pipe(I.a.map(e=>re.test(e.text)?Ae.shortenItInsertPunctuation:Ae.shortenItInsert))},e.pipe(I.a.map(e=>e.text)))),oe=L.b.Node.make(({state:e})=>n.createElement(s.a.span,null,e.pipe(I.a.map(e=>e.text)))),se=L.b.Union.make("kind",{insert:ie,delete:ne,text:oe}),le=L.b.Grid.make(({slots:e,state:t,notify:a})=>{const i=n.useContext(b.a.Context).card.shortenIt.collapsedButtonTooltip;return n.createElement(s.a.Fragment,null,t.pipe(I.a.map(({isReviewableGroup:t,isInReview:o,group:s})=>Object(r.pipe)(s,u.g.filter(()=>t),u.g.fold(()=>e.parts,t=>o?n.createElement("span",{ref:e=>{e&&Object(r.pipe)(u.g.fromNullable(e.offsetParent),u.g.map(e=>e.getBoundingClientRect()),u.g.tap(n=>{const r=e.getBoundingClientRect();a({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-n.top,left:r.left-n.left},offsetParentSize:{width:n.width,height:n.height}})()}))},className:Ae.shortenItEditGroupExpanded},e.parts):n.createElement(d.a,{name:"shorten-it-review-change",className:Ae.shortenItEditGroupButton,animationMode:ae.a.FromClickPoint,title:i,ariaLabel:i,onClick:a({kind:"reviewEdit",group:t})},e.parts))))))}),ce=L.b.Knot.make(le,{parts:L.b.List.make(u.a.array,se)}),de=L.b.List.make(u.a.array,ce),pe=L.b.Grid.make(({slots:e,state:t})=>n.createElement(A.a,{className:t.pipe(I.a.map(e=>Object(r.pipe)(e,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>Ae.minimalShortenItBackground,()=>Ae.shortenItBackground))))},e.labels)),ue=L.b.Knot.make(pe,{labels:de}),me="cards-replacements_labels-",ge={shortenItBackground:`${me}shortenItBackground`,minimalShortenItBackground:`${me}minimalShortenItBackground`,shortenItDelete:`${me}shortenItDelete`,shortenItInsert:`${me}shortenItInsert`,shortenItInsertPunctuation:`${me}shortenItInsertPunctuation`,shortenItEditGroupButton:`${me}shortenItEditGroupButton`,shortenItEditGroupExpanded:`${me}shortenItEditGroupExpanded`,shortenItCollapsedDelete:`${me}shortenItCollapsedDelete`,shortenItCollapsedDeleteButton:`${me}shortenItCollapsedDeleteButton`,shortenItCollapsedIcon:`${me}shortenItCollapsedIcon`},he={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${f.a.rem(1)} 0`,color:g.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${Q.e}, ${Q.f}`},fe={color:g.a.CoreRed50,textDecoration:"line-through",fontWeight:400},be={color:g.a.CoreBlue60,fontWeight:600},ye={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${f.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:f.a.rem(Q.t)},Ce=Object.assign(Object.assign({},ye),{backgroundColor:g.a.CoreNeutral1,borderColor:g.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:g.a.CoreBlue10,borderColor:g.a.CoreBlue10}}}),ve=Object.assign(Object.assign({},ye),{backgroundColor:g.a.CoreBlue10,borderColor:g.a.CoreBlue10,position:"relative"}),Oe={display:"inline-block",width:f.a.rem(1),lineHeight:f.a.rem(.625),height:f.a.rem(.625),margin:`0 ${f.a.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:f.a.rem(Q.u)},ke=Object.assign({},Oe),Se=Object.assign(Object.assign({},Oe),{backgroundColor:g.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:g.a.CoreBlue10}}}),we={minWidth:"unset",minHeight:"unset",paddingBottom:f.a.rem(.125),fill:g.a.CoreBlue60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:g.a.CoreNeutral50}}},Ae={shortenItBackground:f.a.joinClasses([ge.shortenItBackground,f.a.style(he),te.a.style(he)]),minimalShortenItBackground:f.a.joinClasses([ge.minimalShortenItBackground,f.a.style(he,{lineHeight:f.a.rem(1.3125)}),te.a.style(he,{lineHeight:f.a.rem(1.3125)})]),shortenItDelete:f.a.joinClasses([ge.shortenItDelete,f.a.style(fe),te.a.style(fe)]),shortenItInsert:f.a.joinClasses([ge.shortenItInsert,f.a.style(be),te.a.style(be)]),shortenItInsertPunctuation:f.a.joinClasses([ge.shortenItInsertPunctuation,f.a.style(be),te.a.style(be)]),shortenItEditGroupButton:f.a.joinClasses([ge.shortenItEditGroupButton,f.a.style(Ce),te.a.style(Ce)]),shortenItEditGroupExpanded:f.a.joinClasses([ge.shortenItEditGroupExpanded,f.a.style(ve),te.a.style(ve)]),shortenItCollapsedDelete:f.a.joinClasses([ge.shortenItCollapsedDelete,f.a.style(ke),te.a.style(ke)]),shortenItCollapsedDeleteButton:f.a.joinClasses([ge.shortenItCollapsedDeleteButton,f.a.style(Se),te.a.style(Se)]),shortenItCollapsedIcon:f.a.joinClasses([ge.shortenItCollapsedIcon,f.a.style(we),te.a.style(we)])};f.a.cssRule(`.${ge.shortenItDelete} + .${ge.shortenItInsert}`,{marginLeft:f.a.rem(.25)});const Ee=L.b.Grid.make(({state:e,view:t,notify:a,slots:i})=>{const l=n.useContext(b.a.Context),c=Object.assign(Object.assign({},E.b.noopObserver()),{next:e=>a(e)()}),d=T.a.useMemoOnDidMount(()=>o.a.create(!1));return T.a.useSubscriptionTo(t("transformHidden").pipe(I.a.tap(E.b.toAtom(d)))),n.createElement(s.a.Fragment,null,e.pipe(I.a.map(({item:e})=>n.createElement(J.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:a({type:C.b.Type.alertCardShow,cardType:C.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:a({type:C.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:a({type:C.b.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(I.a.map(Object(p.c)(Fe.loadingWrapperInvisible,Fe.loadingWrapper)))},Object(ee.b)(e.renderOptions)),mainActions:n.createElement($.e,{card:e,feedbackActions:c}),subActions:n.createElement(R,{card:e,actions:c}),body:n.createElement(n.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions,badge:n.createElement(S.a.Regular,null,l.beta)}),Object(r.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:{next:e=>a(e)(),error:r.constVoid,complete:r.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),n.createElement(s.a.div,{className:t("transformHidden").pipe(I.a.map(Object(p.c)(Fe.transformHidden,void 0)))},i.transform)),footer:n.createElement(n.Fragment,null,n.createElement($.g,{card:e}),n.createElement(s.a.div,{className:Fe.footerBtns},n.createElement($.q,{className:Fe.applyButton,spinnerClassName:Fe.applyButtonSpinner,messageClassName:Fe.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:l.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:d,onClick:x.d.callOnce(a({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),cardType:C.b.getCardType(e)}))}))),extra:n.createElement($.c,{isChecking:t("isCheckingGlobal")})}))))}),Ie=L.b.Grid.make(({slots:e,state:t,notify:a})=>{const i=n.useContext(b.a.Context).card.shortenIt,{ref:o,onMount:l}=T.a.useElWatcher(),c=I.b.compact(t).pipe(I.a.map(e=>e.group),I.a.distinctUntilChanged(),I.a.switchMap(e=>o.pipe(I.b.compactMap(t=>E.a.getResizeObservable(t).pipe(I.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),I.a.startWith({width:t.clientWidth,height:t.clientHeight}),I.a.distinctUntilChanged(N.c.Box.eq.equals),I.a.tap(t=>a(Object.assign(Object.assign({kind:"editPopupSize"},t),{group:e}))()))))));return T.a.useSubscriptionTo(c),n.createElement(s.a.div,{className:Fe.editPopupContainer},e.replacementLabels,t.pipe(I.a.map(u.g.fold(r.constNull,e=>{var{group:t}=e,r=Object(Z.__rest)(e,["group"]);return n.createElement(s.a.div,{className:Fe.editPopup,style:"withPosition"===r.kind?{transform:`translate(${r.left}px, ${r.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===r.kind?{visibility:"hidden",opacity:0}:Object(m.d)(r),mount:l},n.createElement(d.a.Primary,{name:"shorten-it-keep-change",onClick:a({kind:"keepEdit",group:t})},i.editPopupKeepButtonLabel),n.createElement(d.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:a({kind:"dismissEdit",group:t})},i.editPopupDismissButtonLabel))}))))}),xe=L.b.Knot.make(Ie,{replacementLabels:ue}),Te=L.b.Knot.make(Ee,{transform:xe}),je={padding:`0 ${f.a.rem(1)}`},Ne={display:"flex",flexDirection:"row",padding:f.a.rem(.25),position:"absolute",backgroundColor:g.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:f.a.rem(Q.t),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},Le={$nest:{"&[data-disabled='true']":{backgroundColor:g.a.CoreNeutral10,color:g.a.CoreNeutral40}}},Pe={$nest:{"& circle":{stroke:g.a.CoreNeutral40}}},De={paddingRight:f.a.rem(.25)},Be={transition:`opacity ${f.a.seconds($.t)}`},Fe=f.a.stylesheet({loadingWrapper:[Be],loadingWrapperInvisible:[Be,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[je],editPopupContainer:[{position:"relative"}],editPopup:[Ne],applyButton:[Le],applyButtonSpinner:[Pe],applyButtonMessage:[De],transformHidden:[{pointerEvents:"none",opacity:.5}]});var $e=a("GRZr");const Re=(e,t,a)=>L.a.composeKnot({root:L.a.fromSideEffect(r.constVoid,e.pipe(I.a.map(e=>e.renderOptions.layoutDensity))),labels:n=>I.a.mergeStatic(n.pipe(I.a.withLatestFrom(e),I.a.tap(([e,n])=>{const i=e.action.action;switch(i.kind){case"reviewEdit":t.set(u.g.some({groupId:i.group,expandedEdit:u.g.none,popupSize:u.g.none,popupPosition:u.g.none})),a.next({type:C.b.Type.shortenItReviewEdit,alertId:n.activeAlert.id,itemId:n.id,group:i.group});break;case"editGroupExpanded":t.set(Object(r.pipe)(t.get(),u.g.filter(e=>e.groupId===i.group),u.g.fold(()=>u.g.some({groupId:i.group,popupSize:u.g.none,popupPosition:u.g.none,expandedEdit:u.g.some({offsetRect:i.offsetRect,offsetParentSize:i.offsetParentSize})}),e=>u.g.some(Object.assign(Object.assign({},e),{expandedEdit:u.g.some({offsetRect:i.offsetRect,offsetParentSize:i.offsetParentSize})})))));break;default:Object(m.d)(i)}}),I.a.switchMap(()=>I.a.NEVER)),I.a.sequenceS({item:e,editsInReview:t}).pipe(I.a.map(({item:e,editsInReview:t})=>Object(r.pipe)(e.transform,u.g.filter(D.j.isShortenIt),u.g.map(N.e.pick("labels")),u.g.map(t=>Object(r.pipe)(t,u.a.filterMap(t=>Object(r.pipe)(t.group,u.g.fold(r.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===D.k.Delete?u.g.some(Object.assign(Object.assign({},t),{type:D.k.Text})):t.type===D.k.Insert?u.g.none:u.g.some(t):u.g.some(t)))),u.g.fold(()=>[],Object(r.flow)(u.a.reduce([],(e,a)=>{const n=a.type===D.k.Delete?{kind:a.type,text:a.text,collapsed:Object(r.pipe)(a.group,u.g.fold(()=>{var e;return null!==(e=a.shouldBeCollapsed)&&void 0!==e&&e},e=>!Object(r.pipe)(t,u.g.exists(t=>t.groupId===e)))),group:a.group}:a.type===D.k.Insert||a.type===D.k.Text?{kind:a.type,text:a.text,group:a.group}:Object(m.d)(a);return e.length>0&&u.g.getEq(u.c.eqString).equals(e[e.length-1].group,a.group)&&u.g.isSome(a.group)?e.slice(0,-1).concat({group:a.group,parts:e[e.length-1].parts.concat(n)}):e.concat({group:a.group,parts:[n]})}),u.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==D.k.Text,isInReview:Object(r.pipe)(e.group,u.g.fold(r.constFalse,e=>Object(r.pipe)(t,u.g.exists(t=>t.groupId===e)))),group:Object(r.pipe)(e.parts.map(e=>e.group),Object($e.fold)(u.g.getFirstMonoid()))},parts:e.parts}))))))))}),Me=(e,t,a,n,r,i)=>L.a.composeKnot({root:n=>I.a.mergeStatic(n.pipe(I.a.tap(e=>{e.type===C.b.Type.hover&&i.next("hover"===e.kind),a.next(e)}),I.a.switchMap(()=>I.a.NEVER)),I.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:r})),transform:L.a.composeKnot({root:_e(e,n,a),replacementLabels:Re(e,n,a)})});const _e=(e,t,a)=>n=>I.a.mergeStatic(n.pipe(I.a.withLatestFrom(e),I.a.tap(([e,n])=>{"editPopupSize"===e.kind?t.set(Object(r.pipe)(t.get(),u.g.filter(t=>t.groupId===e.group),u.g.fold(()=>u.g.some({groupId:e.group,expandedEdit:u.g.none,popupPosition:u.g.none,popupSize:u.g.some({width:e.width,height:e.height})}),t=>u.g.some(Object.assign(Object.assign({},t),{popupSize:u.g.some({width:e.width,height:e.height})}))))):function(e,t,a,n){switch(a.set(Object(r.pipe)(a.get(),u.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":n.next({type:C.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&n.next({type:C.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:y.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":n.next({type:C.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(m.d)(t.kind)}}(n,e,t,a)}),I.a.switchMap(()=>I.a.NEVER)),t.view(u.g.chain(e=>Object(r.pipe)(e.expandedEdit,u.g.map(t=>Object(r.pipe)(e.popupSize,u.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),a=>Object.assign({kind:"withPosition",group:e.groupId},function(e,t,a=-10){const n=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+a;if(r+e.width>t.offsetParentSize.width)return{top:n,left:t.offsetParentSize.width-e.width};return{top:n,left:r}}(a,t)))))))));const We={loading:W,summary:Te,notFound:z},He=L.b.Union.make("kind",We),Ge=e=>e.pipe(I.a.map(e=>{const t=e.activeAlert.summaryState,a=u.g.fold(r.constFalse,D.j.isShortenIt)(e.transform);switch(t){case P.j.SummaryState.notFound:return{kind:"notFound"};case P.j.SummaryState.notRequested:return{kind:"loading"};case P.j.SummaryState.requestSent:return a?{kind:"summary"}:{kind:"loading"};case P.j.SummaryState.invalidated:case P.j.SummaryState.received:return{kind:"summary"};default:Object(m.d)(t)}}));var Ve;(Ve||(Ve={})).Full=e=>{const t=T.a.useAtomOf(e.card),{isChecking:a,isCheckingGlobal:i}=function(e,t,a){const n=T.a.useAtomOf({isWaiting:e.activeAlert.summaryState===P.j.SummaryState.requestSent||e.activeAlert.summaryState===P.j.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return T.a.useMemoOnDidMount(()=>({isChecking:I.a.combineLatestStatic([t,n]).pipe(I.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),I.a.distinctUntilChanged()),isCheckingGlobal:I.a.combineLatestStatic([a,n]).pipe(I.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),I.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:s,isMouseInside:l}=Object($.z)(a),c=T.a.useMemoOnDidMount(()=>o.a.create(u.g.none)),d=T.a.useMemoOnDidMount(()=>t.pipe(I.a.map(Object(r.flow)(N.e.pick("transform"),u.g.filter(D.j.isShortenIt))),I.a.skipBy(u.g.getEq(D.j.ShortenIt.eq)),I.a.map(()=>u.g.none),I.a.tap(E.b.toAtom(c))));return T.a.useSubscriptionTo(d),n.createElement(n.Fragment,null,L.b.mount(He,((e,t,a,n,r,i)=>L.a.composeUnion({loading:q(e,a),notFound:K(e,a),summary:Me(e,t,a,n,r,i)},()=>Ge(e)))(t,i,e.actions,c,s,l)))};var qe=a("r/bb");const ze=({card:e,actions:t})=>{const a=n.useContext(b.a.Context),o=u.g.isNone(e.activeAlert.takeawayFeedback)?a.card.takeaway.defaultTitle:e.activeAlert.title,s=u.g.fromNullable(e.activeAlert.highlightTexts[0]),l=Object(i.pipe)(e.activeAlert,u.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&u.g.contains(P.n.correctlyDetected)(e.takeawayFeedback)),u.g.map(()=>e.meta.explanation));return n.createElement(n.Fragment,null,Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions},n.createElement($.o,{text:y.a.miniTitle(e,a)})),()=>n.createElement(n.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement($.n,{text:o})))),Object(i.pipe)(s,u.g.fold(r.constNull,t=>n.createElement($.h,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(i.pipe)(l,u.g.fold(r.constNull,a=>n.createElement($.f,{description:a,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))},Ue=({card:e,feedbackActions:t})=>n.createElement(n.Fragment,null,n.createElement(d.a.Ghost,{name:"takeaway-like",onClick:x.d.callOnce(()=>{var a;return t.next({type:C.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(a=e.activeAlert.highlightTexts[0])&&void 0!==a?a:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})})},n.createElement(c.d.YesCircle,null)," Yes"),n.createElement(d.a.Ghost,{name:"takeaway-dislike",onClick:x.d.callOnce(()=>t.next({type:C.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},n.createElement(c.d.NoCircle,null)," No")),Ye=({card:e,feedbackActions:t})=>{const a=n.useContext(b.a.Context);return n.createElement(n.Fragment,null,n.createElement(d.a.Ghost,{name:"resolve",title:a.resolve,ariaLabel:a.resolveLabel,onClick:x.d.callOnce(()=>t.next({type:C.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},n.createElement(c.d.YesCircle,null)),n.createElement(d.a.Ghost,{name:"ignore",title:a.dismiss,ariaLabel:a.dismiss,onClick:x.d.callOnce(()=>t.next({type:C.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},n.createElement(c.d.Ignore,null)))};function Xe(e){return!u.g.isNone(e.takeawayFeedback)&&!(!u.g.isSome(e.examples)&&!u.g.isSome(e.details))}const Ke=e=>Object.assign(Object.assign({},Object(ee.a)(e.layoutDensity)),{wrapper:Object(i.pipe)(e.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>Je.minimalCardWrapper,()=>void 0))});var Ze;(Ze||(Ze={})).Full=({card:e,actions:t})=>n.createElement(J.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:C.b.Type.alertCardShow,cardType:C.b.getCardType(e),alertId:e.activeAlert.id}),theme:Ke(e.renderOptions),body:n.createElement(ze,{card:e,actions:t}),mainActions:u.g.isNone(e.activeAlert.takeawayFeedback)?n.createElement(Ue,{card:e,feedbackActions:t}):n.createElement(Ye,{card:e,feedbackActions:t}),footer:Xe(e.activeAlert)?n.createElement($.g,{card:e}):null,subActions:Xe(e.activeAlert)?n.createElement(F.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});const Qe={padding:`${f.a.rem(.75)} ${f.a.rem(.5)} ${f.a.rem(.5)} ${f.a.rem(1)}`},Je=f.a.stylesheet({minimalCardWrapper:[Qe]});var et=a("CxAE"),tt=a("cVtq"),at=a("iVSA"),nt=a("9NHN");const rt=e=>f.a.style({textDecoration:"line-through",color:e,fontWeight:"bold"}),it=e=>f.a.style({color:e,fontWeight:"bold"}),ot=e=>f.a.style({backgroundImage:`linear-gradient(to top left,\n        rgba(0,0,0,0) 0%,\n        rgba(0,0,0,0) calc(50% - 0.5px),\n        ${e} 50%,\n        rgba(0,0,0,0) calc(50% + 0.5px),\n        rgba(0,0,0,0) 100%)`}),st=e=>f.a.style({fontWeight:"bold",padding:`${f.a.rem(.0625)} ${f.a.rem(.21875)} ${f.a.rem(.0625)} ${f.a.rem(.21875)}`,border:`1px solid ${e}`,borderRadius:f.a.rem(.125),color:e}),lt=f.a.style({fontSize:f.a.rem(.875),letterSpacing:"0px",fontStyle:"italic",lineHeight:f.a.rem(1.3125),padding:`${f.a.rem(.15625)} 0`}),ct=/[\d\w&]/,dt=e=>1===e.length&&!ct.test(e),pt=e=>"text"===(null==e?void 0:e.type)?null:n.createElement("span",{className:lt}," "),ut=e=>n.createElement(n.Fragment,null,e.replacement.labels.map(((e,t,a)=>(n,r,i)=>{const o=i[r-1];switch(n.type){case"insert":return e(n,o);case"delete":return t(n,o);case"text":return a(n,o);default:throw new Error("Unexpected citation alert transform part:"+JSON.stringify(n))}})((e,t)=>n.createElement(n.Fragment,null,pt(t),n.createElement("span",Object.assign({},Object(nt.c)(...(e=>[dt(e)?st(at.ColorsRgb.CoreBlue50):it(at.ColorsRgb.CoreBlue50),lt])(e.text))),e.text)),(e,t)=>n.createElement(n.Fragment,null,pt(t),n.createElement("span",Object.assign({},Object(nt.c)(...(e=>dt(e)?[st(at.ColorsRgb.CoreRed50),ot(at.ColorsRgb.CoreRed50),lt]:[rt(at.ColorsRgb.CoreRed50),lt])(e.text))),e.text)),e=>n.createElement("span",{className:lt},e.text)))),mt=({transformHidden:e})=>{const t=n.useContext(b.a.Context);return n.createElement(A.j,{"aria-hidden":E.b.invert(e),className:e.pipe(I.a.map(Object(p.c)(xt.transformHint,xt.transformHintInvisible)))},t.card.updatingSuggestion)},gt=({card:e,actions:t,isChecking:a,isCheckingGlobal:i})=>{const o=n.useContext(b.a.Context);return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:i,cardBody:Object(r.constant)(n.createElement($.j,{card:e,actions:t,isChecking:a})),cardFooter:a=>n.createElement(n.Fragment,null,n.createElement($.g,{card:e}),n.createElement("div",{className:xt.fullSentenceCardFooterBtns},n.createElement($.q,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:x.d.callOnce(()=>{t.next({type:C.b.Type.alertApply,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:C.b.getCardType(e)})})})))})},ht=({card:e,actions:t,isChecking:a,isCheckingGlobal:l,transform:c})=>{const d=n.useContext(b.a.Context),p=o.a.create(!0);return T.a.useSubscriptionTo(Object(i.pipe)(p,I.a.skip(1),I.a.tap(e=>t.next({type:C.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:l,cardBody:Object(r.constant)(n.createElement(s.a.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(St,{isNew:e.renderOptions.isNew,actions:t}),Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),n.createElement(k.b,{classes:{rendered:xt.replacement,removing:xt.replacementHidden},timeout:250,content:p.pipe(I.a.combineLatest(c,(t,a)=>Object(i.pipe)(a,u.g.fold(()=>(h.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),a=>n.createElement(tt.c,{replacements:a,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(O.a.Features.a11yContrast)})))))}),n.createElement($.k,{card:e,isChecking:a}))),cardFooter:a=>n.createElement(n.Fragment,null,n.createElement($.g,{card:e}),n.createElement(s.a.div,{className:xt.fullSentenceCardFooterBtns},n.createElement($.q,{title:c.pipe(I.a.map(u.g.fold(()=>"",e=>d.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:x.d.callOnce(()=>{t.next({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),cardType:C.b.getCardType(e)})})}),n.createElement(w.a,{className:xt.fullSentenceCardCheckbox,checked:p,name:"set-goals"},d.card.showChangesToggle)))})},ft=({card:e,actions:t,isChecking:a,isCheckingGlobal:o,transform:l})=>{const c=n.useContext(b.a.Context);return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:o,cardBody:Object(r.constant)(n.createElement(s.a.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(St,{isNew:e.renderOptions.isNew,actions:t}),Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity,className:Tt.description}))),n.createElement(k.b,{classes:{rendered:xt.replacement,removing:xt.replacementHidden},timeout:250,content:l.pipe(I.a.map(e=>n.createElement(ut,{replacement:e.value})))}),n.createElement($.k,{card:e,isChecking:a}))),cardFooter:a=>n.createElement(n.Fragment,null,n.createElement($.g,{card:e}),n.createElement(s.a.div,{className:xt.fullSentenceCardFooterBtns},n.createElement($.q,{title:c.card.todoAction(e.activeAlert.todoAction),applyMessage:"Reformat",checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:x.d.callOnce(()=>{t.next({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),cardType:C.b.getCardType(e)})})})))})},bt=({card:e,actions:t,isChecking:a,isCheckingGlobal:o,transform:l})=>{const c=Object(i.pipe)(e.userInput,u.g.getOrElse(Object(r.constant)("")));return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:o,cardBody:r=>n.createElement(n.Fragment,{key:"content"},n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(St,{isNew:e.renderOptions.isNew,actions:t}),n.createElement(s.a.div,{className:r.pipe(I.a.map(Object(p.c)(xt.transformContainerInvisible,xt.transformContainer)))},n.createElement(k.b,{classes:{rendered:xt.replacement,removing:xt.replacementHidden},timeout:250,content:l.pipe(I.a.map(u.g.fold(()=>(h.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>n.createElement(tt.e,{key:"label",gapValue:c,replacements:a,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(O.a.Features.a11yContrast),onFocus:()=>t.next({type:C.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:a=>t.next({type:C.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:a}),onApply:x.d.callOnce(()=>t.next({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),cardType:C.b.getCardType(e)}))}))))})),n.createElement(mt,{transformHidden:r}),n.createElement($.k,{card:e,isChecking:a}),Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(r.constant)(n.createElement($.g,{card:e}))})},yt=({card:e,actions:t,isChecking:a,isCheckingGlobal:p})=>{Object(m.g)(u.g.isSome(e.activeAlert.extraProperties.citationDetection),"Should contain citation detection");const g=n.useContext(b.a.Context),h=o.a.create(u.g.unsafeGet(e.activeAlert.extraProperties.citationDetection));return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:p,cardBody:Object(r.constant)(n.createElement(s.a.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(St,{isNew:e.renderOptions.isNew,actions:t}),n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),n.createElement("div",{className:Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.cozy)(()=>jt.dropdownContainer,()=>jt.minimalDropdownContainer))},n.createElement(l.a,{name:"citationStyle",label:n.createElement(s.a.div,null,h.pipe(I.a.map(e=>n.createElement("span",{className:jt.dropdownLabel,key:e},g.citation.essayDetectionCard.dropdownOptions[e],n.createElement(c.d.TriangleArrow,{className:jt.arrowIcon})))))},Object.entries(g.citation.essayDetectionCard.dropdownOptions).map(([t,a])=>n.createElement(d.a.Flat,{key:t,name:t,onClick:()=>h.set(t),textPosition:"right"},h.pipe(I.a.map(e=>t===e?n.createElement(c.d.DocumentSettings.Selected,null):n.createElement("div",{className:jt.placeholder}))),a,void 0!==g.citation.essayDetectionCard.examples[t]&&Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.cozy)(()=>n.createElement("span",{className:jt.example},g.citation.essayDetectionCard.examples[t]),()=>null)))))),n.createElement($.k,{card:e,isChecking:a}))),cardFooter:a=>n.createElement(n.Fragment,null,n.createElement($.g,{card:e}),n.createElement(s.a.div,{className:xt.fullSentenceCardFooterBtns},n.createElement($.q,{title:g.card.todoAction(e.activeAlert.todoAction),applyMessage:"Set style",checkingMessage:e.activeAlert.todoAction,checkingInProgress:a,onClick:x.d.callOnce(()=>{t.next({type:C.c.Kind.setAcademicDomainAndCitationStyle,citationStyle:h.get(),id:e.id}),t.next({type:C.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})})})))})},Ct=({card:e,actions:t,isChecking:a,isCheckingGlobal:o,transform:l})=>{const c=n.useContext(b.a.Context);return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:o,cardBody:r=>n.createElement(n.Fragment,null,n.createElement(s.a.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions,badge:n.createElement(S.a.Regular,{a11yContrast:e.renderOptions.features.has(O.a.Features.a11yContrast)},c.beta)})),n.createElement(s.a.div,{className:r.pipe(I.a.map(Object(p.c)(xt.transformContainerInvisible,xt.transformContainer)))},n.createElement(k.b,{classes:{rendered:xt.replacement,removing:xt.replacementHidden},timeout:250,content:l.pipe(I.a.map(u.g.fold(()=>(h.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>{const r=Object(i.pipe)(e.synfonySelection,u.g.getOrElse(()=>[]));return n.createElement(tt.b,{replacements:a,onClick:a=>x.d.callOnce(()=>{t.next({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a,cardType:C.b.getCardType(e),id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:r})}),onDive:(a,n)=>t.next({type:C.f.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:a,cardId:e.id,alternativeId:n,drilldownSuggestionIds:r}),onBack:()=>t.next({type:C.f.Kind.back,cardId:e.id}),selection:r,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(O.a.Features.a11yContrast)})})))})),n.createElement(mt,{transformHidden:r}),n.createElement($.k,{card:e,isChecking:a}),Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(r.constant)(n.createElement($.g,{card:e}))})},vt=({card:e,actions:t,isChecking:a,isCheckingGlobal:o,transform:l})=>{return n.createElement(Ot,{card:e,actions:t,isChecking:a,isCheckingGlobal:o,cardBody:r=>n.createElement(n.Fragment,null,n.createElement($.i,{alert:e.activeAlert,options:e.renderOptions}),n.createElement(s.a.div,{className:r.pipe(I.a.map(Object(p.c)(xt.transformContainerInvisible,xt.transformContainer)))},n.createElement(k.b,{classes:{rendered:xt.replacement,removing:xt.replacementHidden},timeout:250,content:l.pipe(I.a.map(u.g.fold(()=>(h.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),a=>n.createElement($.l,{rl:a,onClick:a=>x.d.callOnce(()=>{t.next({type:C.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:a,id:e.id,eligibleForSurvey:y.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:y.a.isEligibleForGbPrompt(e),cardType:C.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(O.a.Features.a11yContrast)}))))})),n.createElement(mt,{transformHidden:r}),n.createElement($.k,{card:e,isChecking:a}),Object(i.pipe)(e.renderOptions.layoutDensity,O.a.Density.matchOrDefault(O.a.Density.minimal)(()=>null,()=>n.createElement($.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(r.constant)(n.createElement($.g,{card:e}))})},Ot=e=>{var t,a,i;return n.createElement($.r,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(r.constant)(n.createElement($.b,{card:e.card,actions:e.actions})),mainActions:null!==(a=e.mainActions)&&void 0!==a?a:Object(r.constant)(n.createElement($.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(i=e.subActions)&&void 0!==i?i:Object(r.constant)(n.createElement($.m,{card:e.card,actions:e.actions}))}))},kt=({card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i})=>v.a.isTakeawayItem(e)?n.createElement(Ze.Full,{card:e,actions:t}):v.a.isShortenItItem(e)?n.createElement(Ve.Full,{card:e,actions:t,isChecking:a,isCheckingGlobal:r}):v.a.isToneAIItem(e)?n.createElement(et.a.Full,{card:e,actions:t,isChecking:a,isCheckingGlobal:r}):v.a.isEthicalAIItem(e)?n.createElement(j.a.Full,{card:e,actions:t,isChecking:a}):v.a.isSuggestedSnippetItem(e)?n.createElement(qe.a.Full,{card:e,actions:t,isChecking:a}):y.a.isCitationDetectionCard(e)?n.createElement(yt,{card:e,actions:t,isChecking:a,isCheckingGlobal:r}):y.a.hasTransform(e)?y.a.hasFullSentenceTransform(e)?n.createElement(ht,{card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i}):y.a.hasCitationTransform(e)?n.createElement(ft,{card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i}):y.a.hasOneGapTransform(e)?n.createElement(bt,{card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i}):y.a.hasSynfonyTransform(e)?n.createElement(Ct,{card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i}):n.createElement(vt,{card:e,actions:t,isChecking:a,isCheckingGlobal:r,transform:i}):y.a.isSimple(e)?n.createElement(gt,{card:e,actions:t,isChecking:a,isCheckingGlobal:r}):n.createElement($.s,{card:e,actions:t,isChecking:a}),St=e=>n.createElement(s.a.Fragment,null,e.isNew.pipe(I.a.map(u.g.fold(r.constNull,t=>n.createElement($.d,{type:t,actions:e.actions,key:"new-notification"}))),I.a.startWith(null))),wt={transition:`opacity ${f.a.seconds($.t)}`,transitionDelay:f.a.seconds($.t)},At={position:"absolute",top:f.a.rem(2),color:g.a.CoreNeutral40,lineHeight:f.a.rem(2),transition:`opacity ${f.a.seconds($.t)}`,transitionDelay:f.a.seconds($.t)},Et={transition:`opacity ${f.a.seconds($.t)}`},It={fontSize:f.a.rem(g.h.BodySize),lineHeight:f.a.rem(2.0625)},xt=Object.assign({},f.a.stylesheet({invisible:[$.w],transformContainer:[wt],transformContainerInvisible:[wt,$.w,{transitionDelay:"initial"}],transformHint:[At],transformHintInvisible:[At,$.w,{transitionDelay:"initial"}],replacement:[Et],replacementHidden:[Et,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[It]})),Tt=f.a.prefixedStylesheet("withCitation",{description:[{$nest:{"& a":{backgroundImage:`repeating-linear-gradient(90deg, ${g.a.CoreBlue50}, ${g.a.CoreBlue50} 1px, transparent 1px, transparent 2px, ${g.a.CoreBlue50} 2px)`,backgroundSize:"100% 1px",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",borderBottom:"none",paddingBottom:f.a.px(1)}}}]}),jt=f.a.prefixedStylesheet("withCitationDetection",{dropdownLabel:[{color:g.a.CoreBlue50,fontSize:f.a.rem(.875),fontWeight:700,lineHeight:f.a.rem(1.3125),cursor:"pointer"}],dropdownContainer:[{width:f.a.rem(18.75)}],minimalDropdownContainer:[{width:f.a.rem(10)}],arrowIcon:[{transform:"rotate(180deg)",position:"absolute",marginLeft:f.a.rem(-.5625),top:f.a.rem(-.34375),$nest:{"*":{fill:g.a.CoreBlue50}}}],placeholder:[{width:f.a.rem(2),margin:`0 ${f.a.rem(.25)} 0 0`}],example:[{display:"inline-block",marginLeft:"auto",marginRight:0,color:g.a.CoreNeutral50,fontStyle:"italic",fontSize:f.a.rem(.75),lineHeight:f.a.rem(2)}]})},lSTv:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("OA+g"),i=a("lrqh"),o=a("Xo/A");!function(e){e.empty=o.a.empty,e.applyDiff=function(e){return Object(r.flow)(o.a.applyDiffLoose(e),i.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(n||(n={}))},mHcA:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return C}));var n,r,i=a("I7vG"),o=a("FiSa"),s=a("SGhz"),l=a("24uI"),c=a("+JVj"),d=a("hoSD"),p=a("lrqh"),u=a("D9EC"),m=a("6fbX"),g=a("PrA7"),h=a("zR/0");function f(e){return null===e||d.f.isBreakWordChar(e.charCodeAt(0))}class b{constructor(e=0,t=!1){this._textLength=e,this._verify=t}pushChanges(e){o.a.isReset(e)?this._textLength=e.length:o.a.isDelta(e)&&(this._verify&&Object(s.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}}!function(e){e.create=e=>c.b.compose({id:e})}(n||(n={})),function(e){class t{registerRange(e,t){return n.create(e)(t)}deregisterRange(e){return c.b.empty}findClosestToPosition(e,t){return p.g.none}findRanges(e){return[]}widen(e){return Object(i.pipe)(e,e=>c.b.alterLeft(e,1),p.b.chain(e=>c.b.alterRight(e,1)),p.b.unsafeGet)}narrow(e){return Object(i.pipe)(e,p.g.fromPredicate(e=>c.b.size(e)>1),p.g.map(e=>Object(i.pipe)(e,e=>c.b.alterLeft(e,-1),p.b.chain(e=>c.b.alterRight(e,-1)),p.b.unsafeGet)))}}e.RangeManagerMock=t,e.mock=new t}(r||(r={}));const y=(e,t)=>{let a=0;const n=new Map;if(o.a.isFlush(e))return{affected:[],changed:[]};let r=t.length+1;return o.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,n.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(l.a.isRetain(e))a+=e.retain;else if(l.a.isInsert(e)){const i=a,o=d.a.lowerBound(t,e=>e.end<i),s=e.insert,l="string"==typeof s?s.length:1;if(a+=l,p.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,a="string"==typeof s?s.charAt(0):null;for(let r=o.value;r<t.length;++r){const o=t[r];o.start<i?o.end===i?f(a)||n.set(o.meta.id,o):(n.set(o.meta.id,o),o.end+=l):o.start===o.end&&o.end===i?f(a)||n.set(o.meta.id,o):(o.start!==i||f(e)||n.set(o.meta.id,o),o.start+=l,o.end+=l)}r>o.value&&(r=o.value)}}else if(l.a.isDelete(e)){const i=a,o=d.a.lowerBound(t,e=>e.end<=i);if(p.g.isSome(o)){const a=i+e.delete;for(let r=o.value;r<t.length;++r){const o=t[r];o.start,o.start<a?(n.set(o.meta.id,o),o.start<i?o.end=o.end-Math.min(e.delete,o.end-i):o.end<=a?(o.start=i,o.end=i):(o.start=i,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}r>o.value&&(r=o.value)}}}),{changed:t.slice(r),affected:Array.from(n.values())}};class C{constructor(e=0,t=!1,a=!1){this._enableMPTE=t,this._strictMode=a,this._log=g.Monitoring.Logging.getLogger("position_manager",g.Logging.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(g.Logging.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new h.a.Subject,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new h.a.Subject,this.widen=e=>(this._validateRange(e),Object(i.pipe)(e,e=>c.b.alterLeft(e,e.start<=0?0:1),p.b.chain(e=>c.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(i.pipe)(e,p.g.fromPredicate(e=>c.b.size(e)>1),p.g.map(e=>Object(i.pipe)(e,e=>c.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),p.b.chain(e=>c.b.alterRight(e,e.meta.increasedRight>0?-1:0)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new b(e,this._verifyState),Object(u.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=y(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const a={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return this._enableMPTE&&a.affected.length>0?this.rangeChangedMPTE.next(a.affected):(a.changed.length>0||a.affected.length>0)&&this._rangeChanged.next(a),a}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const a=n.create(e)(t);return this._validateRange(a),this._ranges.set(e,a),this._rangesArray.push(a),this._rangesArray.sort(c.b.ord.compare),a}_validateRange(e){c.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(i.pipe)(d.a.lowerBound(this._rangesArray,e=>e.end<t.end),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length&&this._rangesArray[n].meta.id!==e;)n++;return Object(m.g)(n<this._rangesArray.length&&this._rangesArray[n].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(n,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return p.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.end),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length&&this._rangesArray[n].end===e.end;)this._rangesArray[n].start===e.start&&t.push(this._rangesArray[n]),n++;return t})}findIntersections(e){const t=[];return Object(i.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.start),p.g.getOrElse(()=>this._rangesArray.length),a=>{let n=a;for(;n<this._rangesArray.length;){const a=this._rangesArray[n];a.end>e.start&&e.end>a.start&&t.push(this._rangesArray[n]),n++}return t})}findClosestToPosition(e,t){const a=this._rangesArray.filter(t);return Object(i.pipe)(d.a.lowerBound(a,t=>e>=t.end),p.g.getOrElse(()=>a.length),t=>{const n=p.g.fromNullable(a[t]),r=p.g.fromNullable(a[t-1]);return Object(i.pipe)(n,p.g.map(t=>Object(i.pipe)(r,p.g.fold(()=>t,a=>{return t.start-e<=e-a.end?t:a}))),p.g.orElse(r))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(g.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(c.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}}},nb6X:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("D57K"),i=a("a5W6"),o=a("5p8x"),s=a("fOOC"),l=a("I7vG"),c=a("gL5k"),d=a("6fbX"),p=a("lrqh");!function(e){var t,a,n;function u(e,a){var n=a.position,i=a.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return c.Rect.validate(t.match((function(){return Object(r.__assign)({top:i.y,right:i.x,bottom:i.y+o.height,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x,bottom:i.y,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x+o.width,bottom:i.y,left:i.x},o)}),(function(){return Object(r.__assign)({top:i.y,right:i.x+o.width,bottom:i.y+o.height,left:i.x},o)}))(n))}function m(t){return e.topLeft(c.Rect.Point.normalize({x:t.left,y:t.top}))}!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),function(e){e.match=function(t,a,n,r){return function(i){switch(i){case e.topRight:return t();case e.bottomRight:return a();case e.bottomLeft:return n();case e.topLeft:return r();default:return Object(d.d)(i)}}}}(t=e.Position||(e.Position={})),e.topLeft=function(e){return{position:t.topLeft,point:c.Rect.Point.normalize(e)}},e.topRight=function(e){return{position:t.topRight,point:c.Rect.Point.normalize(e)}},e.bottomRight=function(e){return{position:t.bottomRight,point:c.Rect.Point.normalize(e)}},e.bottomLeft=function(e){return{position:t.bottomLeft,point:c.Rect.Point.normalize(e)}},e.relativeTo=function(e,t){return{position:e.position,point:c.Rect.Point.relativeTo(e.point,t)}},e.empty=e.topLeft(c.Rect.Point.empty),e.toRect=u,e.fromRect=m,e.inRect=function(e,t){var a=t.point;return c.Rect.hasPoint(e,a)},e.toCss=function(e){var a=e.position,n=e.point;return t.match((function(){return{top:n.y,right:n.x}}),(function(){return{right:n.x,bottom:n.y}}),(function(){return{bottom:n.y,left:n.x}}),(function(){return{top:n.y,left:n.x}}))(a)},function(t){t.create=function(e,t){return Object(d.g)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},t.bySide=function(a,n){return c.Rect.Side.match((function(){return t.create(e.bottomLeft({x:Math.ceil(n.left),y:Math.ceil(n.top)}),e.bottomRight({x:Math.floor(n.right),y:Math.ceil(n.top)}))}),(function(){return t.create(e.topLeft({x:Math.floor(n.right),y:Math.ceil(n.top)}),e.bottomLeft({x:Math.floor(n.right),y:Math.floor(n.bottom)}))}),(function(){return t.create(e.topLeft({x:Math.ceil(n.left),y:Math.floor(n.bottom)}),e.topRight({x:Math.floor(n.right),y:Math.floor(n.bottom)}))}),(function(){return t.create(e.topRight({x:Math.ceil(n.left),y:Math.ceil(n.top)}),e.bottomRight({x:Math.ceil(n.left),y:Math.floor(n.bottom)}))}))(a)}}(a=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return o.g(Object(s.getFirstSemigroup)(),i.array)(c.Rect.Axis.toSides(e).map((function(e){return[e,a.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(t){function a(e,t){return Object(l.pipe)(c.Rect.intersection(e,t),p.g.map((function(e){var a=e.width/t.width,n=e.height/t.height,r=(Number.isNaN(a)?0:a/2)+(Number.isNaN(n)?0:n/2);return Object(d.g)(r>=0,"quality can not be negavite: ".concat(r)),Object(d.g)(r<=1,"quality can be higher than 1: ".concat(r)),r})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=a,t.byViewport=function(e,t){return{quality:Object(l.pipe)(a(e,t),p.g.getOrElse((function(){return 0})))+Object(l.pipe)(c.Rect.scale(2,t),p.b.chain(c.Rect.normalize),p.g.fromEither,p.g.chain((function(t){return a(e,t)})),p.g.getOrElse((function(){return 0}))),point:m(t)}},t.fromZone=function(e,a,n){return Object(l.pipe)(i.array.traverse(p.b.either)(n,(function(e){return u(a,e)})),p.b.chain((function(e){var t=e[0],a=e[1];return c.Rect.join(t,a)})),p.b.chain((function(e){return c.Box.placeIntoRect(a,e)})),p.b.map((function(a){return a.map((function(a){return t.byViewport(e,a)}))})))}}(n=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,a){return Object(l.pipe)(a,o.j((function(a){return n.fromZone(e,t,a)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(a){return Object(l.pipe)(a,o.n({point:n.empty,side:e},(function(a,n,r){return Object(l.pipe)(r,p.b.map((function(r){return r.filter((function(n,r){return t.toString().includes(r.toString())&&e===a})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:a}:e}),n)})),p.b.unsafeGet)}))).point}},e.preferBy=function(e,t){return function(a){return Object(l.pipe)(a,o.n({point:n.empty,side:e},(function(a,n,r){return Object(l.pipe)(r,p.b.map((function(r){return r.reduce((function(n,r,i){return r.quality>n.point.quality||r.quality===n.point.quality&&t.toString().includes(i.toString())&&e===a?{point:r,side:a}:n}),n)})),p.b.unsafeGet)}))).point}},e.preferTopMiddle=e.preferBy("top",t.middle),e.preferTopEdges=e.preferBy("top",t.edges)}(e.Selector||(e.Selector={}))}(n||(n={}))},oWeJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a("ERkP"),r=a("I7vG"),i=a("9NHN"),o=a("vOOZ"),s=a("zR/0"),l=a("lrqh"),c=a("rk+4"),d=a("GUi3"),p=a("IVzZ"),u=a("XxrX"),m=a("gOzB"),g=a("3rlE"),h=a("BugA"),f=a("0A/6"),b=a("3bJT"),y=a("RWgj"),C=a("LNSM"),v=a("UEGg"),O=a("uqkn"),k=a("E0zP"),S=a("H37f"),w=a("5z3N");const A=(e,t)=>{if(v.a.hasTone(e.activeAlert))return(e=>{const t=e.match(S.a);if(t&&t[0]){const a=l.g.fromNullable(Object(S.d)(t[0]));return l.g.some({action:e.replace(S.a,""),emojiId:a})}return l.g.none})(t);if(k.a.isToneAIItem(e)){const a=l.g.fromNullable(e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID);return l.g.some({action:t,emojiId:a})}return l.g.none},E=({text:e,className:t})=>n.createElement("div",{className:t},e),I=(e,t,a)=>{const o=O.a.miniTitle(e,t),s=Object(r.pipe)(e.activeAlert.extraProperties.vox,l.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(r.pipe)(e.logoUrl,l.g.map(e=>n.createElement(w.d,Object.assign({},Object(i.c)(t.logo),{logoUrl:e})))),action:n.createElement(w.c,Object.assign({vox:e},Object(i.c)(t.label),{isMinimalCard:!1}))}))({vox:e,theme:{logo:a.voxLogo,label:a.voxLabel}}))),c=Object(r.pipe)(A(e,o),l.g.map(({action:e,emojiId:t})=>({icon:Object(r.pipe)(t,l.g.map(e=>n.createElement(S.c,{id:e,className:Object(i.c)(a.emojiLogo).className}))),action:n.createElement(E,{text:e,className:a.wrapper})})));return Object(r.pipe)(s,l.g.orElse(c),l.g.getOrElse(()=>({icon:k.a.isTakeawayItem(e)?l.g.some(n.createElement(g.d.Megaphone,{width:16,className:a.takeawayLogo})):l.g.none,action:n.createElement(E,{text:o,className:a.wrapper})})))},x=(e,t,a)=>{const{action:i,icon:o}=I(e,t,a);return{actionComponent:i,iconComponent:Object(r.pipe)(o,l.g.fold(()=>e.renderOptions.cardVisualMode.view(u.a.CardVisualMode.match({onRegular:()=>l.g.none,onContrast:()=>l.g.fromNullable(function(e,t){return d.a.outcomeTypeMatch({correctness:n.createElement(g.d.Correctness,{className:t}),clarity:n.createElement(g.d.ClarityOutcome,{className:t}),premium:n.createElement(g.d.Star,{className:t}),engagement:n.createElement(g.d.EngagementOutcome,{className:t}),delivery:n.createElement(g.d.DeliveryOutcome,{className:t}),vox:null})(e)}(e.activeAlert.lensType,a.lensLogo))})),e=>C.a.create(l.g.some(e))))}},T=e=>e?f.a.MiniContrast:f.a.Mini,j=e=>[d.a.outcomeTypeMatch({correctness:b.a.dotCorrectness,clarity:b.a.dotClarity,premium:b.a.dotAdvanced,engagement:b.a.dotEngagement,delivery:b.a.dotDelivery,vox:b.a.dotVox})(e.lensType),y.a.cta],N=e=>Object(r.pipe)(e.freePremium,l.g.exists(e=>"unlocked"===e)),L=()=>n.createElement(g.d.PaidLink,{width:12}),P=()=>{const e=n.useContext(c.a.Context);return n.createElement(m.a.Regular,{className:y.a.newLabel},e.new)},D=e=>e.hasOwnProperty("features")&&e.features.has(u.a.Features.a11yContrast),B=e=>e.hasOwnProperty("features")&&e.features.has(u.a.Features.sduiContainerStyle);var F,$;($=F||(F={})).Bundle=({card:e,actions:t})=>{const[a]=j(e.activeAlert),s=Object(r.pipe)(e.renderOptions,D,T);return n.createElement(s,Object.assign({},Object(i.c)(y.b.wrapper,y.b.bundleContainer,y.b.dot,a),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:n.createElement(h.m,{className:y.b.alertsCounter},e.alerts.length),hideDot:N(e.activeAlert),sduiStyle:B(e.renderOptions)}),n.createElement(o.a.div,Object.assign({},Object(i.c)(y.b.miniContainer,N(e.activeAlert)?y.a.freePremiumContainer:null)),N(e.activeAlert)?n.createElement(L,null):null,n.createElement("div",{className:y.b.highlightedText},p.a.bundleTitle(e))))},$.Standard=({card:e,actions:t})=>{const a=n.useContext(c.a.Context),[d,p]=j(e.activeAlert),u=Object(r.pipe)(e.renderOptions,D,T),{actionComponent:m,iconComponent:g}=x(e,a,{wrapper:Object(i.c)(p,y.a.ctaText).className,voxLogo:Object(i.c)(y.a.cardLogo,y.b.cardLogo).className,voxLabel:y.a.cta,emojiLogo:Object(i.c)(y.a.cardLogo,y.b.cardLogo).className,lensLogo:Object(i.c)(y.a.cardLogo,y.b.cardLogo,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconStandard});return n.createElement(u,Object.assign({},Object(i.c)(y.b.wrapper,g.view(e=>l.g.isSome(e)?y.b.invisibleDot:y.b.dot),d),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,hideDot:N(e.activeAlert),sduiStyle:B(e.renderOptions)}),n.createElement(o.a.div,Object.assign({},Object(i.c)(y.b.miniContainer,N(e.activeAlert)?y.a.freePremiumContainer:null)),N(e.activeAlert)?n.createElement(L,null):null,Object(r.pipe)(g.view(l.g.toNullable)),n.createElement("div",{className:y.b.highlightedText},e.activeAlert.highlightTexts[0]),n.createElement("div",{className:y.b.middleDot},"·"),m,Object(r.pipe)(e.renderOptions.isNew,s.a.map(e=>l.g.isSome(e)?n.createElement(P,{key:"new-label"}):null))))},$.TwoLined=({card:e,actions:t})=>{const a=n.useContext(c.a.Context),[s,d]=j(e.activeAlert),p=Object(r.pipe)(e.renderOptions,D,T),{actionComponent:u,iconComponent:m}=x(e,a,{wrapper:Object(i.c)(d,y.a.ctaText,y.c.ctaText,y.c.subTitle).className,voxLogo:Object(i.c)(y.a.cardLogo,y.c.cardLogo).className,voxLabel:Object(i.c)(y.a.cta,y.c.subTitle).className,emojiLogo:Object(i.c)(y.a.cardLogo,y.c.cardLogo).className,lensLogo:Object(i.c)(y.a.cardLogo,y.c.lensIcon,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconMini});return n.createElement(p,Object.assign({},Object(i.c)(y.c.wrapper,m.view(e=>l.g.isSome(e)?y.c.invisibleDot:y.c.dot),s),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,hideDot:N(e.activeAlert),sduiStyle:B(e.renderOptions)}),n.createElement(o.a.div,Object.assign({},Object(i.c)(y.c.miniContainer,N(e.activeAlert)?y.a.freePremiumContainer:null)),N(e.activeAlert)?n.createElement(L,null):null,u,Object(r.pipe)(m.view(l.g.toNullable)),n.createElement("div",{className:y.d},e.activeAlert.highlightTexts[0])))}},qZUR:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));const n={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"},r={llamaShadowToken:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"}},"r/bb":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n,r=a("ERkP"),i=a("OA+g"),o=a("LNSM"),s=a("lrqh"),l=a("ax6a"),c=a("e12y"),d=a("ps/9"),p=a("rk+4"),u=a("+w1e");!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,a,n)=>{const r=((t,a)=>0===t.trim().length?s.g.some(a.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?s.g.some(a.nameTooLong):s.g.none)(t,n),i=((t,a)=>0===t.trim().length?s.g.some(a.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?s.g.some(a.textTooLong):s.g.none)(a,n);return s.g.isNone(r)&&s.g.isNone(i)?s.b.right(void 0):s.b.left({nameError:r,contentError:i})}}(n||(n={}));var m,g=a("bO3R"),h=a("3rlE"),f=a("wsrD"),b=a("BugA"),y=a("aIes"),C=a("xEVj"),v=a("IdhR"),O=a("yZqL"),k=a("H9T+"),S=a("HUX/");!function(e){e.Full=({card:e,actions:a,isChecking:l})=>{const c=r.useContext(p.a.Context),[d,m]=r.useState(""),[g,h]=r.useState(e.activeAlert.snippetText),[C,O]=r.useState(""),[S,w]=r.useState(""),A=Object(i.pipe)(e.activeAlert.snippetsTrigger,s.g.fold(()=>"\\",i.identity));return r.createElement(k.s,{card:e,actions:a,isChecking:l,body:r.createElement("div",null,r.createElement(k.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(b.a,{className:P.subheader},c.card.suggestedSnippet.subheader),r.createElement("div",{className:P.inputContainer},r.createElement(f.b,{name:"snippet-name",placeholder:c.card.suggestedSnippet.namePlaceholder,value:d,onChange:e=>m(e.target.value),className:P.snippetName}),C.length>0&&r.createElement(b.l,{className:P.inputError},C)),r.createElement("div",{className:P.inputContainer},r.createElement(f.c,{blockExtension:!0,name:"snippet-content",placeholder:c.card.suggestedSnippet.textPlaceholder,value:g,onChange:e=>h(e.target.value),className:P.snippetText}),S.length>0&&r.createElement(b.l,{className:P.inputError},S)),r.createElement(b.l,{className:P.explanation},c.card.suggestedSnippet.explanation(r.createElement(t,{trigger:A}))),r.createElement(k.q,{title:c.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.a.create(!1),onClick:y.d.callOnce(()=>{Object(i.pipe)(n.validate(d,g,c.card.suggestedSnippet.validationMessages),s.b.fold(({nameError:e,contentError:t})=>{Object(i.pipe)(e,s.g.fold(()=>O(""),O)),Object(i.pipe)(t,s.g.fold(()=>w(""),w))},()=>{a.next({type:u.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:d,snippetText:g}),O(""),w("")}))})})),footer:r.createElement(v.b,{key:"card-actions-details",visualState:e.visualState,className:P.more},r.createElement(b.a,null,c.card.suggestedSnippet.details(r.createElement(r.Fragment,null,A))))})};const t=({trigger:e})=>r.createElement("span",{className:P.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const a=r.useContext(p.a.Context);return C.a.useEffectOnWillUnmount(()=>{t.next({type:u.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),r.createElement(O.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:u.b.Type.mutedAlertSuccessShow}),theme:Object(S.b)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:P.successHeader},r.createElement(h.d.ValidationOk,{className:P.successIcon}),r.createElement(b.l,null,a.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:P.successAction},r.createElement(g.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:u.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},a.card.suggestedSnippet.libraryLinkCaption,r.createElement(h.d.OuterLink,null)),r.createElement(g.a.Ghost,{name:"done",onClick:()=>y.d.callOnce(()=>t.next({type:u.b.Type.switchToNext}))()},a.done))})}}(m||(m={}));const w={paddingTop:c.a.rem(.75),paddingBottom:c.a.rem(.5),letterSpacing:l.h.SubheadingLetterSpacing,fontSize:c.a.rem(l.h.SubheadingSize),lineHeight:c.a.rem(l.h.SubheadingLineHeight),color:l.h.SubheadingColor,textTransform:"uppercase"},A={fontFamily:"inherit",boxSizing:"border-box",padding:`${c.a.rem(.5)}`,fontSize:c.a.rem(.875)},E=Object.assign(Object.assign({},A),{height:c.a.rem(2.5)}),I=Object.assign(Object.assign({},A),{height:c.a.rem(8)}),x={marginBottom:c.a.rem(.5)},T={color:l.a.CoreRed50},j={display:"block",color:l.a.CoreNeutral50,marginBottom:c.a.rem(.75)},N={position:"absolute",left:c.a.rem(.5),width:c.a.rem(1),height:c.a.rem(1),minWidth:c.a.rem(1),minHeight:c.a.rem(1)},L={display:"inline-block",width:c.a.rem(1),height:c.a.rem(1),backgroundColor:l.a.CoreBlue1,borderRadius:c.a.rem(d.t),textAlign:"center"},P=c.a.stylesheet({subheader:[w],snippetName:[E],snippetText:[I],explanation:[j],successIcon:[N],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[x],inputError:[T],more:[k.y],snippetsTrigger:[L]})},rq0W:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return p}));var n,r=a("I7vG"),i=a("lrqh"),o=a("D9EC"),s=a("PrA7"),l=a("D/5U"),c=a("sWLkM");function d({from:e,transition:t,incomplete:a}){if(!a)return{};const n=u("transitionClassMapper");return Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return n.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedMainClockwise:l.a.rendered2focusedMain};case"removed":return{shade:l.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedMain,shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"focused":return{main:l.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.a.focused2successMain,shade:l.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return n.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:l.a.addedMain};case"focused":return{main:l.a.openedMain};default:return{}}}))}function p({from:e,transition:t,incomplete:a}){return a?Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return u("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedBundleMainClockwise:c.a.rendered2focusedBundleMain,shade:c.a.rendered2focusedBundleShade};case"removed":return{shade:l.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedBundleMain,shade:t.clockwise?c.a.focused2renderedBundleShadeClockwise:c.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"focused":return{main:l.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.a.focused2successMain,shade:l.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return u("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:l.a.addedMain};case"focused":return{main:l.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:a,shade:n}=e(t);return{main:i.g.fromNullable(a),shade:i.g.fromNullable(n)}}}}(n||(n={}));const u=Object(o.l)(s.Monitoring.Logging.getLogger)},sWLkM:function(e,t,a){"use strict";a.d(t,"a",(function(){return w})),a.d(t,"b",(function(){return A}));var n=a("e12y"),r=a("ps/9"),i=a("D/5U"),o=a("3bJT");const s=n.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),l=n.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),c=n.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),d=n.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),p=n.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),u=n.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=n.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),g=n.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),h=n.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),f=n.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=n.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),y={opacity:0,animation:`${s} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},C={transformOrigin:"top",animation:`${i.c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${l} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},v={transformOrigin:"top",animation:`${p} ${n.a.seconds(r.d/1500)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${l} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${c} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${d} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},O={animation:`${u} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${h} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},k={animation:`${f} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleInnerContainerSelector}`]:{animation:`${m} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{[`& .${o.b.bundleFakeCard1Selector}`]:{animation:`${g} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},[`& .${o.b.bundleFakeCard2Selector}`]:{animation:`${h} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},S={animation:`${b} ${n.a.seconds(r.d/1e3)} ${i.f} forwards`},w=n.a.stylesheet({focused2renderedBundleMain:[y],focused2renderedBundleShade:[i.e,C],focused2renderedBundleShadeClockwise:[i.e,v],rendered2focusedBundleMain:[i.d,O],rendered2focusedBundleMainClockwise:[i.d,k],rendered2focusedBundleShade:[i.e,S]}),A=new Map([[i.c,w.focused2renderedBundleShade],[p,w.focused2renderedBundleShadeClockwise],[b,w.rendered2focusedBundleShade]])},uwfv:function(e,t,a){e.exports=a.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},yA7V:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a("BbAu"),i=a("OA+g"),o=a("I7vG"),s=a("PK5a"),l=a("7b34"),c=a("lrqh"),d=a("tn8Q"),p=a("v0pb"),u=a("Xo/A"),m=a("lSTv");!function(e){let t;!function(e){e.show=l.a.getShow(r.e,p.a.show),e.eq=l.a.getEq(p.a.Id.ord,p.a.ord),e.empty=()=>l.a.empty(),e.toRegistered=function(e){return l.a.fromMutation(t=>{Object(o.pipe)(e,l.a.forEach((e,a)=>p.a.isRegistered(e)&&t.set(a,c.m.left(e)),(e,a,n)=>{p.a.isRegistered(e)?p.a.isRegistered(a)?t.set(n,c.m.both(e,a)):t.set(n,c.m.left(e)):p.a.isRegistered(a)&&t.set(n,c.m.right(a))},(e,a)=>p.a.isRegistered(e)&&t.set(a,c.m.right(e))))})},e.filter=function(e){return l.a.filter(e,(t,a)=>e(t)&&e(a),e)}}(t=e.Diff||(e.Diff={})),e.empty=u.a.iso.wrap(u.a.empty),e.eq=s.getEq(u.a.eqShow),e.show=u.a.eqShow,e.get=function(e){return Object(i.flow)(u.a.iso.unwrap,u.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(u.a.iso.unwrap,u.a.reduce(e,t))},e.diff=function(e,t){return u.a.diff(u.a.iso.unwrap(e),u.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===u.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(u.a.iso.unwrap,u.a.find(e))},e.size=function(){return Object(i.flow)(u.a.iso.unwrap,u.a.size)},e.from=function(e){return Object(o.pipe)(u.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,p.a.create(t)),new Map)}),d.a.recover(i.constVoid),m.a.applyDiff,c.j.map(Object(i.flow)(d.a.recover(i.constVoid),u.a.iso.wrap)))(u.a.empty)}}(n||(n={}))},yZqL:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("ERkP"),r=a("vOOZ"),i=a("9NHN"),o=a("xEVj"),s=a("zR/0"),l=a("gy42"),c=a("lrqh"),d=a("e12y"),p=a("rk+4"),u=a("rq0W"),m=a("3bJT");const g=e=>{const{shade:t}=Object(u.c)(e.visualState),a=n.useContext(p.a.Context),{rect:d,onMount:m}=o.a.useRectWatcher(),g=d.pipe(s.a.map(c.g.exists(e=>e.height>0)));n.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const h=e.theme||{};return n.createElement(r.a.div,{className:h.container},e.header,n.createElement(r.a.div,{className:h.innerContainer},n.createElement(r.a.div,Object.assign({},Object(i.c)(k.wrapper,h.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),n.createElement(r.a.div,Object.assign({},Object(i.c)(k.grid,h.content)),n.createElement(r.a.div,Object.assign({role:"region","aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${a.card.description}: ${e}`))},Object(i.c)(k.mainContent,h.contentBody)),e.body),Boolean(e.footer)?n.createElement(r.a.div,{role:"complementary",mount:m,"aria-hidden":l.b.invert(g),"aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${a.card.more}: ${e}`)),className:k.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?n.createElement(r.a.nav,{"aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${a.card.cardActions}: ${e}`)),className:k.actions},e.subActions,n.createElement("div",{className:k.spacerOne}),e.navigation,n.createElement("div",{className:k.spacerFloat}),e.mainActions):null)),e.extra))},h={position:"relative"},f={padding:`${d.a.rem(1)} ${d.a.rem(.5)} ${d.a.rem(.75)} ${d.a.rem(1)}`},b={padding:`0 ${d.a.rem(.5)} 0 ${d.a.rem(1)}`,$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},y={padding:`0 ${d.a.rem(.5)} 0 ${d.a.rem(1)}`,$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},C={display:"flex",marginLeft:d.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},v={width:d.a.rem(1),flexShrink:1},O={$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},k=Object.assign(Object.assign({},d.a.stylesheet({mainContent:[b],footerContent:[y],actions:[C],spacerOne:[v],spacerFloat:[{flex:1}],grid:[O]})),{fullCard:d.a.joinClasses([m.b.fullCardSelector,d.a.style(h)]),wrapper:d.a.joinClasses([m.b.fullCardSelector,d.a.style(h,f)])})}}]);